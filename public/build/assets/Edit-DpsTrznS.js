import{T as U,i as l,o as r,g as b,f as t,u as o,Z as w,e as g,l as v,A as y,q as _,v as d,k as p,z as u,t as a,x as q,F as x,m as k}from"./vendor-d19pJyVS.js";import{_ as E}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./utils-Dq7h7Pqt.js";const N={class:"max-w-5xl mx-auto p-6"},j={class:"flex items-center justify-between mb-6"},C={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},M={key:0,class:"text-red-600 text-sm"},I={key:0,class:"text-red-600 text-sm"},S={key:0,class:"text-red-600 text-sm"},A={key:0,class:"text-red-600 text-sm"},B={key:1,class:"mt-2"},D=["src"],F={key:0,class:"text-red-600 text-sm"},O=["value"],T={key:0,class:"text-red-600 text-sm"},P=["value"],z={key:0,class:"text-red-600 text-sm"},G={class:"md:col-span-2"},J={class:"md:col-span-2"},L={class:"md:col-span-2"},Z={class:"pt-4 flex gap-3"},$=["disabled"],H={__name:"Edit",props:{equipo:{type:Object,required:!0},estados:{type:Array,default:()=>[]},condiciones:{type:Array,default:()=>[]}},setup(c){const n=c,f=(m,e)=>{if(m==null||m==="")return e;if(typeof m=="object")return m;try{return JSON.parse(m)}catch{return e}},s=U({codigo:n.equipo.codigo??"",nombre:n.equipo.nombre??"",marca:n.equipo.marca??"",modelo:n.equipo.modelo??"",numero_serie:n.equipo.numero_serie??"",descripcion:n.equipo.descripcion??"",especificaciones:f(n.equipo.especificaciones,{}),imagen:null,precio_renta_mensual:n.equipo.precio_renta_mensual??"",precio_compra:n.equipo.precio_compra??"",fecha_adquisicion:n.equipo.fecha_adquisicion??"",estado:n.equipo.estado??"disponible",condicion:n.equipo.condicion??"bueno",ubicacion_fisica:n.equipo.ubicacion_fisica??"",notas:n.equipo.notas??"",accesorios:f(n.equipo.accesorios,[]),fecha_garantia:n.equipo.fecha_garantia??"",proveedor:n.equipo.proveedor??""}),V=()=>{s.put(route("equipos.update",n.equipo.id))};return(m,e)=>(r(),l(x,null,[b(o(w),{title:`Editar Equipo #${c.equipo.id}`},null,8,["title"]),t("div",N,[t("div",j,[e[15]||(e[15]=t("h1",{class:"text-2xl font-bold"},"Editar Equipo",-1)),b(o(y),{href:m.route("equipos.index"),class:"text-indigo-600 hover:underline"},{default:g(()=>e[14]||(e[14]=[v("Volver")])),_:1},8,["href"])]),t("form",{onSubmit:_(V,["prevent"]),class:"bg-white rounded-xl border p-6 space-y-4"},[t("div",C,[t("div",null,[e[16]||(e[16]=t("label",{class:"block text-sm font-medium"},"Código *",-1)),d(t("input",{"onUpdate:modelValue":e[0]||(e[0]=i=>o(s).codigo=i),type:"text",class:"mt-1 input"},null,512),[[u,o(s).codigo]]),o(s).errors.codigo?(r(),l("div",M,a(o(s).errors.codigo),1)):p("",!0)]),t("div",null,[e[17]||(e[17]=t("label",{class:"block text-sm font-medium"},"Nombre *",-1)),d(t("input",{"onUpdate:modelValue":e[1]||(e[1]=i=>o(s).nombre=i),type:"text",class:"mt-1 input"},null,512),[[u,o(s).nombre]]),o(s).errors.nombre?(r(),l("div",I,a(o(s).errors.nombre),1)):p("",!0)]),t("div",null,[e[18]||(e[18]=t("label",{class:"block text-sm font-medium"},"Marca",-1)),d(t("input",{"onUpdate:modelValue":e[2]||(e[2]=i=>o(s).marca=i),type:"text",class:"mt-1 input"},null,512),[[u,o(s).marca]])]),t("div",null,[e[19]||(e[19]=t("label",{class:"block text-sm font-medium"},"Modelo",-1)),d(t("input",{"onUpdate:modelValue":e[3]||(e[3]=i=>o(s).modelo=i),type:"text",class:"mt-1 input"},null,512),[[u,o(s).modelo]])]),t("div",null,[e[20]||(e[20]=t("label",{class:"block text-sm font-medium"},"Número de serie",-1)),d(t("input",{"onUpdate:modelValue":e[4]||(e[4]=i=>o(s).numero_serie=i),type:"text",class:"mt-1 input"},null,512),[[u,o(s).numero_serie]]),o(s).errors.numero_serie?(r(),l("div",S,a(o(s).errors.numero_serie),1)):p("",!0)]),t("div",null,[e[21]||(e[21]=t("label",{class:"block text-sm font-medium"},"Imagen",-1)),t("input",{onInput:e[5]||(e[5]=i=>o(s).imagen=i.target.files[0]),type:"file",accept:"image/*",class:"mt-1 input"},null,32),o(s).errors.imagen?(r(),l("div",A,a(o(s).errors.imagen),1)):p("",!0),c.equipo.imagen?(r(),l("div",B,[t("img",{src:"/storage/"+c.equipo.imagen,alt:"Imagen actual",class:"w-20 h-20 object-cover rounded"},null,8,D)])):p("",!0)]),t("div",null,[e[22]||(e[22]=t("label",{class:"block text-sm font-medium"},"Precio renta mensual *",-1)),d(t("input",{"onUpdate:modelValue":e[6]||(e[6]=i=>o(s).precio_renta_mensual=i),type:"number",step:"0.01",class:"mt-1 input"},null,512),[[u,o(s).precio_renta_mensual]]),o(s).errors.precio_renta_mensual?(r(),l("div",F,a(o(s).errors.precio_renta_mensual),1)):p("",!0)]),t("div",null,[e[23]||(e[23]=t("label",{class:"block text-sm font-medium"},"Precio compra",-1)),d(t("input",{"onUpdate:modelValue":e[7]||(e[7]=i=>o(s).precio_compra=i),type:"number",step:"0.01",class:"mt-1 input"},null,512),[[u,o(s).precio_compra]])]),t("div",null,[e[24]||(e[24]=t("label",{class:"block text-sm font-medium"},"Fecha adquisición",-1)),d(t("input",{"onUpdate:modelValue":e[8]||(e[8]=i=>o(s).fecha_adquisicion=i),type:"date",class:"mt-1 input"},null,512),[[u,o(s).fecha_adquisicion]])]),t("div",null,[e[25]||(e[25]=t("label",{class:"block text-sm font-medium"},"Estado *",-1)),d(t("select",{"onUpdate:modelValue":e[9]||(e[9]=i=>o(s).estado=i),class:"mt-1 input"},[(r(!0),l(x,null,k(c.estados,i=>(r(),l("option",{key:i,value:i},a(i),9,O))),128))],512),[[q,o(s).estado]]),o(s).errors.estado?(r(),l("div",T,a(o(s).errors.estado),1)):p("",!0)]),t("div",null,[e[26]||(e[26]=t("label",{class:"block text-sm font-medium"},"Condición *",-1)),d(t("select",{"onUpdate:modelValue":e[10]||(e[10]=i=>o(s).condicion=i),class:"mt-1 input"},[(r(!0),l(x,null,k(c.condiciones,i=>(r(),l("option",{key:i,value:i},a(i),9,P))),128))],512),[[q,o(s).condicion]]),o(s).errors.condicion?(r(),l("div",z,a(o(s).errors.condicion),1)):p("",!0)]),t("div",G,[e[27]||(e[27]=t("label",{class:"block text-sm font-medium"},"Descripción",-1)),d(t("textarea",{"onUpdate:modelValue":e[11]||(e[11]=i=>o(s).descripcion=i),rows:"3",class:"mt-1 input"},null,512),[[u,o(s).descripcion]])]),t("div",J,[e[28]||(e[28]=t("label",{class:"block text-sm font-medium"},"Ubicación física",-1)),d(t("input",{"onUpdate:modelValue":e[12]||(e[12]=i=>o(s).ubicacion_fisica=i),type:"text",class:"mt-1 input"},null,512),[[u,o(s).ubicacion_fisica]])]),t("div",L,[e[29]||(e[29]=t("label",{class:"block text-sm font-medium"},"Notas",-1)),d(t("textarea",{"onUpdate:modelValue":e[13]||(e[13]=i=>o(s).notas=i),rows:"3",class:"mt-1 input"},null,512),[[u,o(s).notas]])])]),t("div",Z,[t("button",{type:"submit",disabled:o(s).processing,class:"px-4 py-2 rounded bg-indigo-600 text-white hover:bg-indigo-700"}," Guardar cambios ",8,$),b(o(y),{href:m.route("equipos.index"),class:"px-4 py-2 rounded bg-gray-200 hover:bg-gray-300"},{default:g(()=>e[30]||(e[30]=[v(" Cancelar ")])),_:1},8,["href"])])],32)])],64))}},W=E(H,[["__scopeId","data-v-bd530da8"]]);export{W as default};
