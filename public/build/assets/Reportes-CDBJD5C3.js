import{r as c,i as a,o as d,g as v,f as e,u as b,Z as U,e as E,l as V,A,v as m,x as y,F as u,m as x,t as o,z as H,s as S,k as p,n as q}from"./vendor-d19pJyVS.js";import{A as z}from"./AppLayout-CcnrZQKI.js";import"./utils-Dq7h7Pqt.js";import"./app-BcT2PLJy.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";const F={class:"flex items-center justify-between mb-6"},T={class:"flex gap-3"},B={class:"grid grid-cols-1 lg:grid-cols-4 gap-6"},L={class:"lg:col-span-1"},P={class:"bg-white rounded-lg shadow-sm border p-6 sticky top-6"},G={class:"mb-6"},O=["value"],$={class:"mb-6"},I={class:"space-y-2"},X={class:"mb-6"},J={class:"mb-6"},Z={class:"space-y-3"},K={class:"lg:col-span-3"},Q={class:"bg-white rounded-lg shadow-sm border"},W={class:"p-6 border-b"},Y={class:"text-xl font-semibold"},ee={class:"text-gray-600"},te={class:"text-sm text-gray-500 mt-2"},se={class:"p-6"},oe={key:0,class:"space-y-6"},ie={class:"grid grid-cols-2 md:grid-cols-4 gap-4"},ne={class:"text-center p-4 bg-blue-50 rounded-lg"},ae={class:"text-2xl font-bold text-blue-600"},de={class:"text-center p-4 bg-green-50 rounded-lg"},le={class:"text-2xl font-bold text-green-600"},re={class:"text-center p-4 bg-yellow-50 rounded-lg"},ce={class:"text-2xl font-bold text-yellow-600"},me={class:"text-center p-4 bg-red-50 rounded-lg"},ue={class:"text-2xl font-bold text-red-600"},xe={class:"overflow-x-auto"},pe={class:"min-w-full divide-y divide-gray-200"},ge={class:"bg-white divide-y divide-gray-200"},ve={class:"px-6 py-4"},be={class:"font-medium text-gray-900"},ye={class:"text-sm text-gray-500"},_e={class:"px-6 py-4"},fe={class:"px-6 py-4"},he={class:"text-sm text-gray-900"},we={class:"px-6 py-4"},ke={class:"text-sm text-gray-900"},Re={class:"px-6 py-4"},Me={class:"text-sm font-medium"},Ce={key:1,class:"space-y-6"},De={class:"grid grid-cols-1 md:grid-cols-3 gap-4"},Ee={class:"text-center p-4 bg-red-50 rounded-lg"},Ve={class:"text-2xl font-bold text-red-600"},Ae={class:"text-center p-4 bg-orange-50 rounded-lg"},He={class:"text-2xl font-bold text-orange-600"},Se={class:"text-center p-4 bg-green-50 rounded-lg"},je={class:"text-2xl font-bold text-green-600"},Ne={class:"space-y-3"},Ue={class:"flex items-center justify-between"},qe={class:"font-medium text-red-800"},ze={class:"text-sm text-red-600"},Fe={class:"text-sm text-red-700"},Te={class:"text-right"},Be={class:"text-sm font-medium text-red-800"},Le={class:"text-sm text-red-600"},Pe={key:2,class:"space-y-6"},Ge={class:"grid grid-cols-1 md:grid-cols-3 gap-4"},Oe={class:"text-center p-4 bg-blue-50 rounded-lg"},$e={class:"text-2xl font-bold text-blue-600"},Ie={class:"text-center p-4 bg-purple-50 rounded-lg"},Xe={class:"text-2xl font-bold text-purple-600"},Je={class:"text-center p-4 bg-green-50 rounded-lg"},Ze={class:"text-2xl font-bold text-green-600"},Ke={class:"space-y-3"},Qe={class:"font-medium"},We={class:"text-sm text-gray-600"},Ye={class:"text-right"},et={class:"font-medium"},tt={class:"text-sm text-gray-600"},st={key:3,class:"text-center py-12"},lt=Object.assign({layout:z},{__name:"Reportes",props:{herramientas:{type:Array,default:()=>[]},estadisticas:{type:Object,default:()=>({})}},setup(i){const l=c("general"),_=c(""),f=c(""),h=c(""),w=c(""),g=[{id:"general",nombre:"Reporte General",descripcion:"Resumen completo del estado de herramientas"},{id:"mantenimiento",nombre:"Reporte de Mantenimiento",descripcion:"Herramientas que requieren mantenimiento"},{id:"uso",nombre:"Reporte de Uso",descripcion:"Estadísticas de uso y asignaciones"},{id:"categoria",nombre:"Reporte por Categoría",descripcion:"Análisis por categorías de herramientas"},{id:"vida_util",nombre:"Reporte de Vida Útil",descripcion:"Herramientas próximas a vencer su vida útil"}],k=n=>n?new Date(n).toLocaleDateString("es-ES"):"N/A",R=n=>n?new Intl.NumberFormat("es-MX",{style:"currency",currency:"MXN"}).format(n):"$0.00",j=n=>({disponible:"bg-green-100 text-green-800",asignada:"bg-blue-100 text-blue-800",mantenimiento:"bg-yellow-100 text-yellow-800",baja:"bg-red-100 text-red-800",perdida:"bg-red-100 text-red-800"})[n]||"bg-gray-100 text-gray-800",N=()=>{console.log("Generando reporte:",l.value)},M=n=>{console.log("Exportando reporte en formato:",n)};return(n,t)=>{var C,D;return d(),a(u,null,[v(b(U),{title:"Reportes de Herramientas"}),e("div",F,[t[9]||(t[9]=e("h1",{class:"text-3xl font-bold text-slate-900"},"Reportes de Herramientas",-1)),e("div",T,[v(b(A),{class:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",href:n.route("herramientas.dashboard")},{default:E(()=>t[7]||(t[7]=[V(" Dashboard ")])),_:1},8,["href"]),v(b(A),{class:"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700",href:n.route("herramientas.index")},{default:E(()=>t[8]||(t[8]=[V(" Ver Herramientas ")])),_:1},8,["href"])])]),e("div",B,[e("div",L,[e("div",P,[t[16]||(t[16]=e("h2",{class:"text-xl font-semibold mb-4"},"Configuración de Reporte",-1)),e("div",G,[t[10]||(t[10]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Tipo de Reporte",-1)),m(e("select",{"onUpdate:modelValue":t[0]||(t[0]=s=>l.value=s),class:"w-full border rounded px-3 py-2"},[(d(),a(u,null,x(g,s=>e("option",{key:s.id,value:s.id},o(s.nombre),9,O)),64))],512),[[y,l.value]])]),e("div",$,[t[11]||(t[11]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Período",-1)),e("div",I,[m(e("input",{"onUpdate:modelValue":t[1]||(t[1]=s=>_.value=s),type:"date",placeholder:"Fecha inicio",class:"w-full border rounded px-3 py-2"},null,512),[[H,_.value]]),m(e("input",{"onUpdate:modelValue":t[2]||(t[2]=s=>f.value=s),type:"date",placeholder:"Fecha fin",class:"w-full border rounded px-3 py-2"},null,512),[[H,f.value]])])]),e("div",X,[t[13]||(t[13]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Categoría",-1)),m(e("select",{"onUpdate:modelValue":t[3]||(t[3]=s=>h.value=s),class:"w-full border rounded px-3 py-2"},t[12]||(t[12]=[S('<option value="">Todas las categorías</option><option value="electrica">Eléctrica</option><option value="manual">Manual</option><option value="medicion">Medición</option><option value="seguridad">Seguridad</option><option value="limpieza">Limpieza</option><option value="jardineria">Jardinería</option><option value="construccion">Construcción</option><option value="electronica">Electrónica</option><option value="otra">Otra</option>',10)]),512),[[y,h.value]])]),e("div",J,[t[15]||(t[15]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Estado",-1)),m(e("select",{"onUpdate:modelValue":t[4]||(t[4]=s=>w.value=s),class:"w-full border rounded px-3 py-2"},t[14]||(t[14]=[S('<option value="">Todos los estados</option><option value="disponible">Disponible</option><option value="asignada">Asignada</option><option value="mantenimiento">En Mantenimiento</option><option value="baja">De Baja</option><option value="perdida">Perdida</option>',6)]),512),[[y,w.value]])]),e("div",Z,[e("button",{onClick:N,class:"w-full px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700"}," Generar Reporte "),e("button",{onClick:t[5]||(t[5]=s=>M("pdf")),class:"w-full px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700"}," Exportar PDF "),e("button",{onClick:t[6]||(t[6]=s=>M("excel")),class:"w-full px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700"}," Exportar Excel ")])])]),e("div",K,[e("div",Q,[e("div",W,[e("h2",Y,o((C=g.find(s=>s.id===l.value))==null?void 0:C.nombre),1),e("p",ee,o((D=g.find(s=>s.id===l.value))==null?void 0:D.descripcion),1),e("p",te,"Generado el: "+o(k(new Date)),1)]),e("div",se,[l.value==="general"?(d(),a("div",oe,[e("div",ie,[e("div",ne,[e("div",ae,o(i.estadisticas.total_herramientas||0),1),t[17]||(t[17]=e("div",{class:"text-sm text-gray-600"},"Total Herramientas",-1))]),e("div",de,[e("div",le,o(i.estadisticas.herramientas_disponibles||0),1),t[18]||(t[18]=e("div",{class:"text-sm text-gray-600"},"Disponibles",-1))]),e("div",re,[e("div",ce,o(i.estadisticas.herramientas_mantenimiento||0),1),t[19]||(t[19]=e("div",{class:"text-sm text-gray-600"},"En Mantenimiento",-1))]),e("div",me,[e("div",ue,o(i.estadisticas.herramientas_requieren_mantenimiento||0),1),t[20]||(t[20]=e("div",{class:"text-sm text-gray-600"},"Requieren Mant.",-1))])]),e("div",null,[t[22]||(t[22]=e("h3",{class:"text-lg font-semibold mb-3"},"Lista de Herramientas",-1)),e("div",xe,[e("table",pe,[t[21]||(t[21]=e("thead",{class:"bg-gray-50"},[e("tr",null,[e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Herramienta"),e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Estado"),e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Categoría"),e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Último Mant."),e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Costo")])],-1)),e("tbody",ge,[(d(!0),a(u,null,x(i.herramientas,s=>{var r;return d(),a("tr",{key:s.id},[e("td",ve,[e("div",null,[e("div",be,o(s.nombre),1),e("div",ye,o(s.numero_serie),1)])]),e("td",_e,[e("span",{class:q(["px-2 py-1 text-xs font-medium rounded-full",j(s.estado)])},o(s.estado),3)]),e("td",fe,[e("span",he,o(((r=s.categoria_herramienta)==null?void 0:r.nombre)||"Sin categoría"),1)]),e("td",we,[e("span",ke,o(k(s.fecha_ultimo_mantenimiento)),1)]),e("td",Re,[e("span",Me,o(R(s.costo_reemplazo)),1)])])}),128))])])])])])):p("",!0),l.value==="mantenimiento"?(d(),a("div",Ce,[e("div",De,[e("div",Ee,[e("div",Ve,o(i.herramientas.filter(s=>s.necesita_mantenimiento).length),1),t[23]||(t[23]=e("div",{class:"text-sm text-gray-600"},"Requieren Mant. Urgente",-1))]),e("div",Ae,[e("div",He,o(i.herramientas.filter(s=>s.dias_para_proximo_mantenimiento<=30&&s.dias_para_proximo_mantenimiento>0).length),1),t[24]||(t[24]=e("div",{class:"text-sm text-gray-600"},"Próximo Mes",-1))]),e("div",Se,[e("div",je,o(i.herramientas.filter(s=>!s.requiere_mantenimiento).length),1),t[25]||(t[25]=e("div",{class:"text-sm text-gray-600"},"Al Día",-1))])]),e("div",null,[t[26]||(t[26]=e("h3",{class:"text-lg font-semibold mb-3"},"Herramientas que Requieren Mantenimiento",-1)),e("div",Ne,[(d(!0),a(u,null,x(i.herramientas.filter(s=>s.necesita_mantenimiento),s=>{var r;return d(),a("div",{key:s.id,class:"p-4 border border-red-200 rounded-lg bg-red-50"},[e("div",Ue,[e("div",null,[e("h4",qe,o(s.nombre),1),e("p",ze,o(s.numero_serie),1),e("p",Fe," Días desde último mantenimiento: "+o(s.dias_desde_ultimo_mantenimiento||"N/A"),1)]),e("div",Te,[e("div",Be,o(R(s.costo_reemplazo)),1),e("div",Le,o(((r=s.categoria_herramienta)==null?void 0:r.nombre)||"Sin categoría"),1)])])])}),128))])])])):p("",!0),l.value==="uso"?(d(),a("div",Pe,[e("div",Ge,[e("div",Oe,[e("div",$e,o(i.herramientas.filter(s=>s.estado==="asignada").length),1),t[27]||(t[27]=e("div",{class:"text-sm text-gray-600"},"Actualmente Asignadas",-1))]),e("div",Ie,[e("div",Xe,o(i.estadisticas.total_asignaciones||0),1),t[28]||(t[28]=e("div",{class:"text-sm text-gray-600"},"Total Asignaciones",-1))]),e("div",Je,[e("div",Ze,o(i.estadisticas.promedio_dias_uso||0),1),t[29]||(t[29]=e("div",{class:"text-sm text-gray-600"},"Promedio Días Uso",-1))])]),e("div",null,[t[30]||(t[30]=e("h3",{class:"text-lg font-semibold mb-3"},"Herramientas Más Utilizadas",-1)),e("div",Ke,[(d(!0),a(u,null,x(i.herramientas.slice(0,10),s=>{var r;return d(),a("div",{key:s.id,class:"flex items-center justify-between p-3 bg-gray-50 rounded-lg"},[e("div",null,[e("h4",Qe,o(s.nombre),1),e("p",We,o(s.numero_serie),1)]),e("div",Ye,[e("div",et,o(((r=s.estadisticas)==null?void 0:r.total_asignaciones)||0)+" asignaciones",1),e("div",tt,o(s.estado),1)])])}),128))])])])):p("",!0),["categoria","vida_util"].includes(l.value)?(d(),a("div",st,t[31]||(t[31]=[e("svg",{class:"w-16 h-16 text-gray-400 mx-auto mb-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 17v-2m3 2v-4m3 4v-6m2 10H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V17a2 2 0 01-2 2z"})],-1),e("h3",{class:"text-lg font-medium text-gray-900 mb-2"},"Reporte en Desarrollo",-1),e("p",{class:"text-gray-600"},"Esta funcionalidad estará disponible próximamente.",-1)]))):p("",!0)])])])])],64)}}});export{lt as default};
