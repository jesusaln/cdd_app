import{Q as H,c as b,i as l,o as n,g as r,e as x,b as B,k as f,G as $,u as d,A as E,f as e,Z as M,t as o,l as u,F as y,m as p,n as C}from"./vendor-d19pJyVS.js";import{F as c}from"./app-BcT2PLJy.js";import{A as I}from"./AppLayout-CcnrZQKI.js";import"./utils-Dq7h7Pqt.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";const g={__name:"PanLink",props:{href:{type:String,required:!0},icon:{type:String,default:null}},setup(a){const m=a,i=H();b(()=>i.url.startsWith(m.href));const k=b(()=>["fas",m.icon]);return(N,v)=>(n(),l("li",null,[r(d(E),{href:a.href,class:"flex items-center p-4 transition-colors duration-200"},{default:x(()=>[a.icon?(n(),B(d(c),{key:0,icon:k.value,class:"mr-3"},null,8,["icon"])):f("",!0),$(N.$slots,"default")]),_:3},8,["href"])]))}},T={class:"container mx-auto px-6 py-10"},F={class:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-5 gap-8"},G={class:"flex flex-col items-center justify-center space-y-2"},L={class:"text-xl font-bold text-gray-900"},q={class:"text-sm text-gray-600"},z={class:"flex flex-col items-center justify-center space-y-2"},O={class:"text-xl font-bold text-gray-900"},Q={class:"text-sm text-gray-600"},U={class:"flex flex-col items-center justify-center space-y-2"},W={class:"text-xl font-bold text-gray-900"},X={class:"text-sm text-gray-600"},Y={class:"flex flex-col items-center justify-center space-y-2"},Z={class:"text-xl font-bold text-gray-900"},J={class:"text-sm text-gray-600"},K={class:"flex flex-col items-center justify-center space-y-2"},R={class:"text-xl font-bold text-gray-900"},ee={class:"text-sm text-gray-600"},te={key:0,class:"text-red-600 font-medium"},se={key:1,class:"text-orange-600 font-medium"},oe={key:2,class:"text-green-600"},re={class:"mt-8 grid grid-cols-1 md:grid-cols-3 gap-8"},ae={key:0,class:"bg-white p-6 rounded-2xl shadow-lg border-l-8 border-red-500 flex flex-col justify-between items-start text-left"},ne={class:"w-full"},le={class:"flex items-center mb-4"},ie={class:"text-base text-gray-700 mb-4"},de={class:"text-gray-700 space-y-1 list-none"},ce={key:1,class:"bg-white p-6 rounded-2xl shadow-lg border-l-8 border-amber-500 flex flex-col justify-between items-start text-left"},ue={class:"w-full"},me={class:"flex items-center mb-4"},xe={class:"text-base text-gray-700 mb-4"},fe={class:"text-gray-700 space-y-2 list-none"},ge={class:"font-medium"},he={class:"text-sm text-gray-600"},be={class:"text-sm text-gray-600"},ye={key:0,class:"text-sm"},pe={key:2,class:"bg-white p-6 rounded-2xl shadow-lg border-l-8 border-green-500 flex flex-col justify-between items-start text-left"},ve={class:"w-full"},_e={class:"flex items-center mb-4"},we={class:"text-base text-gray-700 mb-4"},Ce={class:"text-gray-700 space-y-2 list-none"},ke={class:"font-medium"},Ne={class:"text-sm text-gray-600"},je={class:"text-sm text-gray-600"},De={class:"text-sm text-gray-600"},Pe={key:3,class:"bg-white p-6 rounded-2xl shadow-lg border-l-8 border-red-500 flex flex-col justify-between items-start text-left"},Ae={class:"w-full"},Se={class:"flex items-center mb-4"},Ve={class:"text-base text-gray-700 mb-4"},He={key:0,class:"text-red-600 font-bold"},Be={key:1,class:"text-orange-600 font-bold"},$e={key:0,class:"space-y-2"},Ee={class:"text-gray-700 space-y-2 list-none"},Me={class:"font-medium"},Ie={class:"text-sm text-gray-600"},Te={class:"text-sm text-red-600 font-medium"},Fe={key:0,class:"text-sm text-gray-500 mt-2"},Ge={key:0,class:"mt-8 bg-white p-6 rounded-2xl shadow-lg border-l-8 border-blue-500"},Le={class:"flex items-center mb-4"},qe={class:"text-base text-gray-700 mb-4"},ze={class:"space-y-2"},Oe={class:"flex flex-col text-left flex-1"},Qe={class:"font-semibold text-lg text-gray-900 mb-1"},Ue={class:"text-sm text-gray-700"},We={class:"text-sm text-gray-700"},Xe={class:"mt-2"},Ye={class:"text-right"},Ze={class:"text-base font-medium text-blue-600 mb-1"},Je="/clientes",Ke="/productos",Re="/productos?stock=low",et="/proveedores",tt="/ordenescompra?estado=pendiente",st="/ordenescompra?estado=enviado_a_proveedor",A="/citas",S="/mantenimientos",it=Object.assign({layout:I},{__name:"Panel",props:{clientesCount:{type:Number,default:0},clientesNuevosCount:{type:Number,default:0},productosCount:{type:Number,default:0},productosBajoStockCount:{type:Number,default:0},productosBajoStockNombres:{type:Array,default:()=>[]},proveedoresCount:{type:Number,default:0},proveedoresPedidosPendientesCount:{type:Number,default:0},ordenesPendientesDetalles:{type:Array,default:()=>[]},ordenesEnviadasCount:{type:Number,default:0},ordenesEnviadasDetalles:{type:Array,default:()=>[]},citasCount:{type:Number,default:0},citasHoyCount:{type:Number,default:0},citasHoyDetalles:{type:Array,default:()=>[]},mantenimientosCount:{type:Number,default:0},mantenimientosVencidosCount:{type:Number,default:0},mantenimientosCriticosCount:{type:Number,default:0},mantenimientosCriticosDetalles:{type:Array,default:()=>[]}},setup(a){const m=a,i=h=>Number(h||0).toLocaleString("es-MX"),k=h=>{switch(h){case"urgente":return"text-red-600 font-semibold";case"alta":return"text-orange-600 font-medium";case"media":return"text-yellow-600";case"baja":return"text-green-600";default:return"text-gray-600"}},N=h=>h===0?"text-green-600":h>0?"text-red-600 font-semibold":"text-gray-600",v=b(()=>Array.isArray(m.productosBajoStockNombres)?m.productosBajoStockNombres:[]),V=b(()=>Array.isArray(m.ordenesPendientesDetalles)?m.ordenesPendientesDetalles:[]),j=b(()=>Array.isArray(m.ordenesEnviadasDetalles)?m.ordenesEnviadasDetalles:[]),D=b(()=>Array.isArray(m.citasHoyDetalles)?m.citasHoyDetalles:[]),_=b(()=>Array.isArray(m.mantenimientosCriticosDetalles)?m.mantenimientosCriticosDetalles:[]);return(h,t)=>(n(),l("div",null,[r(d(M),{title:"Panel"}),e("div",T,[e("div",F,[r(g,{href:Je,class:"group bg-white p-6 rounded-2xl shadow-lg border border-gray-200 transition-all transform hover:scale-105 hover:shadow-xl text-center flex flex-col items-center justify-center h-full","aria-label":"Ir a clientes"},{default:x(()=>[e("div",G,[r(d(c),{icon:["fas","users"],class:"h-10 w-10 text-blue-600 group-hover:text-blue-700 transition-colors"}),e("h2",L," Clientes "+o(i(a.clientesCount)),1),e("p",q," Nuevos este mes: "+o(i(a.clientesNuevosCount)),1)])]),_:1}),r(g,{href:Ke,class:"group bg-white p-6 rounded-2xl shadow-lg border border-gray-200 transition-all transform hover:scale-105 hover:shadow-xl text-center flex flex-col items-center justify-center h-full","aria-label":"Ir a productos"},{default:x(()=>[e("div",z,[r(d(c),{icon:["fas","box"],class:"h-10 w-10 text-green-600 group-hover:text-green-700 transition-colors"}),e("h2",O," Productos "+o(i(a.productosCount)),1),e("p",Q," Bajo stock: "+o(i(a.productosBajoStockCount)),1)])]),_:1}),r(g,{href:et,class:"group bg-white p-6 rounded-2xl shadow-lg border border-gray-200 transition-all transform hover:scale-105 hover:shadow-xl text-center flex flex-col items-center justify-center h-full","aria-label":"Ir a proveedores"},{default:x(()=>[e("div",U,[r(d(c),{icon:["fas","truck"],class:"h-10 w-10 text-purple-600 group-hover:text-purple-700 transition-colors"}),e("h2",W," Proveedores "+o(i(a.proveedoresCount)),1),e("p",X," Con pedidos pendientes: "+o(i(a.proveedoresPedidosPendientesCount)),1)])]),_:1}),r(g,{href:A,class:"group bg-white p-6 rounded-2xl shadow-lg border border-gray-200 transition-all transform hover:scale-105 hover:shadow-xl text-center flex flex-col items-center justify-center h-full","aria-label":"Ir a citas"},{default:x(()=>[e("div",Y,[r(d(c),{icon:["fas","calendar-alt"],class:"h-10 w-10 text-orange-600 group-hover:text-orange-700 transition-colors"}),e("h2",Z," Citas "+o(i(a.citasCount)),1),e("p",J," Para hoy: "+o(i(a.citasHoyCount)),1)])]),_:1}),r(g,{href:S,class:"group bg-white p-6 rounded-2xl shadow-lg border border-gray-200 transition-all transform hover:scale-105 hover:shadow-xl text-center flex flex-col items-center justify-center h-full","aria-label":"Ir a mantenimientos"},{default:x(()=>[e("div",K,[r(d(c),{icon:["fas","wrench"],class:"h-10 w-10 text-red-600 group-hover:text-red-700 transition-colors"}),e("h2",R," Mantenimientos "+o(i(a.mantenimientosCount)),1),e("p",ee,[a.mantenimientosVencidosCount>0?(n(),l("span",te," ⚠️ "+o(i(a.mantenimientosVencidosCount))+" vencidos ",1)):a.mantenimientosCriticosCount>0?(n(),l("span",se," ⚡ "+o(i(a.mantenimientosCriticosCount))+" críticos ",1)):(n(),l("span",oe," ✅ Todos al día "))])])]),_:1})]),e("div",re,[v.value.length>0?(n(),l("div",ae,[e("div",ne,[e("div",le,[r(d(c),{icon:["fas","exclamation-triangle"],class:"h-8 w-8 text-red-600 mr-3"}),t[0]||(t[0]=e("h3",{class:"text-2xl font-extrabold text-gray-900"},"Alerta de Stock Bajo",-1))]),e("p",ie,[t[1]||(t[1]=u(" Actualmente tienes ")),e("strong",null,o(i(v.value.length))+" producto(s) con stock críticamente bajo.",1),t[2]||(t[2]=u(" Considera reponerlos pronto para evitar interrupciones. "))]),t[3]||(t[3]=e("h4",{class:"text-lg font-bold text-gray-800 mb-2"},"Productos afectados:",-1)),e("ul",de,[(n(!0),l(y,null,p(v.value,(s,w)=>(n(),l("li",{key:`low-${w}-${s}`,class:"text-base"},o(s),1))),128))])]),r(g,{href:Re,class:"mt-6 px-6 py-2 bg-red-500 text-white font-semibold rounded-lg shadow hover:bg-red-600 transition-colors duration-300 transform hover:scale-105 list-none","aria-label":"Gestionar inventario bajo en stock"},{default:x(()=>[t[4]||(t[4]=u(" Gestionar Inventario ")),r(d(c),{icon:["fas","arrow-right"],class:"ml-2"})]),_:1})])):f("",!0),a.proveedoresPedidosPendientesCount>0?(n(),l("div",ce,[e("div",ue,[e("div",me,[r(d(c),{icon:["fas","clipboard-list"],class:"h-8 w-8 text-amber-600 mr-3"}),t[5]||(t[5]=e("h3",{class:"text-2xl font-extrabold text-gray-900"},"Órdenes de Compra Pendientes",-1))]),e("p",xe,[t[6]||(t[6]=u(" Tienes ")),e("strong",null,o(i(a.proveedoresPedidosPendientesCount))+" orden(es) de compra pendientes",1),t[7]||(t[7]=u(" con proveedores. "))]),t[9]||(t[9]=e("h4",{class:"text-lg font-bold text-gray-800 mb-2"},"Detalles de órdenes:",-1)),e("ul",fe,[(n(!0),l(y,null,p(V.value,s=>(n(),l("li",{key:`oc-${s.id??s.proveedor??Math.random()}`,class:"text-base bg-gray-50 p-3 rounded-md"},[e("div",ge,o(s.proveedor??"Proveedor N/D"),1),e("div",he,[t[8]||(t[8]=u("Prioridad: ")),e("span",{class:C(k(s.prioridad))},o(s.prioridad??"N/D"),3)]),e("div",be,"Fecha esperada: "+o(s.fecha_esperada??"N/D"),1),s.dias_retraso!==null?(n(),l("div",ye,[e("span",{class:C(N(s.dias_retraso))},o(s.dias_retraso>0?`${s.dias_retraso} ${s.dias_retraso===1?"día":"días"} de retraso`:"En tiempo"),3)])):f("",!0)]))),128))])]),r(g,{href:tt,class:"mt-6 px-6 py-2 bg-amber-500 text-white font-semibold rounded-lg shadow hover:bg-amber-600 transition-colors duration-300 transform hover:scale-105 list-none","aria-label":"Ver órdenes de compra pendientes"},{default:x(()=>[t[10]||(t[10]=u(" Ver Órdenes Pendientes ")),r(d(c),{icon:["fas","arrow-right"],class:"ml-2"})]),_:1})])):f("",!0),j.value.length>0?(n(),l("div",pe,[e("div",ve,[e("div",_e,[r(d(c),{icon:["fas","paper-plane"],class:"h-8 w-8 text-green-600 mr-3"}),t[11]||(t[11]=e("h3",{class:"text-2xl font-extrabold text-gray-900"},"Órdenes de Compra Enviadas",-1))]),e("p",we,[t[12]||(t[12]=u(" Tienes ")),e("strong",null,o(i(j.value.length))+" orden(es) de compra enviada(s)",1),t[13]||(t[13]=u(" a proveedores esperando confirmación. "))]),t[14]||(t[14]=e("h4",{class:"text-lg font-bold text-gray-800 mb-2"},"Últimas órdenes enviadas:",-1)),e("ul",Ce,[(n(!0),l(y,null,p(j.value,s=>(n(),l("li",{key:`env-${s.id??s.proveedor??Math.random()}`,class:"text-base bg-gray-50 p-3 rounded-md"},[e("div",ke,o(s.proveedor??"Proveedor N/D"),1),e("div",Ne,"Total: $"+o(s.total??"N/D"),1),e("div",je,"Fecha envío: "+o(s.fecha_envio??"N/D"),1),e("div",De,"Fecha esperada: "+o(s.fecha_esperada??"N/D"),1)]))),128))])]),r(g,{href:st,class:"mt-6 px-6 py-2 bg-green-500 text-white font-semibold rounded-lg shadow hover:bg-green-600 transition-colors duration-300 transform hover:scale-105 list-none","aria-label":"Ver órdenes de compra enviadas"},{default:x(()=>[t[15]||(t[15]=u(" Ver Órdenes Enviadas ")),r(d(c),{icon:["fas","arrow-right"],class:"ml-2"})]),_:1})])):f("",!0),a.mantenimientosVencidosCount>0||a.mantenimientosCriticosCount>0?(n(),l("div",Pe,[e("div",Ae,[e("div",Se,[r(d(c),{icon:["fas","wrench"],class:"h-8 w-8 text-red-600 mr-3"}),t[16]||(t[16]=e("h3",{class:"text-2xl font-extrabold text-gray-900"},"Mantenimientos Urgentes",-1))]),e("p",Ve,[a.mantenimientosVencidosCount>0?(n(),l("span",He," ¡ATENCIÓN! "+o(i(a.mantenimientosVencidosCount))+" mantenimiento(s) vencido(s) ",1)):f("",!0),a.mantenimientosCriticosCount>0?(n(),l("span",Be,o(i(a.mantenimientosCriticosCount))+" mantenimiento(s) crítico(s) requieren atención inmediata ",1)):f("",!0)]),_.value.length>0?(n(),l("div",$e,[t[17]||(t[17]=e("h4",{class:"text-lg font-bold text-gray-800 mb-2"},"Mantenimientos críticos:",-1)),e("ul",Ee,[(n(!0),l(y,null,p(_.value.slice(0,3),s=>{var w,P;return n(),l("li",{key:`mantenimiento-${s.id??Math.random()}`,class:"text-base bg-red-50 p-3 rounded-md border-l-4 border-red-500"},[e("div",Me,o((w=s.carro)==null?void 0:w.marca)+" "+o((P=s.carro)==null?void 0:P.modelo),1),e("div",Ie,o(s.tipo),1),e("div",Te,o(s.dias_restantes<0?`${Math.abs(s.dias_restantes)} días vencido`:"Próximo a vencer"),1)])}),128))]),_.value.length>3?(n(),l("div",Fe," Y "+o(i(_.value.length-3))+" más... ",1)):f("",!0)])):f("",!0)]),r(g,{href:S,class:"mt-6 px-6 py-2 bg-red-500 text-white font-semibold rounded-lg shadow hover:bg-red-600 transition-colors duration-300 transform hover:scale-105 list-none","aria-label":"Gestionar mantenimientos urgentes"},{default:x(()=>[t[18]||(t[18]=u(" Gestionar Mantenimientos ")),r(d(c),{icon:["fas","arrow-right"],class:"ml-2"})]),_:1})])):f("",!0)]),D.value.length>0?(n(),l("div",Ge,[e("div",Le,[r(d(c),{icon:["fas","calendar-alt"],class:"h-8 w-8 text-blue-600 mr-3"}),t[19]||(t[19]=e("h3",{class:"text-2xl font-extrabold text-gray-900"},"Citas activas del día de hoy",-1))]),e("p",qe,[t[20]||(t[20]=u(" Tienes ")),e("strong",null,o(i(D.value.length))+" cita(s) activa(s)",1),t[21]||(t[21]=u(" programadas para hoy (en proceso y pendientes). "))]),e("ul",ze,[(n(!0),l(y,null,p(D.value,s=>(n(),l("li",{key:`cita-${s.id??s.titulo??Math.random()}`,class:C(["flex items-center justify-between text-gray-800 bg-gray-50 p-4 rounded-md shadow-sm border-l-4",s.estado==="en_proceso"?"border-l-blue-500":"border-l-yellow-500"])},[e("div",Oe,[e("div",Qe,o(s.titulo??"Sin título"),1),e("div",Ue,"Cliente: "+o(s.cliente??"N/D"),1),e("div",We,"Técnico: "+o(s.tecnico??"N/D"),1),e("div",Xe,[e("span",{class:C(["inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium",s.estado==="en_proceso"?"bg-blue-100 text-blue-800":"bg-yellow-100 text-yellow-800"])},[r(d(c),{icon:s.estado==="en_proceso"?["fas","cog"]:["fas","clock"],class:"w-3 h-3 mr-1"},null,8,["icon"]),u(" "+o(s.estado_label??s.estado),1)],2)])]),e("div",Ye,[e("div",Ze,o(s.hora??"—"),1),t[22]||(t[22]=e("div",{class:"text-xs text-gray-500"}," Hoy ",-1))])],2))),128))]),r(g,{href:A,class:"mt-6 inline-block px-5 py-2 bg-blue-500 text-white font-semibold rounded-lg shadow hover:bg-blue-600 transition-colors","aria-label":"Ver todas las citas"},{default:x(()=>[t[23]||(t[23]=u(" Ver todas las citas ")),r(d(c),{icon:["fas","arrow-right"],class:"ml-2"})]),_:1})])):f("",!0)])]))}});export{it as default};
