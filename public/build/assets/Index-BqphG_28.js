import{B as X,C as V,w as ce,i,o as l,f as e,l as S,t as n,v as L,z as ve,x as Z,s as G,Q as pe,p as ge,r as C,c as E,g as Q,u as me,Z as xe,k as b,F as A,m as J,n as D,q as fe,N as m}from"./vendor-d19pJyVS.js";import{A as be}from"./AppLayout-CcnrZQKI.js";import{N as ye}from"./app-BcT2PLJy.js";import"./jspdf.es.min-BE3S9W4e.js";import{a as N}from"./utils-Dq7h7Pqt.js";import{_ as K}from"./_plugin-vue_export-helper-DlAUqK2U.js";const he={class:"bg-white rounded-xl shadow-sm border border-gray-100 overflow-hidden"},we={class:"bg-gradient-to-r from-blue-50 to-indigo-50 px-6 py-6 border-b border-gray-200/60"},ke={class:"grid grid-cols-2 md:grid-cols-5 gap-4"},_e={class:"bg-white/70 rounded-lg p-4 border border-gray-200/50"},Ce={class:"flex items-center justify-between"},Me={class:"text-2xl font-bold text-gray-900"},je={class:"bg-white/70 rounded-lg p-4 border border-gray-200/50"},$e={class:"flex items-center justify-between"},Ee={class:"text-2xl font-bold text-green-600"},ze={class:"bg-white/70 rounded-lg p-4 border border-gray-200/50"},Be={class:"flex items-center justify-between"},Pe={class:"text-2xl font-bold text-orange-600"},Fe={class:"bg-white/70 rounded-lg p-4 border border-gray-200/50"},Ne={class:"flex items-center justify-between"},Se={class:"text-2xl font-bold text-red-600"},Re={class:"bg-white/70 rounded-lg p-4 border border-gray-200/50"},Ve={class:"flex items-center justify-between"},Le={class:"text-2xl font-bold text-green-600"},Ae={class:"px-6 py-4 bg-gray-50/50 border-b border-gray-200/60"},De={class:"flex flex-col md:flex-row md:items-center md:justify-between space-y-4 md:space-y-0"},Ie={class:"flex-1 max-w-md"},qe={class:"relative"},He={class:"flex items-center space-x-3"},Te={__name:"RentasHeader",props:X({total:{type:Number,default:0},activas:{type:Number,default:0},proximo_vencimiento:{type:Number,default:0},vencidas:{type:Number,default:0},ingresos_mensuales:{type:Number,default:0}},{searchTerm:{type:String,default:""},searchTermModifiers:{},sortBy:{type:String,default:"created_at-desc"},sortByModifiers:{},filtroEstado:{type:String,default:""},filtroEstadoModifiers:{}}),emits:X(["crear-nueva","search-change","filtro-estado-change","sort-change","limpiar-filtros"],["update:searchTerm","update:sortBy","update:filtroEstado"]),setup(y,{emit:c}){const M=c,d=V(y,"searchTerm"),f=V(y,"sortBy"),x=V(y,"filtroEstado"),p=F=>{const s=parseFloat(F),w=Number.isFinite(s)?s:0;return new Intl.NumberFormat("es-MX",{minimumFractionDigits:2,maximumFractionDigits:2}).format(w)},z=()=>M("crear-nueva"),k=()=>M("search-change",d.value),h=()=>M("filtro-estado-change",x.value),_=()=>M("sort-change",f.value),B=()=>M("limpiar-filtros");return ce([d,f,x],()=>{},{immediate:!0}),(F,s)=>(l(),i("div",he,[e("div",we,[e("div",{class:"flex items-center justify-between mb-6"},[s[4]||(s[4]=e("div",null,[e("h1",{class:"text-2xl font-bold text-gray-900 tracking-tight"},"Rentas"),e("p",{class:"text-sm text-gray-600 mt-1"},"Gestiona todas tus rentas de equipos en un solo lugar")],-1)),e("button",{onClick:z,class:"inline-flex items-center px-4 py-2 bg-blue-600 text-white text-sm font-medium rounded-lg hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 transition-colors duration-200"},s[3]||(s[3]=[e("svg",{class:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 4v16m8-8H4"})],-1),S(" Nueva Renta ")]))]),e("div",ke,[e("div",_e,[e("div",Ce,[e("div",null,[s[5]||(s[5]=e("p",{class:"text-sm font-medium text-gray-600"},"Total",-1)),e("p",Me,n(y.total),1)]),s[6]||(s[6]=e("div",{class:"w-10 h-10 bg-blue-100 rounded-full flex items-center justify-center"},[e("svg",{class:"w-5 h-5 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})])],-1))])]),e("div",je,[e("div",$e,[e("div",null,[s[7]||(s[7]=e("p",{class:"text-sm font-medium text-gray-600"},"Activas",-1)),e("p",Ee,n(y.activas),1)]),s[8]||(s[8]=e("div",{class:"w-10 h-10 bg-green-100 rounded-full flex items-center justify-center"},[e("svg",{class:"w-5 h-5 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})])],-1))])]),e("div",ze,[e("div",Be,[e("div",null,[s[9]||(s[9]=e("p",{class:"text-sm font-medium text-gray-600"},"Próximo Vencimiento",-1)),e("p",Pe,n(y.proximo_vencimiento),1)]),s[10]||(s[10]=e("div",{class:"w-10 h-10 bg-orange-100 rounded-full flex items-center justify-center"},[e("svg",{class:"w-5 h-5 text-orange-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})])],-1))])]),e("div",Fe,[e("div",Ne,[e("div",null,[s[11]||(s[11]=e("p",{class:"text-sm font-medium text-gray-600"},"Vencidas",-1)),e("p",Se,n(y.vencidas),1)]),s[12]||(s[12]=e("div",{class:"w-10 h-10 bg-red-100 rounded-full flex items-center justify-center"},[e("svg",{class:"w-5 h-5 text-red-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M10 14l2-2m0 0l2-2m-2 2l-2-2m2 2l2 2m7-2a9 9 0 11-18 0 9 9 0 0118 0z"})])],-1))])]),e("div",Re,[e("div",Ve,[e("div",null,[s[13]||(s[13]=e("p",{class:"text-sm font-medium text-gray-600"},"Ingresos Mensuales",-1)),e("p",Le,"$"+n(p(y.ingresos_mensuales)),1)]),s[14]||(s[14]=e("div",{class:"w-10 h-10 bg-green-100 rounded-full flex items-center justify-center"},[e("svg",{class:"w-5 h-5 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1"})])],-1))])])])]),e("div",Ae,[e("div",De,[e("div",Ie,[e("div",qe,[s[15]||(s[15]=e("div",{class:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none"},[e("svg",{class:"h-5 w-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})])],-1)),L(e("input",{"onUpdate:modelValue":s[0]||(s[0]=w=>d.value=w),type:"text",placeholder:"Buscar por cliente, equipo, número de contrato...",class:"block w-full pl-10 pr-3 py-2 border border-gray-300 rounded-lg leading-5 bg-white placeholder-gray-500 focus:outline-none focus:placeholder-gray-400 focus:ring-1 focus:ring-blue-500 focus:border-blue-500 text-sm",onInput:k},null,544),[[ve,d.value]])])]),e("div",He,[L(e("select",{"onUpdate:modelValue":s[1]||(s[1]=w=>x.value=w),onChange:h,class:"block w-48 pl-3 pr-10 py-2 text-sm border border-gray-300 rounded-lg focus:outline-none focus:ring-1 focus:ring-blue-500 focus:border-blue-500 bg-white"},s[16]||(s[16]=[G('<option value="" data-v-b5c88a1a>Todos los Estados</option><option value="activo" data-v-b5c88a1a>Activas</option><option value="proximo_vencimiento" data-v-b5c88a1a>Próximo Vencimiento</option><option value="vencido" data-v-b5c88a1a>Vencidas</option><option value="moroso" data-v-b5c88a1a>Morosas</option><option value="suspendido" data-v-b5c88a1a>Suspendidas</option><option value="finalizado" data-v-b5c88a1a>Finalizadas</option><option value="anulado" data-v-b5c88a1a>Anuladas</option>',8)]),544),[[Z,x.value]]),L(e("select",{"onUpdate:modelValue":s[2]||(s[2]=w=>f.value=w),onChange:_,class:"block w-48 pl-3 pr-10 py-2 text-sm border border-gray-300 rounded-lg focus:outline-none focus:ring-1 focus:ring-blue-500 focus:border-blue-500 bg-white"},s[17]||(s[17]=[G('<option value="created_at-desc" data-v-b5c88a1a>Fecha (Más reciente)</option><option value="created_at-asc" data-v-b5c88a1a>Fecha (Más antiguo)</option><option value="numero_contrato-asc" data-v-b5c88a1a>Contrato (A-Z)</option><option value="numero_contrato-desc" data-v-b5c88a1a>Contrato (Z-A)</option><option value="fecha_inicio-desc" data-v-b5c88a1a>Inicio (Más reciente)</option><option value="fecha_inicio-asc" data-v-b5c88a1a>Inicio (Más antiguo)</option>',6)]),544),[[Z,f.value]]),e("button",{onClick:B,class:"inline-flex items-center px-3 py-2 border border-gray-300 text-sm leading-4 font-medium rounded-lg text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200"},s[18]||(s[18]=[e("svg",{class:"w-4 h-4 mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1),S(" Limpiar ")]))])])])]))}},Ue=K(Te,[["__scopeId","data-v-b5c88a1a"]]),Oe={class:"rentas-index min-h-screen bg-gray-50"},Xe={class:"max-w-8xl mx-auto px-6 py-8"},Ze={class:"bg-white rounded-xl shadow-sm border border-gray-100 overflow-hidden"},Ge={class:"overflow-x-auto"},Qe={class:"min-w-full divide-y divide-gray-200"},Je={class:"bg-white divide-y divide-gray-200"},Ke={class:"px-6 py-4"},We={class:"text-sm text-gray-900"},Ye={class:"px-6 py-4"},et={class:"text-sm font-medium text-gray-900"},tt={class:"px-6 py-4"},ot={class:"text-sm text-gray-700"},st={class:"px-6 py-4"},rt={class:"text-sm text-gray-700"},at={class:"px-6 py-4"},nt={class:"px-6 py-4 text-right"},it={class:"flex items-center justify-end space-x-1"},lt=["onClick"],dt=["onClick"],ut=["href"],ct=["onClick"],vt=["onClick"],pt=["onClick"],gt=["onClick"],mt=["onClick"],xt={key:0},ft={key:0,class:"bg-white border-t border-gray-200 px-4 py-3 sm:px-6"},bt={class:"flex flex-col sm:flex-row items-center justify-between gap-4"},yt={class:"flex items-center gap-4"},ht={class:"text-sm text-gray-700"},wt=["value"],kt={class:"relative z-0 inline-flex rounded-md shadow-sm -space-x-px"},_t={key:1,class:"relative inline-flex items-center px-2 py-2 rounded-l-md border border-gray-300 bg-gray-100 text-sm font-medium text-gray-400"},Ct=["onClick"],Mt={key:3,class:"relative inline-flex items-center px-2 py-2 rounded-r-md border border-gray-300 bg-gray-100 text-sm font-medium text-gray-400"},jt={class:"bg-white rounded-lg shadow-xl w-full max-w-2xl max-h-[90vh] overflow-y-auto"},$t={class:"flex items-center justify-between p-6 border-b border-gray-200"},Et={class:"text-lg font-medium text-gray-900"},zt={class:"p-6"},Bt={key:0},Pt={class:"space-y-4"},Ft={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},Nt={class:"space-y-3"},St={class:"mt-1 text-sm text-gray-900 bg-gray-50 px-3 py-2 rounded-md"},Rt={class:"mt-1 text-sm text-gray-900 bg-gray-50 px-3 py-2 rounded-md"},Vt={class:"mt-1 text-sm text-gray-900 bg-gray-50 px-3 py-2 rounded-md"},Lt={class:"mt-1 text-sm text-gray-900 bg-gray-50 px-3 py-2 rounded-md"},At={class:"space-y-3"},Dt={class:"mt-1 text-sm text-gray-900 bg-gray-50 px-3 py-2 rounded-md"},It={class:"mt-1 text-sm text-gray-900 bg-gray-50 px-3 py-2 rounded-md"},qt={class:"mt-1 text-sm text-gray-900 bg-gray-50 px-3 py-2 rounded-md"},Ht={key:1},Tt={class:"text-center"},Ut={class:"text-sm text-gray-500 mb-4"},Ot={class:"flex justify-end gap-3 px-6 py-4 border-t border-gray-200 bg-gray-50"},Xt={key:0,class:"flex gap-2"},Zt=Object.assign({layout:be},{__name:"Index",props:{rentas:{type:[Object,Array],required:!0},stats:{type:Object,default:()=>({})},filters:{type:Object,default:()=>({})},sorting:{type:Object,default:()=>({sort_by:"created_at",sort_direction:"desc"})}},setup(y){var O;const c=new ye({duration:4e3,position:{x:"right",y:"top"},types:[{type:"success",background:"#10b981",icon:!1},{type:"error",background:"#ef4444",icon:!1},{type:"warning",background:"#f59e0b",icon:!1}]}),M=pe();ge(()=>{const o=M.props.flash;o!=null&&o.success&&c.success(o.success),o!=null&&o.error&&c.error(o.error)});const d=y,f=C(!1),x=C("details"),p=C(null),z=C(null),k=C(((O=d.filters)==null?void 0:O.search)??""),h=C("created_at-desc"),_=C(""),B=C(10),F=()=>{m.visit(route("rentas.create"))},s=()=>{k.value="",h.value="created_at-desc",_.value="",m.visit(route("rentas.index")),c.success("Filtros limpiados correctamente")},w=E(()=>$.value.activas*($.value.activas>0?1e3:0)),I=E(()=>d.rentas),W=E(()=>{var o;return((o=I.value)==null?void 0:o.data)||[]}),$=E(()=>{var o,t,u,a,v;return{total:((o=d.stats)==null?void 0:o.total)??0,activas:((t=d.stats)==null?void 0:t.activas)??0,vencidas:((u=d.stats)==null?void 0:u.vencidas)??0,activasPorcentaje:((a=d.stats)==null?void 0:a.activas)>0?Math.round(d.stats.activas/d.stats.total*100):0,vencidasPorcentaje:((v=d.stats)==null?void 0:v.vencidas)>0?Math.round(d.stats.vencidas/d.stats.total*100):0}}),q=E(()=>W.value.map(o=>{var t,u;return{id:o.id,titulo:o.numero_contrato||`Contrato #${o.id}`,subtitulo:((t=o.cliente)==null?void 0:t.nombre_razon_social)||"Sin cliente",estado:o.estado,pago:o.monto_mensual||0,anticipoPagado:o.deposito_garantia&&o.deposito_garantia>0?"Pagado":"No pagado",extra:`Equipos: ${((u=o.equipos)==null?void 0:u.length)||0} | Inicio: ${o.fecha_inicio?new Date(o.fecha_inicio).toLocaleDateString("es-MX"):"N/A"}`,fecha:o.created_at,raw:o}}));function Y(o){k.value=o,m.get(route("rentas.index"),{search:o,sort_by:h.value.split("-")[0],sort_direction:h.value.split("-")[1]||"desc",estado:_.value,per_page:B.value,page:1},{preserveState:!0,preserveScroll:!0})}function ee(o){_.value=o,m.get(route("rentas.index"),{search:k.value,sort_by:h.value.split("-")[0],sort_direction:h.value.split("-")[1]||"desc",estado:o,per_page:B.value,page:1},{preserveState:!0,preserveScroll:!0})}function te(o){h.value=o,m.get(route("rentas.index"),{search:k.value,sort_by:o.split("-")[0],sort_direction:o.split("-")[1]||"desc",estado:_.value,per_page:B.value,page:1},{preserveState:!0,preserveScroll:!0})}const oe=o=>{p.value=o.raw,x.value="details",f.value=!0},H=o=>{m.visit(route("rentas.edit",o))},se=o=>{z.value=o,x.value="confirm",f.value=!0},re=()=>{m.delete(route("rentas.destroy",z.value),{preserveScroll:!0,onSuccess:()=>{c.success("Renta eliminada correctamente"),f.value=!1,z.value=null,m.reload()},onError:o=>{c.error("No se pudo eliminar la renta")}})},ae=async o=>{var t,u;if(confirm(`¿Suspender la renta #${o.numero_contrato}? Esto liberará los equipos.`))try{const a=await N.post(route("rentas.suspender",o.id));a.data.success?(c.success(a.data.message||"Renta suspendida correctamente"),m.reload()):c.error(a.data.error||"Error al suspender la renta")}catch(a){const v=((u=(t=a.response)==null?void 0:t.data)==null?void 0:u.error)||"Error al suspender la renta";c.error(v)}},ne=async o=>{var t,u;if(confirm(`¿Reactivar la renta #${o.numero_contrato}? Esto marcará los equipos como rentados.`))try{const a=await N.post(route("rentas.reactivar",o.id));a.data.success?(c.success(a.data.message||"Renta reactivada correctamente"),m.reload()):c.error(a.data.error||"Error al reactivar la renta")}catch(a){const v=((u=(t=a.response)==null?void 0:t.data)==null?void 0:u.error)||"Error al reactivar la renta";c.error(v)}},ie=async o=>{var t,u;if(confirm(`¿Finalizar la renta #${o.numero_contrato}? Esto liberará permanentemente los equipos.`))try{const a=await N.post(route("rentas.finalizar",o.id));a.data.success?(c.success(a.data.message||"Renta finalizada correctamente"),m.reload()):c.error(a.data.error||"Error al finalizar la renta")}catch(a){const v=((u=(t=a.response)==null?void 0:t.data)==null?void 0:u.error)||"Error al finalizar la renta";c.error(v)}},le=async o=>{var u,a;const t=prompt("¿Cuántos meses deseas renovar?","12");if(!(!t||isNaN(t)||t<=0))try{const v=await N.post(route("rentas.renovar",o.id),{meses_renovacion:parseInt(t)});v.data.success?(c.success(v.data.message||"Renta renovada correctamente"),m.reload()):c.error(v.data.error||"Error al renovar la renta")}catch(v){const r=((a=(u=v.response)==null?void 0:u.data)==null?void 0:a.error)||"Error al renovar la renta";c.error(r)}},g=E(()=>{const o=I.value||{};return{currentPage:o.current_page??1,lastPage:o.last_page??1,perPage:o.per_page??10,from:o.from??0,to:o.to??0,total:o.total??0,prevPageUrl:o.prev_page_url??null,nextPageUrl:o.next_page_url??null,links:o.links??[]}}),de=o=>{m.get(route("rentas.index"),{...d.filters,...d.sorting,per_page:o,page:1},{preserveState:!0,preserveScroll:!0})},R=o=>{m.get(route("rentas.index"),{...d.filters,...d.sorting,page:o},{preserveState:!0,preserveScroll:!0})},ue=o=>new Intl.NumberFormat("es-ES").format(o),P=o=>{if(!o)return"Fecha no disponible";try{return new Date(o).toLocaleDateString("es-MX",{day:"2-digit",month:"2-digit",year:"numeric"})}catch{return"Fecha inválida"}},T=o=>({activo:"bg-green-100 text-green-700",proximo_vencimiento:"bg-orange-100 text-orange-700",vencido:"bg-red-100 text-red-700",moroso:"bg-red-200 text-red-800",suspendido:"bg-yellow-100 text-yellow-700",finalizado:"bg-gray-100 text-gray-600",anulado:"bg-gray-100 text-gray-500"})[o]||"bg-gray-100 text-gray-700",U=o=>({activo:"Activo",proximo_vencimiento:"Próximo Vencimiento",vencido:"Vencido",moroso:"Moroso",suspendido:"Suspendido",finalizado:"Finalizado",anulado:"Anulado"})[o]||"Pendiente";return(o,t)=>{var u,a,v;return l(),i(A,null,[Q(me(xe),{title:"Rentas"}),e("div",Oe,[e("div",Xe,[Q(Ue,{total:$.value.total,activas:$.value.activas,proximo_vencimiento:$.value.proximo_vencimiento,vencidas:$.value.vencidas,ingresos_mensuales:w.value,"search-term":k.value,"onUpdate:searchTerm":t[0]||(t[0]=r=>k.value=r),"sort-by":h.value,"onUpdate:sortBy":t[1]||(t[1]=r=>h.value=r),"filtro-estado":_.value,"onUpdate:filtroEstado":t[2]||(t[2]=r=>_.value=r),onCrearNueva:F,onSearchChange:Y,onFiltroEstadoChange:ee,onSortChange:te,onLimpiarFiltros:s},null,8,["total","activas","proximo_vencimiento","vencidas","ingresos_mensuales","search-term","sort-by","filtro-estado"]),e("div",Ze,[e("div",Ge,[e("table",Qe,[t[19]||(t[19]=e("thead",{class:"bg-gray-50"},[e("tr",null,[e("th",{class:"px-6 py-4 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider"},"Fecha"),e("th",{class:"px-6 py-4 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider"},"Contrato"),e("th",{class:"px-6 py-4 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider"},"Cliente"),e("th",{class:"px-6 py-4 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider"},"Mensualidad"),e("th",{class:"px-6 py-4 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider"},"Estado"),e("th",{class:"px-6 py-4 text-right text-xs font-semibold text-gray-600 uppercase tracking-wider"},"Acciones")])],-1)),e("tbody",Je,[(l(!0),i(A,null,J(q.value,r=>(l(),i("tr",{key:r.id,class:"hover:bg-gray-50 transition-colors duration-150"},[e("td",Ke,[e("div",We,n(P(r.fecha)),1)]),e("td",Ye,[e("div",et,n(r.titulo),1)]),e("td",tt,[e("div",ot,n(r.subtitulo),1)]),e("td",st,[e("div",rt,"$"+n(ue(r.pago)),1)]),e("td",at,[e("span",{class:D([T(r.estado),"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium"])},n(U(r.estado)),3)]),e("td",nt,[e("div",it,[e("button",{onClick:j=>oe(r),class:"w-8 h-8 bg-blue-50 text-blue-600 rounded-lg hover:bg-blue-100 transition-colors duration-150",title:"Ver detalles"},t[10]||(t[10]=[e("svg",{class:"w-4 h-4 mx-auto",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})],-1)]),8,lt),e("button",{onClick:j=>H(r.id),class:"w-8 h-8 bg-amber-50 text-amber-600 rounded-lg hover:bg-amber-100 transition-colors duration-150",title:"Editar"},t[11]||(t[11]=[e("svg",{class:"w-4 h-4 mx-auto",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})],-1)]),8,dt),e("a",{href:o.route("rentas.contrato",r.id),target:"_blank",class:"inline-flex items-center gap-2 px-3 py-2 bg-gradient-to-r from-red-600 to-red-700 text-white text-xs font-semibold rounded-lg hover:from-red-700 hover:to-red-800 transition-all duration-200 shadow-lg hover:shadow-xl transform hover:scale-105",title:"Contrato PDF"},t[12]||(t[12]=[e("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 10v6m0 0l4-4m-4 4l-4-4m20 2a9 9 0 11-18 0 9 9 0 0118 0z"})],-1),e("span",{class:"hidden sm:inline"},"Contrato PDF",-1),e("span",{class:"sm:hidden"},"PDF",-1)]),8,ut),r.raw.estado==="activo"?(l(),i("button",{key:0,onClick:j=>ae(r.raw),class:"w-8 h-8 bg-orange-50 text-orange-600 rounded-lg hover:bg-orange-100 transition-colors duration-150",title:"Suspender"},t[13]||(t[13]=[e("svg",{class:"w-4 h-4 mx-auto",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M10 9v6m4-6v6m7-3a9 9 0 11-18 0 9 9 0 0118 0z"})],-1)]),8,ct)):b("",!0),r.raw.estado==="suspendido"?(l(),i("button",{key:1,onClick:j=>ne(r.raw),class:"w-8 h-8 bg-emerald-50 text-emerald-600 rounded-lg hover:bg-emerald-100 transition-colors duration-150",title:"Reactivar"},t[14]||(t[14]=[e("svg",{class:"w-4 h-4 mx-auto",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M14.828 14.828a4 4 0 01-5.656 0M9 10h1.586a1 1 0 01.707.293l.707.707A1 1 0 0012.414 11H15m-3 7.5A9.5 9.5 0 1121.5 12 9.5 9.5 0 0112 2.5"})],-1)]),8,vt)):b("",!0),["activo","proximo_vencimiento","vencido"].includes(r.raw.estado)?(l(),i("button",{key:2,onClick:j=>le(r.raw),class:"w-8 h-8 bg-indigo-50 text-indigo-600 rounded-lg hover:bg-indigo-100 transition-colors duration-150",title:"Renovar"},t[15]||(t[15]=[e("svg",{class:"w-4 h-4 mx-auto",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})],-1)]),8,pt)):b("",!0),["activo","proximo_vencimiento","vencido"].includes(r.raw.estado)?(l(),i("button",{key:3,onClick:j=>ie(r.raw),class:"w-8 h-8 bg-purple-50 text-purple-600 rounded-lg hover:bg-purple-100 transition-colors duration-150",title:"Finalizar"},t[16]||(t[16]=[e("svg",{class:"w-4 h-4 mx-auto",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})],-1)]),8,gt)):b("",!0),e("button",{onClick:j=>se(r.id),class:"w-8 h-8 bg-red-50 text-red-600 rounded-lg hover:bg-red-100 transition-colors duration-150",title:"Eliminar"},t[17]||(t[17]=[e("svg",{class:"w-4 h-4 mx-auto",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})],-1)]),8,mt)])])]))),128)),q.value.length===0?(l(),i("tr",xt,t[18]||(t[18]=[e("td",{colspan:"7",class:"px-6 py-16 text-center"},[e("div",{class:"flex flex-col items-center space-y-4"},[e("div",{class:"w-16 h-16 bg-gray-100 rounded-full flex items-center justify-center"},[e("svg",{class:"w-8 h-8 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"1.5",d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})])]),e("div",{class:"space-y-1"},[e("p",{class:"text-gray-700 font-medium"},"No hay rentas"),e("p",{class:"text-sm text-gray-500"},"Las rentas aparecerán aquí cuando se creen")])])],-1)]))):b("",!0)])])]),g.value.lastPage>1?(l(),i("div",ft,[e("div",bt,[e("div",yt,[e("p",ht," Mostrando "+n(g.value.from)+" - "+n(g.value.to)+" de "+n(g.value.total)+" resultados ",1),e("select",{value:g.value.perPage,onChange:t[3]||(t[3]=r=>de(parseInt(r.target.value))),class:"border border-gray-300 rounded-md text-sm py-1 px-2 bg-white"},t[20]||(t[20]=[e("option",{value:"10"},"10",-1),e("option",{value:"15"},"15",-1),e("option",{value:"25"},"25",-1),e("option",{value:"50"},"50",-1)]),40,wt)]),e("nav",kt,[g.value.prevPageUrl?(l(),i("button",{key:0,onClick:t[4]||(t[4]=r=>R(g.value.currentPage-1)),class:"relative inline-flex items-center px-2 py-2 rounded-l-md border border-gray-300 bg-white text-sm font-medium text-gray-500 hover:bg-gray-50"},t[21]||(t[21]=[e("svg",{class:"h-5 w-5",fill:"currentColor",viewBox:"0 0 20 20"},[e("path",{"fill-rule":"evenodd",d:"M12.707 5.293a1 1 0 010 1.414L9.414 10l3.293 3.293a1 1 0 01-1.414 1.414l-4-4a1 1 0 010-1.414l4-4a1 1 0 011.414 0z","clip-rule":"evenodd"})],-1)]))):(l(),i("span",_t,t[22]||(t[22]=[e("svg",{class:"h-5 w-5",fill:"currentColor",viewBox:"0 0 20 20"},[e("path",{"fill-rule":"evenodd",d:"M12.707 5.293a1 1 0 010 1.414L9.414 10l3.293 3.293a1 1 0 01-1.414 1.414l-4-4a1 1 0 010-1.414l4-4a1 1 0 011.414 0z","clip-rule":"evenodd"})],-1)]))),(l(!0),i(A,null,J([g.value.currentPage-1,g.value.currentPage,g.value.currentPage+1].filter(r=>r>0&&r<=g.value.lastPage),r=>(l(),i("button",{key:r,onClick:j=>R(r),class:D([r===g.value.currentPage?"bg-blue-50 border-blue-500 text-blue-600":"bg-white border-gray-300 text-gray-500 hover:bg-gray-50","relative inline-flex items-center px-4 py-2 border text-sm font-medium"])},n(r),11,Ct))),128)),g.value.nextPageUrl?(l(),i("button",{key:2,onClick:t[5]||(t[5]=r=>R(g.value.currentPage+1)),class:"relative inline-flex items-center px-2 py-2 rounded-r-md border border-gray-300 bg-white text-sm font-medium text-gray-500 hover:bg-gray-50"},t[23]||(t[23]=[e("svg",{class:"h-5 w-5",fill:"currentColor",viewBox:"0 0 20 20"},[e("path",{"fill-rule":"evenodd",d:"M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z","clip-rule":"evenodd"})],-1)]))):(l(),i("span",Mt,t[24]||(t[24]=[e("svg",{class:"h-5 w-5",fill:"currentColor",viewBox:"0 0 20 20"},[e("path",{"fill-rule":"evenodd",d:"M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z","clip-rule":"evenodd"})],-1)])))])])])):b("",!0)]),f.value?(l(),i("div",{key:0,class:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",onClick:t[9]||(t[9]=fe(r=>f.value=!1,["self"]))},[e("div",jt,[e("div",$t,[e("h3",Et,n(x.value==="details"?"Detalles de la Renta":"Confirmar Eliminación"),1),e("button",{onClick:t[6]||(t[6]=r=>f.value=!1),class:"text-gray-400 hover:text-gray-600 transition-colors"},t[25]||(t[25]=[e("svg",{class:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)]))]),e("div",zt,[x.value==="details"&&p.value?(l(),i("div",Bt,[e("div",Pt,[e("div",Ft,[e("div",Nt,[e("div",null,[t[26]||(t[26]=e("label",{class:"block text-sm font-medium text-gray-700"},"Número de Contrato",-1)),e("p",St,n(p.value.numero_contrato||"N/A"),1)]),e("div",null,[t[27]||(t[27]=e("label",{class:"block text-sm font-medium text-gray-700"},"Cliente",-1)),e("p",Rt,n(((u=p.value.cliente)==null?void 0:u.nombre)||"Sin cliente"),1)]),e("div",null,[t[28]||(t[28]=e("label",{class:"block text-sm font-medium text-gray-700"},"Fecha de Inicio",-1)),e("p",Vt,n(P(p.value.fecha_inicio)),1)]),e("div",null,[t[29]||(t[29]=e("label",{class:"block text-sm font-medium text-gray-700"},"Fecha de Fin",-1)),e("p",Lt,n(P(p.value.fecha_fin)),1)]),e("div",null,[t[30]||(t[30]=e("label",{class:"block text-sm font-medium text-gray-700"},"Estado",-1)),e("span",{class:D([T(p.value.estado),"inline-flex items-center px-2.5 py-1 rounded-full text-xs font-medium mt-1"])},n(U(p.value.estado)),3)])]),e("div",At,[e("div",null,[t[31]||(t[31]=e("label",{class:"block text-sm font-medium text-gray-700"},"Equipos Rentados",-1)),e("p",Dt,n(((a=p.value.equipos)==null?void 0:a.length)||0)+" equipos",1)]),e("div",null,[t[32]||(t[32]=e("label",{class:"block text-sm font-medium text-gray-700"},"Fecha de Creación",-1)),e("p",It,n(P(p.value.created_at)),1)]),e("div",null,[t[33]||(t[33]=e("label",{class:"block text-sm font-medium text-gray-700"},"Última Actualización",-1)),e("p",qt,n(P(p.value.updated_at)),1)])])])])])):b("",!0),x.value==="confirm"?(l(),i("div",Ht,[e("div",Tt,[t[36]||(t[36]=e("div",{class:"w-12 h-12 mx-auto bg-red-100 rounded-full flex items-center justify-center mb-4"},[e("svg",{class:"w-6 h-6 text-red-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L4.082 16.5c-.77.833.192 2.5 1.732 2.5z"})])],-1)),t[37]||(t[37]=e("h3",{class:"text-lg font-medium text-gray-900 mb-2"},"¿Eliminar Renta?",-1)),e("p",Ut,[t[34]||(t[34]=S(" ¿Estás seguro de que deseas eliminar la renta ")),e("strong",null,n((v=p.value)==null?void 0:v.numero_contrato),1),t[35]||(t[35]=S("? Esta acción no se puede deshacer. "))])])])):b("",!0)]),e("div",Ot,[e("button",{onClick:t[7]||(t[7]=r=>f.value=!1),class:"px-4 py-2 bg-gray-300 text-gray-700 rounded-lg hover:bg-gray-400 transition-colors"},n(x.value==="details"?"Cerrar":"Cancelar"),1),x.value==="details"?(l(),i("div",Xt,[e("button",{onClick:t[8]||(t[8]=r=>H(p.value.id)),class:"px-4 py-2 bg-amber-600 text-white rounded-lg hover:bg-amber-700 transition-colors"}," Editar ")])):b("",!0),x.value==="confirm"?(l(),i("button",{key:1,onClick:re,class:"px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors"}," Eliminar ")):b("",!0)])])])):b("",!0)])])],64)}}}),eo=K(Zt,[["__scopeId","data-v-1809907e"]]);export{eo as default};
