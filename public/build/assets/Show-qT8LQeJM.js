import{r as i,p as N,b as I,o as c,g as x,e as j,i as f,k as B,q as V,f as o,l as p,t as l,I as E,M as z,R as O,F as P}from"./vendor-d19pJyVS.js";import{_}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./utils-Dq7h7Pqt.js";const D={class:"bg-white rounded-lg shadow-xl w-full max-w-4xl max-h-[90vh] overflow-hidden",role:"dialog","aria-modal":"true"},S={class:"p-6 overflow-y-auto max-h-[calc(90vh-140px)]"},$={class:"space-y-6"},H={class:"bg-blue-50 rounded-lg p-4"},F={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},T={class:"mt-1 block w-full rounded-md bg-gray-100 p-2"},A={class:"mt-1 block w-full rounded-md bg-gray-100 p-2"},q={class:"mt-1 block w-full rounded-md bg-gray-100 p-2"},G={class:"mt-1 block w-full rounded-md bg-gray-100 p-2"},L={class:"bg-green-50 rounded-lg p-4"},J={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},K={class:"mt-1 block w-full rounded-md bg-gray-100 p-2"},Q={class:"mt-1 block w-full rounded-md bg-gray-100 p-2"},U={class:"mt-1 block w-full rounded-md bg-gray-100 p-2"},W={class:"mt-1 block w-full rounded-md bg-gray-100 p-2"},X={class:"bg-yellow-50 rounded-lg p-4"},Y={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},Z={class:"mt-1 block w-full rounded-md bg-gray-100 p-2"},R={class:"mt-1 block w-full rounded-md bg-gray-100 p-2"},oo={class:"mt-1 block w-full rounded-md bg-gray-100 p-2"},to={class:"mt-1 block w-full rounded-md bg-gray-100 p-2"},eo={class:"bg-purple-50 rounded-lg p-4"},lo={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},so={class:"mt-1 block w-full rounded-md bg-gray-100 p-2"},ro={class:"mt-1 block w-full rounded-md bg-gray-100 p-2"},ao={class:"mt-1 block w-full rounded-md bg-gray-100 p-2"},no={class:"mt-6"},io={class:"mt-1 block w-full rounded-md bg-gray-100 p-2"},co=["src"],mo={key:1},uo={__name:"ProductoModal",props:{producto:Object,isOpen:Boolean},emits:["close"],setup(e,{emit:n}){const d={categorias:{},marcas:{},proveedores:{},almacenes:{}},s=e,k=n,a=()=>{k("close")},m=i("Cargando..."),y=i("Cargando..."),w=i("Cargando..."),h=i("Cargando..."),u=async(r,t,v,g)=>{if(d[g][t]){v.value=d[g][t];return}try{const b=await fetch(`/api/${r}/${t}`);if(!b.ok)throw new Error(`No se pudo obtener ${r}`);const C=await b.json();d[g][t]=C.nombre||C.nombre_razon_social||"No disponible",v.value=d[g][t]}catch(b){console.error(`Error al obtener ${r}:`,b),v.value="No disponible"}},M=r=>{console.warn("Error al cargar imagen del producto:",r.target.src),r.target.src="/images/placeholder-product.svg",r.target.alt="Imagen no disponible"};return N(()=>{s.producto&&(s.producto.categoria_id&&u("categorias",s.producto.categoria_id,m,"categorias"),s.producto.marca_id&&u("marcas",s.producto.marca_id,y,"marcas"),s.producto.proveedor_id&&u("proveedores",s.producto.proveedor_id,w,"proveedores"),s.producto.almacen_id&&u("almacenes",s.producto.almacen_id,h,"almacenes"))}),(r,t)=>(c(),I(z,{to:"body"},[x(E,{name:"modal"},{default:j(()=>[e.isOpen?(c(),f("div",{key:0,class:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",onClick:V(a,["self"])},[o("div",D,[o("div",{class:"flex justify-between items-center p-6 border-b border-gray-200 bg-gray-50"},[t[1]||(t[1]=o("h2",{class:"text-2xl font-semibold text-gray-800"},"Detalles del Producto",-1)),o("button",{onClick:a,class:"text-gray-400 hover:text-gray-600 transition-colors p-2 rounded-full hover:bg-gray-200","aria-label":"Cerrar modal"},t[0]||(t[0]=[o("svg",{class:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[o("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)]))]),o("div",S,[o("div",$,[o("div",H,[t[6]||(t[6]=o("h3",{class:"text-lg font-medium text-blue-800 mb-4 flex items-center"},[o("svg",{class:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[o("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})]),p(" Información General ")],-1)),o("div",F,[o("div",null,[t[2]||(t[2]=o("label",{class:"block text-sm font-medium text-gray-700"},"Nombre",-1)),o("p",T,l(e.producto.nombre),1)]),o("div",null,[t[3]||(t[3]=o("label",{class:"block text-sm font-medium text-gray-700"},"Descripción",-1)),o("p",A,l(e.producto.descripcion),1)]),o("div",null,[t[4]||(t[4]=o("label",{class:"block text-sm font-medium text-gray-700"},"Código",-1)),o("p",q,l(e.producto.codigo),1)]),o("div",null,[t[5]||(t[5]=o("label",{class:"block text-sm font-medium text-gray-700"},"Número de Serie",-1)),o("p",G,l(e.producto.numero_serie),1)])])]),o("div",L,[t[11]||(t[11]=o("h3",{class:"text-lg font-medium text-green-800 mb-4 flex items-center"},[o("svg",{class:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[o("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 8c1.654 0 3-1.346 3-3s-1.346-3-3-3-3 1.346-3 3 1.346 3 3 3zm0 2c-2.21 0-4 1.79-4 4v1h8v-1c0-2.21-1.79-4-4-4zm0 8c2.21 0 4-1.79 4-4h-8c0 2.21 1.79 4 4 4z"})]),p(" Información Adicional ")],-1)),o("div",J,[o("div",null,[t[7]||(t[7]=o("label",{class:"block text-sm font-medium text-gray-700"},"Código de Barras",-1)),o("p",K,l(e.producto.codigo_barras),1)]),o("div",null,[t[8]||(t[8]=o("label",{class:"block text-sm font-medium text-gray-700"},"Categoría",-1)),o("p",Q,l(m.value||"Cargando..."),1)]),o("div",null,[t[9]||(t[9]=o("label",{class:"block text-sm font-medium text-gray-700"},"Marca",-1)),o("p",U,l(y.value||"Cargando..."),1)]),o("div",null,[t[10]||(t[10]=o("label",{class:"block text-sm font-medium text-gray-700"},"Proveedor",-1)),o("p",W,l(w.value||"Cargando..."),1)])])]),o("div",X,[t[16]||(t[16]=o("h3",{class:"text-lg font-medium text-yellow-800 mb-4 flex items-center"},[o("svg",{class:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[o("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M3 10h18M7 15h1m4 0h1m-7 4h12a3 3 0 003-3V8a3 3 0 00-3-3H6a3 3 0 00-3 3v8a3 3 0 003 3z"})]),p(" Información de Inventario ")],-1)),o("div",Y,[o("div",null,[t[12]||(t[12]=o("label",{class:"block text-sm font-medium text-gray-700"},"Almacén",-1)),o("p",Z,l(h.value||"Cargando..."),1)]),o("div",null,[t[13]||(t[13]=o("label",{class:"block text-sm font-medium text-gray-700"},"Stock",-1)),o("p",R,l(e.producto.stock),1)]),o("div",null,[t[14]||(t[14]=o("label",{class:"block text-sm font-medium text-gray-700"},"Precio de Compra",-1)),o("p",oo,l(e.producto.precio_compra),1)]),o("div",null,[t[15]||(t[15]=o("label",{class:"block text-sm font-medium text-gray-700"},"Precio de Venta",-1)),o("p",to,l(e.producto.precio_venta),1)])])]),o("div",eo,[t[20]||(t[20]=o("h3",{class:"text-lg font-medium text-purple-800 mb-4 flex items-center"},[o("svg",{class:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[o("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 17v-2m3 2v-4m3 4v-6m2 10H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})]),p(" Estado y Otros ")],-1)),o("div",lo,[o("div",null,[t[17]||(t[17]=o("label",{class:"block text-sm font-medium text-gray-700"},"Estado",-1)),o("p",so,l(e.producto.estado),1)]),o("div",null,[t[18]||(t[18]=o("label",{class:"block text-sm font-medium text-gray-700"},"Impuestos",-1)),o("p",ro,l(e.producto.impuesto||"No disponible"),1)]),o("div",null,[t[19]||(t[19]=o("label",{class:"block text-sm font-medium text-gray-700"},"Fecha de Vencimiento",-1)),o("p",ao,l(e.producto.fecha_vencimiento||"No disponible"),1)])])]),o("div",no,[t[21]||(t[21]=o("label",{class:"block text-sm font-medium text-gray-700"},"Imagen",-1)),o("div",io,[e.producto.imagen_url?(c(),f("img",{key:0,src:e.producto.imagen_url,alt:"Imagen del Producto",class:"w-full h-auto rounded-md",onError:M},null,40,co)):(c(),f("span",mo,"No disponible"))])])])]),o("div",{class:"px-6 py-4 bg-gray-50 border-t border-gray-200"},[o("div",{class:"flex justify-end space-x-3"},[o("button",{onClick:a,class:"px-6 py-2 bg-gray-600 text-white rounded-lg hover:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-gray-500 focus:ring-offset-2 transition-colors"}," Cerrar ")])])])])):B("",!0)]),_:1})]))}},go=_(uo,[["__scopeId","data-v-738f5ebc"]]),bo={__name:"Show",props:{producto:Object},setup(e){const n=i(!1),d=()=>{n.value=!0},s=()=>{n.value=!1};return(k,a)=>{const m=O("Head");return c(),f(P,null,[x(m,{title:"Mostrar productos"}),o("div",null,[a[0]||(a[0]=o("h1",{class:"text-2xl font-semibold mb-4"},"Detalles del Producto",-1)),x(go,{producto:e.producto,isOpen:n.value,onClose:s},null,8,["producto","isOpen"]),o("button",{onClick:d,class:"bg-blue-500 text-white px-4 py-2 rounded-md hover:bg-blue-600"}," Ver Detalles ")])],64)}}},xo=_(bo,[["__scopeId","data-v-61685313"]]);export{xo as default};
