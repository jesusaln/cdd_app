import{r as v,T as X,c as ee,p as oe,O as D,w as te,i as L,o as H,g as x,f as t,u as i,Z as re,q as ae,l as u,k as se,v as _,z as M,x as ne,s as ie,N as le}from"./vendor-d19pJyVS.js";import{N as de}from"./app-BcT2PLJy.js";import{A as ce}from"./AppLayout-CcnrZQKI.js";import{_ as ue,a as pe,b as me}from"./BotonesAccion-DYwTTkJE.js";import{_ as ve,P as fe}from"./ProductosSeleccionados-DXGsTgz6.js";import{_ as ge}from"./BuscarProducto-B_taEjGP.js";import{_ as be}from"./VistaPreviaModal-CAwANwka.js";import{_ as xe}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./utils-Dq7h7Pqt.js";const ye={class:"compras-edit min-h-screen bg-gradient-to-br from-slate-50 to-blue-50 p-6"},we={class:"max-w-6xl mx-auto"},he={class:"bg-white rounded-xl border border-gray-200 shadow-sm overflow-hidden"},ke={class:"bg-gradient-to-r from-indigo-500 to-indigo-600 px-6 py-4"},_e={class:"text-lg font-semibold text-white flex items-center"},Fe={key:0,class:"ml-2 inline-flex items-center gap-1 px-2 py-1 bg-indigo-100 text-indigo-700 text-xs font-medium rounded-full"},Ce={class:"p-6 grid grid-cols-1 md:grid-cols-2 gap-6"},$e={class:"relative"},Ne={class:"relative"},Me=["disabled"],je=["disabled"],Pe={class:"bg-white rounded-xl border border-gray-200 shadow-sm overflow-hidden"},Se={class:"p-6"},ze={class:"bg-white rounded-xl border border-gray-200 shadow-sm overflow-hidden"},Ve={class:"p-6"},Be={class:"bg-white rounded-xl border border-gray-200 shadow-sm overflow-hidden"},Ee={class:"p-6"},Ae=["disabled"],qe={class:"bg-white rounded-xl border border-gray-200 shadow-sm overflow-hidden"},De={class:"p-6"},Le={class:"space-y-4"},He=["disabled"],Ie=Object.assign({layout:ce},{__name:"Edit",props:{compra:{type:Object,required:!0},proveedores:{type:Array,default:()=>[]},productos:{type:Array,default:()=>[]},servicios:{type:Array,default:()=>[]},errors:{type:Object,default:()=>({})}},setup(I){var q;const T=new de({duration:5e3,position:{x:"right",y:"top"},types:[{type:"success",background:"#10B981",icon:{className:"notyf__icon--success",tagName:"i",text:"✓"}},{type:"error",background:"#EF4444",icon:{className:"notyf__icon--error",tagName:"i",text:"✗"}},{type:"info",background:"#3B82F6",icon:{className:"notyf__icon--info",tagName:"i",text:"ℹ"}}]}),s=(o,e="success")=>T.open({type:e,message:o}),c=I,z=v([...c.proveedores]),V=o=>{if(!o)return"";try{if(typeof o=="string"&&/^\d{4}-\d{2}-\d{2}$/.test(o))return o;const e=new Date(o);if(isNaN(e.getTime()))return"";const r=e.getFullYear(),n=String(e.getMonth()+1).padStart(2,"0"),d=String(e.getDate()).padStart(2,"0");return`${r}-${n}-${d}`}catch{return""}},a=X({numero_compra:"",fecha_compra:"",proveedor_id:"",metodo_pago:"transferencia",referencia_pago:"",subtotal:0,descuento_items:0,descuento_general:parseFloat((q=c.compra)==null?void 0:q.descuento_general)||0,iva:0,total:0,items:[],notas:""}),U=v(null),p=v(null),l=v([]),m=v({}),g=v({}),f=v({}),S=v(!1),j=v(!0),y=v(!0),B=()=>{var e;const o=c.compra||{};a.numero_compra=o.numero_compra||o.folio||"",a.fecha_compra=V(o.fecha_compra||o.created_at||new Date),a.proveedor_id=o.proveedor_id||((e=o.proveedor)==null?void 0:e.id)||"",a.metodo_pago=o.metodo_pago||"transferencia",a.referencia_pago=o.referencia_pago||"",a.subtotal=parseFloat(o.subtotal)||0,a.descuento_items=parseFloat(o.descuento_items)||0,a.descuento_general=parseFloat(o.descuento_general)||0,a.iva=parseFloat(o.iva)||0,a.total=parseFloat(o.total)||0,a.notas=o.notas||o.observaciones||""},E=()=>{var o;if((o=c.compra)!=null&&o.proveedor&&(p.value=c.compra.proveedor),!p.value&&a.proveedor_id){const e=z.value.find(r=>r.id===a.proveedor_id);e&&(p.value=e)}},A=()=>{var e;(((e=c.compra)==null?void 0:e.productos)||[]).forEach(r=>{var F,k,C,$,P,N;const n=r.tipo||(k=(F=r.pivot)==null?void 0:F.item_type)!=null&&k.includes("Servicio")?"servicio":"producto",d={id:r.id,tipo:n,nombre:r.nombre||r.descripcion||n+" "+r.id,descripcion:r.descripcion||"",precio:((C=r.pivot)==null?void 0:C.precio)??r.precio_compra??r.precio??0,precio_compra:(($=r.pivot)==null?void 0:$.precio)??r.precio_compra??0};l.value.push(d);const b=`${n}-${r.id}`;m.value[b]=((P=r.pivot)==null?void 0:P.cantidad)??r.cantidad??1,g.value[b]=d.precio,f.value[b]=((N=r.pivot)==null?void 0:N.descuento)??r.descuento??0}),h()},O=()=>{p.value&&l.value.length>0?S.value=!0:s("Selecciona un proveedor y al menos un ítem","error")},R=o=>{var e;if(!o){p.value=null,a.proveedor_id="",s("Selección de proveedor limpiada","info");return}((e=p.value)==null?void 0:e.id)!==o.id&&(p.value=o,a.proveedor_id=o.id,s(`Proveedor seleccionado: ${o.nombre_razon_social||o.nombre||"Sin nombre"}`))},G=async()=>{const o=(a.numero_compra||"").trim();try{await navigator.clipboard.writeText(o),s(`Número copiado: ${o}`,"success")}catch{const r=document.createElement("textarea");r.value=o,document.body.appendChild(r),r.select(),document.execCommand("copy"),document.body.removeChild(r),s(`Número copiado: ${o}`,"success")}},Q=o=>{if(!o||typeof o.id>"u"){s("Ítem inválido","error");return}const e=o.tipo||(o.esServicio?"servicio":"producto");if(l.value.some(b=>b.id===o.id&&b.tipo===e)){s("Este ítem ya está en la lista","info");return}const n={id:o.id,tipo:e,nombre:o.nombre||o.descripcion||`${e} ${o.id}`,descripcion:o.descripcion||"",precio:o.precio_compra??o.precio??0,precio_compra:o.precio_compra??o.precio??0};l.value.push(n);const d=`${e}-${o.id}`;m.value[d]=1,g.value[d]=n.precio,f.value[d]=0,h(),s(`Añadido: ${n.nombre}`)},Y=o=>{if(!o||typeof o.id>"u"||!o.tipo)return;const e=`${o.tipo}-${o.id}`;l.value=l.value.filter(r=>!(r.id===o.id&&r.tipo===o.tipo)),delete m.value[e],delete g.value[e],delete f.value[e],h(),s(`Eliminado: ${o.nombre||o.descripcion||"Ítem"}`,"info")},Z=(o,e)=>{const r=parseFloat(e);if(isNaN(r)||r<=0){s("La cantidad debe ser mayor a 0","error");return}m.value[o]=r,h()},J=(o,e)=>{const r=parseFloat(e);if(isNaN(r)||r<0||r>100){s("El descuento debe estar entre 0% y 100%","error");return}f.value[o]=r,h()},w=ee(()=>{let o=0,e=0;l.value.forEach(F=>{const k=`${F.tipo}-${F.id}`,C=parseFloat(m.value[k])||0,$=parseFloat(g.value[k])||0,P=parseFloat(f.value[k])||0;if(C>0&&$>=0){const N=C*$;e+=N*(P/100),o+=N}});const r=parseFloat(a.descuento_general)||0,n=Math.max(0,o-e-r),d=n*.16,b=n+d;return{subtotal:parseFloat(o.toFixed(2)),descuentoItems:parseFloat(e.toFixed(2)),descuentoGeneral:parseFloat(r.toFixed(2)),subtotalConDescuentos:parseFloat(n.toFixed(2)),iva:parseFloat(d.toFixed(2)),total:parseFloat(b.toFixed(2))}}),h=()=>{a.subtotal=w.value.subtotal,a.descuento_items=w.value.descuentoItems,a.iva=w.value.iva,a.total=w.value.total},K=()=>{if(!a.fecha_compra)return s("Fecha de compra no disponible","error"),!1;if(!a.proveedor_id)return s("Selecciona un proveedor","error"),!1;if(l.value.length===0)return s("Agrega al menos un ítem","error"),!1;for(const o of l.value){const e=`${o.tipo}-${o.id}`,r=parseFloat(m.value[e])||0,n=parseFloat(g.value[e])||0,d=parseFloat(f.value[e])||0;if(r<=0)return s("Las cantidades deben ser mayores a 0","error"),!1;if(n<0)return s("Los precios no pueden ser negativos","error"),!1;if(d<0||d>100)return s("Los descuentos deben estar entre 0% y 100%","error"),!1}return!0},W=()=>{var o;K()&&(a.items=l.value.map(e=>{const r=`${e.tipo}-${e.id}`;return{id:e.id,tipo:e.tipo,cantidad:parseFloat(m.value[r])||1,precio:parseFloat(g.value[r])||0,descuento:parseFloat(f.value[r])||0}}),h(),a.put(route("compras.update",(o=c.compra)==null?void 0:o.id),{onSuccess:()=>{s("Compra actualizada con éxito"),le.visit(route("compras.index"))},onError:e=>{if(e&&typeof e=="object"&&e.message&&String(e.message).includes("CSRF token")){s("La sesión ha expirado. Recargando...","error"),setTimeout(()=>window.location.reload(),1500);return}try{const r=Object.values(e)[0];Array.isArray(r)?s(r[0],"error"):s("Hubo errores de validación","error")}catch{s("Hubo errores al actualizar la compra","error")}}}))};return oe(()=>{B(),E(),A(),y.value=!1;const o=setInterval(()=>{const e=V(new Date);a.fecha_compra!==e&&(a.fecha_compra=e)},5*60*1e3);window.addEventListener("beforeunload",e=>{a.isDirty&&(e.preventDefault(),e.returnValue="¿Salir sin guardar? Tus cambios se perderán.")}),D(()=>{clearInterval(o)})}),te(()=>c.compra,o=>{o&&(l.value=[],m.value={},g.value={},f.value={},B(),E(),A(),y.value=!1)},{immediate:!1}),D(()=>{window.removeEventListener("beforeunload",()=>{})}),(o,e)=>(H(),L("div",null,[x(i(re),{title:"Editar Compra"}),t("div",ye,[t("div",we,[x(ue,{title:"Editar Compra",description:"Modifica los detalles de la compra existente","can-preview":p.value&&l.value.length>0,"back-url":o.route("compras.index"),"show-shortcuts":j.value,onPreview:O,onCloseShortcuts:e[0]||(e[0]=r=>j.value=!1)},null,8,["can-preview","back-url","show-shortcuts"]),t("form",{onSubmit:ae(W,["prevent"]),class:"space-y-8"},[t("div",he,[t("div",ke,[t("h2",_e,[e[11]||(e[11]=t("svg",{class:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})],-1)),e[12]||(e[12]=u(" Información General ")),y.value?(H(),L("span",Fe,e[10]||(e[10]=[t("svg",{class:"w-3 h-3 animate-spin",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})],-1),u(" Cargando... ")]))):se("",!0)])]),t("div",Ce,[t("div",null,[e[16]||(e[16]=t("label",{for:"numero_compra",class:"block text-sm font-medium text-gray-700 mb-2 flex items-center gap-2"},[u(" Número de Compra "),t("span",{class:"inline-flex items-center gap-1 px-2 py-1 bg-blue-100 text-blue-700 text-xs font-medium rounded-full"},[t("svg",{class:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M5 13l4 4L19 7"})]),u(" Automático ")])],-1)),t("div",$e,[_(t("input",{id:"numero_compra","onUpdate:modelValue":e[1]||(e[1]=r=>i(a).numero_compra=r),type:"text",class:"w-full bg-gray-50 text-gray-500 cursor-not-allowed border border-gray-300 rounded-lg px-4 py-3 focus:ring-2 focus:ring-indigo-500 focus:border-transparent",readonly:""},null,512),[[M,i(a).numero_compra]]),e[13]||(e[13]=t("div",{class:"absolute inset-y-0 right-0 pr-3 flex items-center pointer-events-none"},[t("svg",{class:"w-5 h-5 text-blue-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})])],-1))]),t("div",{class:"mt-2 flex items-center gap-2"},[e[15]||(e[15]=t("p",{class:"text-xs text-gray-500"},"Este número es fijo para esta compra",-1)),t("button",{onClick:G,type:"button",class:"inline-flex items-center gap-1 px-2 py-1 bg-gray-100 text-gray-700 text-xs font-medium rounded hover:bg-gray-200 transition-colors",title:"Copiar número de compra"},e[14]||(e[14]=[t("svg",{class:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z"})],-1),u(" Copiar ")]))])]),t("div",null,[e[18]||(e[18]=t("label",{for:"fecha_compra",class:"block text-sm font-medium text-gray-700 mb-2 flex items-center gap-2"},[u(" Fecha de Compra "),t("span",{class:"inline-flex items-center gap-1 px-2 py-1 bg-blue-100 text-blue-700 text-xs font-medium rounded-full"},[t("svg",{class:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})]),u(" Automática ")])],-1)),t("div",Ne,[_(t("input",{id:"fecha_compra","onUpdate:modelValue":e[2]||(e[2]=r=>i(a).fecha_compra=r),type:"date",class:"w-full bg-gray-50 text-gray-500 cursor-not-allowed border border-gray-300 rounded-lg px-4 py-3 focus:ring-2 focus:ring-indigo-500 focus:border-transparent",readonly:"",required:""},null,512),[[M,i(a).fecha_compra]]),e[17]||(e[17]=t("div",{class:"absolute inset-y-0 right-0 pr-3 flex items-center pointer-events-none"},[t("svg",{class:"w-5 h-5 text-blue-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})])],-1))]),e[19]||(e[19]=t("p",{class:"mt-1 text-xs text-gray-500"},"Esta fecha se establece con la fecha de creación",-1))]),t("div",null,[e[21]||(e[21]=t("label",{for:"metodo_pago",class:"block text-sm font-medium text-gray-700 mb-2"},"Método de Pago",-1)),_(t("select",{id:"metodo_pago","onUpdate:modelValue":e[3]||(e[3]=r=>i(a).metodo_pago=r),disabled:y.value,class:"w-full border border-gray-300 rounded-lg px-4 py-3 focus:ring-2 focus:ring-indigo-500 focus:border-transparent disabled:bg-gray-100 disabled:cursor-not-allowed"},e[20]||(e[20]=[t("option",{value:"transferencia"},"Transferencia",-1),t("option",{value:"efectivo"},"Efectivo",-1),t("option",{value:"tarjeta"},"Tarjeta",-1),t("option",{value:"cheque"},"Cheque",-1)]),8,Me),[[ne,i(a).metodo_pago]])]),t("div",null,[e[22]||(e[22]=t("label",{for:"referencia_pago",class:"block text-sm font-medium text-gray-700 mb-2"},"Referencia de Pago",-1)),_(t("input",{id:"referencia_pago","onUpdate:modelValue":e[4]||(e[4]=r=>i(a).referencia_pago=r),type:"text",disabled:y.value,class:"w-full border border-gray-300 rounded-lg px-4 py-3 focus:ring-2 focus:ring-indigo-500 focus:border-transparent disabled:bg-gray-100 disabled:cursor-not-allowed",placeholder:"Folio/Referencia / Últimos 4 / Nota"},null,8,je),[[M,i(a).referencia_pago]])])])]),t("div",Pe,[e[24]||(e[24]=t("div",{class:"bg-gradient-to-r from-blue-500 to-blue-600 px-6 py-4"},[t("h2",{class:"text-lg font-semibold text-white flex items-center"},[t("svg",{class:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})]),u(" Información del Proveedor ")])],-1)),t("div",Se,[x(ve,{proveedores:z.value,"proveedor-seleccionado":p.value,"label-busqueda":"Proveedor","placeholder-busqueda":"Buscar proveedor por nombre, RFC, email...",requerido:"",onProveedorSeleccionado:R},null,8,["proveedores","proveedor-seleccionado"]),e[23]||(e[23]=ie('<div class="mt-4 p-3 bg-blue-50 border border-blue-200 rounded-lg" data-v-4bbe3b5c><div class="flex items-center gap-2 text-blue-700 text-sm" data-v-4bbe3b5c><svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24" data-v-4bbe3b5c><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z" data-v-4bbe3b5c></path></svg><span class="font-medium" data-v-4bbe3b5c>Nota:</span><span data-v-4bbe3b5c>Las compras pueden incluir productos y servicios.</span></div></div>',1))])]),t("div",ze,[e[25]||(e[25]=t("div",{class:"bg-gradient-to-r from-green-500 to-green-600 px-6 py-4"},[t("h2",{class:"text-lg font-semibold text-white flex items-center"},[t("svg",{class:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 11H5m14 0a2 2 0 012 2v6a2 2 0 01-2 2H5a2 2 0 01-2-2v-6a2 2 0 012-2m14 0V9a2 2 0 00-2-2M5 11V9a2 2 0 012-2m0 0V5a2 2 0 012 2v2M7 7h10"})]),u(" Ítems ")])],-1)),t("div",Ve,[x(ge,{ref_key:"buscarProductoRef",ref:U,productos:c.productos,servicios:c.servicios,onAgregarProducto:Q},null,8,["productos","servicios"]),x(fe,{"selected-products":l.value,productos:c.productos,servicios:c.servicios,quantities:m.value,prices:g.value,discounts:f.value,onEliminarProducto:Y,onUpdateQuantity:Z,onUpdateDiscount:J},null,8,["selected-products","productos","servicios","quantities","prices","discounts"])])]),t("div",Be,[e[26]||(e[26]=t("div",{class:"bg-gradient-to-r from-purple-500 to-purple-600 px-6 py-4"},[t("h2",{class:"text-lg font-semibold text-white flex items-center"},[t("svg",{class:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})]),u(" Notas y Observaciones ")])],-1)),t("div",Ee,[_(t("textarea",{"onUpdate:modelValue":e[5]||(e[5]=r=>i(a).notas=r),disabled:y.value,class:"w-full border border-gray-300 rounded-lg px-4 py-3 focus:ring-2 focus:ring-purple-500 focus:border-transparent resize-vertical disabled:bg-gray-100 disabled:cursor-not-allowed",rows:"4",placeholder:"Agrega observaciones, términos y condiciones especiales..."},null,8,Ae),[[M,i(a).notas]])])]),t("div",qe,[e[29]||(e[29]=t("div",{class:"bg-gradient-to-r from-red-500 to-red-600 px-6 py-4"},[t("h2",{class:"text-lg font-semibold text-white flex items-center"},[t("svg",{class:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M7 7h.01M7 3h5c.512 0 1.024.195 1.414.586l7 7a2 2 0 010 2.828l-7 7a2 2 0 01-2.828 0l-7-7A1.994 1.994 0 013 12V7a4 4 0 014-4z"})]),u(" Descuento General ")])],-1)),t("div",De,[t("div",Le,[t("div",null,[e[27]||(e[27]=t("label",{for:"descuento_general",class:"block text-sm font-medium text-gray-700 mb-2"}," Descuento General ($) ",-1)),_(t("input",{id:"descuento_general",type:"number",step:"0.01",min:"0","onUpdate:modelValue":e[6]||(e[6]=r=>i(a).descuento_general=r),disabled:y.value,class:"w-full border border-gray-300 rounded-lg px-4 py-3 focus:ring-2 focus:ring-red-500 focus:border-transparent disabled:bg-gray-100 disabled:cursor-not-allowed",placeholder:"0.00"},null,8,He),[[M,i(a).descuento_general]]),e[28]||(e[28]=t("p",{class:"mt-1 text-xs text-gray-500"}," Este descuento se aplica al subtotal después de los descuentos por item ",-1))])])])]),x(pe,{"show-margin-calculator":!1,"margin-data":{costoTotal:0,precioVenta:0,ganancia:0,margenPorcentaje:0},totals:w.value,"item-count":l.value.length,"total-quantity":Object.values(m.value).reduce((r,n)=>r+(n||0),0)},null,8,["totals","item-count","total-quantity"]),x(me,{"back-url":o.route("compras.index"),"is-processing":i(a).processing,"can-submit":i(a).proveedor_id&&l.value.length>0,"button-text":i(a).processing?"Guardando...":"Actualizar Compra"},null,8,["back-url","is-processing","can-submit","button-text"])],32),t("button",{onClick:e[7]||(e[7]=r=>j.value=!j.value),class:"fixed bottom-4 left-4 bg-gray-600 text-white p-3 rounded-full shadow-lg hover:bg-gray-700 transition-colors duration-200",title:"Mostrar atajos de teclado"},e[30]||(e[30]=[t("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M8.228 9c.549-1.165 2.03-2 3.772-2 2.21 0 4 1.343 4 3 0 1.4-1.278 2.575-3.006 2.907-.542.104-.994.54-.994 1.093m0 3h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})],-1)])),x(be,{show:S.value,type:"compra",proveedor:p.value,productos:l.value,totals:w.value,notas:i(a).notas,onClose:e[8]||(e[8]=r=>S.value=!1),onPrint:e[9]||(e[9]=()=>o.window.print())},null,8,["show","proveedor","productos","totals","notas"])])])]))}}),Ke=xe(Ie,[["__scopeId","data-v-4bbe3b5c"]]);export{Ke as default};
