import{K as B,r as P,c as h,i as d,o as u,g as L,f as e,u as T,Z as I,s as C,q as H,v as c,k as p,l as i,x as S,F as V,m as K,t as a,n as v,z as b,E as $,N as O}from"./vendor-d19pJyVS.js";import{N as G}from"./app-BcT2PLJy.js";import{A as Z}from"./AppLayout-CcnrZQKI.js";import"./utils-Dq7h7Pqt.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";const J={class:"max-w-4xl mx-auto"},Q={class:"bg-white rounded-lg shadow-lg p-6"},W={class:"bg-gray-50 p-4 rounded-lg"},X=["value"],Y={key:0,class:"mt-3 p-3 bg-blue-50 rounded-lg border border-blue-200"},ee={class:"flex items-center text-sm text-blue-800"},oe={class:"grid grid-cols-2 gap-2 text-sm text-blue-700 mt-2"},te={key:0},re={key:0,class:"text-sm text-blue-600 mt-1"},ie={class:"border-b border-gray-200 pb-6"},se={class:"grid grid-cols-1 md:grid-cols-2 gap-6"},ae={key:0,class:"text-red-500 text-sm mt-1"},ne={key:0,class:"transition-all duration-300"},le={key:0,class:"text-red-500 text-sm mt-1"},de={class:"bg-gradient-to-br from-purple-50 to-blue-50 p-6 rounded-xl border border-purple-200 mb-6"},ue={class:"grid grid-cols-1 lg:grid-cols-2 gap-8"},ce={class:"bg-white p-6 rounded-lg border border-gray-200 shadow-sm"},me=["max"],pe={key:0,class:"text-red-500 text-sm mt-2"},be={class:"text-xs text-gray-500 mt-1"},fe={class:"bg-white p-6 rounded-lg border border-gray-200 shadow-sm"},ge=["min"],ve={key:0,class:"text-red-500 text-sm mt-2"},xe={class:"text-xs text-gray-500 mt-1"},ye={class:"bg-yellow-50 border border-yellow-200 rounded-lg p-4 mb-6"},ke={class:"text-sm text-yellow-700 space-y-1"},we={class:"grid md:grid-cols-2 gap-6"},he=["min"],Se={class:"flex gap-2"},_e={key:0,class:"text-xs text-gray-500 mt-1"},je={class:"bg-blue-50 p-4 rounded-lg border border-blue-200"},Ce={class:"grid md:grid-cols-3 gap-4"},Ne={class:"text-xs text-gray-500 mt-1"},De=["placeholder"],Me={class:"flex items-center"},Ve={class:"relative inline-flex items-center cursor-pointer"},Oe={class:"ml-3 text-sm font-medium text-gray-700"},qe={class:"mt-4"},ze={class:"flex justify-end text-sm text-gray-500 mt-1"},Ae={class:"flex justify-end text-sm text-gray-500 mt-1"},Ee={class:"pb-6"},Ue={key:0,class:"text-red-500 text-sm mt-1"},Re={class:"flex justify-between items-center mt-2"},Fe={class:"text-xs text-gray-400"},Be={class:"flex items-center justify-between pt-6 border-t border-gray-200"},Pe=["disabled"],Le={key:0,class:"flex items-center"},Te={key:1,class:"flex items-center"},Ze=Object.assign({layout:Z},{__name:"Edit",props:{mantenimiento:Object,carros:Array,errors:{type:Object,default:()=>({})}},setup(N){const n=N,x=new G({duration:4e3,position:{x:"right",y:"top"},types:[{type:"success",background:"#10b981",icon:{className:"fas fa-check-circle",tagName:"i",color:"#fff"}},{type:"error",background:"#ef4444",icon:{className:"fas fa-times-circle",tagName:"i",color:"#fff"}},{type:"warning",background:"#f59e0b",icon:{className:"fas fa-exclamation-triangle",tagName:"i",color:"#fff"}}]}),y=s=>{if(!s)return null;if(typeof s=="string"){const o=s.match(/(\d{4}-\d{2}-\d{2})/);if(o)return o[1];const f=new Date(s);return isNaN(f.getTime())?null:f.toISOString().split("T")[0]}return s},t=B({carro_id:n.mantenimiento.carro_id||"",tipo:n.mantenimiento.tipo||"",otro_servicio:n.mantenimiento.otro_servicio||"",fecha:y(n.mantenimiento.fecha)||"",proximo_mantenimiento:y(n.mantenimiento.proximo_mantenimiento)||"",notas:n.mantenimiento.notas||"",kilometraje_actual:n.mantenimiento.kilometraje_actual||"",costo:n.mantenimiento.costo||"",taller:n.mantenimiento.taller||"",descripcion:n.mantenimiento.descripcion||"",estado:n.mantenimiento.estado||"completado",proximo_kilometraje:n.mantenimiento.proximo_kilometraje||"",prioridad:n.mantenimiento.prioridad||"media",dias_anticipacion_alerta:n.mantenimiento.dias_anticipacion_alerta||30,requiere_aprobacion:n.mantenimiento.requiere_aprobacion||!1,observaciones_alerta:n.mantenimiento.observaciones_alerta||""}),g=P(!1),l=h(()=>n.errors||{}),_=h(()=>new Date().toISOString().split("T")[0]),m=h(()=>n.carros.find(s=>s.id===t.carro_id));h(()=>({mantenimiento:n.mantenimiento,form:t,fecha:t.fecha,proximo_mantenimiento:t.proximo_mantenimiento,todayDate:_.value}));const q=()=>{m.value?(t.kilometraje_actual=m.value.kilometraje,m.value.taller_preferido&&!t.taller&&(t.taller=m.value.taller_preferido)):(t.kilometraje_actual="",t.taller="")},z=()=>{t.tipo!=="Otro servicio"&&(t.otro_servicio="")},A=()=>{O.visit(route("mantenimientos.index"))},E=()=>{const s=[];return t.carro_id||s.push("Debe seleccionar un vehículo"),t.tipo||s.push("Debe seleccionar un tipo de servicio"),t.tipo==="Otro servicio"&&!t.otro_servicio.trim()&&s.push("Debe especificar el tipo de servicio personalizado"),t.fecha||s.push("Debe seleccionar la fecha del mantenimiento"),t.proximo_mantenimiento||s.push("Debe seleccionar la fecha del próximo mantenimiento"),t.fecha&&t.proximo_mantenimiento&&new Date(t.proximo_mantenimiento)<=new Date(t.fecha)&&s.push("La fecha del próximo mantenimiento debe ser posterior a la fecha del mantenimiento actual"),t.fecha&&new Date(t.fecha)>new Date&&s.push("La fecha del mantenimiento no puede ser futura"),t.notas&&t.notas.length>500&&s.push("Las notas no pueden exceder 500 caracteres"),s},j=s=>new Intl.NumberFormat("es-ES").format(s),k=()=>({"Cambio de aceite":800,"Revisión periódica":1200,"Servicio de frenos":2500,"Servicio de llantas":600,"Servicio de batería":1800,"Servicio de motor":3500,"Revisión de luces":300,"Alineación y balanceo":800,"Cambio de filtros":400,"Revisión de transmisión":2e3,"Otro servicio":0})[t.tipo]||0,U=s=>({baja:"Mantenimiento rutinario, no urgente",media:"Mantenimiento importante, programar pronto",alta:"Mantenimiento crítico, requiere atención prioritaria",critica:"Mantenimiento urgente, requiere atención inmediata"})[s]||"Selecciona una prioridad",R=()=>({"Cambio de aceite":30,"Revisión periódica":60,"Servicio de frenos":90,"Servicio de llantas":180,"Servicio de batería":180,"Servicio de motor":120,"Revisión de luces":30,"Alineación y balanceo":180,"Cambio de filtros":60,"Revisión de transmisión":120,"Otro servicio":30})[t.tipo]||30,F=async()=>{if(g.value)return;const s=E();if(s.length>0){s.forEach(o=>{x.error(o)});return}g.value=!0;try{await O.put(route("mantenimientos.update",n.mantenimiento.id),t,{onSuccess:o=>{x.success("¡El mantenimiento ha sido actualizado exitosamente!")},onError:o=>{console.error("Errores de validación:",o);const f=Object.values(o).flat();f.length>0?f.forEach(w=>{x.error(w)}):x.error("Hubo errores en el formulario. Por favor revisa los campos.")},onFinish:()=>{g.value=!1}})}catch(o){console.error("Error inesperado:",o),x.error("Ocurrió un error inesperado. Por favor intenta de nuevo."),g.value=!1}};return(s,o)=>{var f,w,D,M;return u(),d(V,null,[L(T(I),{title:"Editar Mantenimiento"}),e("div",J,[e("div",Q,[o[61]||(o[61]=C('<div class="flex items-center mb-6"><div class="bg-blue-500 p-3 rounded-lg mr-4"><i class="fas fa-edit text-white text-xl"></i></div><div><h1 class="text-2xl font-bold text-gray-800">Editar Mantenimiento</h1><p class="text-gray-600">Actualiza la información del servicio de mantenimiento para tu vehículo</p></div></div>',1)),e("form",{onSubmit:H(F,["prevent"]),class:"space-y-6"},[e("div",W,[o[22]||(o[22]=e("label",{class:"block text-gray-700 text-sm font-semibold mb-3"},[e("i",{class:"fas fa-car mr-2"}),i("Seleccionar Vehículo ")],-1)),c(e("select",{"onUpdate:modelValue":o[0]||(o[0]=r=>t.carro_id=r),class:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all duration-200",required:"",onChange:q},[o[16]||(o[16]=e("option",{value:"",disabled:""},"Selecciona un vehículo",-1)),(u(!0),d(V,null,K(N.carros,r=>(u(),d("option",{key:r.id,value:r.id},a(r.marca)+" "+a(r.modelo)+" "+a(r.año||"")+" - "+a(j(r.kilometraje))+" km ",9,X))),128))],544),[[S,t.carro_id]]),m.value?(u(),d("div",Y,[e("div",ee,[o[18]||(o[18]=e("i",{class:"fas fa-info-circle mr-2"},null,-1)),e("span",null,[o[17]||(o[17]=i("Vehículo seleccionado: ")),e("strong",null,a(m.value.marca)+" "+a(m.value.modelo),1)])]),e("div",oe,[e("div",null,[o[19]||(o[19]=i("Kilometraje actual: ")),e("strong",null,a(j(m.value.kilometraje))+" km",1)]),m.value.año?(u(),d("div",te,[o[20]||(o[20]=i("Año: ")),e("strong",null,a(m.value.año),1)])):p("",!0)]),m.value.taller_preferido?(u(),d("div",re,[o[21]||(o[21]=e("i",{class:"fas fa-wrench mr-1"},null,-1)),i(" Taller preferido: "+a(m.value.taller_preferido),1)])):p("",!0)])):p("",!0)]),e("div",ie,[o[26]||(o[26]=e("h3",{class:"text-lg font-semibold text-gray-900 mb-4 flex items-center"},[e("svg",{class:"w-5 h-5 mr-2 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z"}),e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"})]),i(" Detalles del Servicio ")],-1)),e("div",se,[e("div",null,[o[24]||(o[24]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},[i(" Tipo de Servicio "),e("span",{class:"text-red-500"},"*")],-1)),c(e("select",{"onUpdate:modelValue":o[1]||(o[1]=r=>t.tipo=r),onChange:z,class:v(["w-full px-4 py-3 border border-gray-300 rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition duration-200",{"border-red-500 ring-red-200":l.value.tipo}]),required:""},o[23]||(o[23]=[C('<option value="">Selecciona el tipo de servicio</option><optgroup label="Servicios Generales"><option value="Revisión periódica">🔍 Revisión periódica</option><option value="Cambio de aceite">🛢️ Cambio de aceite</option><option value="Revisión de luces">💡 Revisión de luces</option></optgroup><optgroup label="Servicios Específicos"><option value="Servicio de frenos">🛑 Servicio de frenos</option><option value="Servicio de llantas">🛞 Servicio de llantas</option><option value="Servicio de batería">🔋 Servicio de batería</option><option value="Servicio de motor">🔧 Servicio de motor</option><option value="Servicio de transmisión">⚙️ Servicio de transmisión</option><option value="Servicio de aire acondicionado">❄️ Aire acondicionado</option><option value="Alineación y balanceo">📐 Alineación y balanceo</option></optgroup><optgroup label="Otros"><option value="Otro servicio">✨ Otro servicio</option></optgroup>',4)]),34),[[S,t.tipo]]),l.value.tipo?(u(),d("p",ae,a(l.value.tipo),1)):p("",!0)]),t.tipo==="Otro servicio"?(u(),d("div",ne,[o[25]||(o[25]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},[i(" Especifique el servicio "),e("span",{class:"text-red-500"},"*")],-1)),c(e("input",{"onUpdate:modelValue":o[2]||(o[2]=r=>t.otro_servicio=r),type:"text",class:v(["w-full px-4 py-3 border border-gray-300 rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition duration-200",{"border-red-500 ring-red-200":l.value.otro_servicio}]),placeholder:"Describe el tipo de servicio específico",required:""},null,2),[[b,t.otro_servicio]]),l.value.otro_servicio?(u(),d("p",le,a(l.value.otro_servicio),1)):p("",!0)])):p("",!0)])]),e("div",de,[o[33]||(o[33]=e("h3",{class:"text-xl font-bold text-gray-900 mb-6 flex items-center"},[e("div",{class:"bg-purple-100 p-2 rounded-lg mr-3"},[e("svg",{class:"w-6 h-6 text-purple-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})])]),i(" 📅 Fechas y Programación ")],-1)),e("div",ue,[e("div",ce,[o[28]||(o[28]=e("label",{class:"block text-sm font-bold text-gray-800 mb-3"},[e("i",{class:"fas fa-calendar-day mr-2 text-purple-600"}),i(" Fecha del Mantenimiento "),e("span",{class:"text-red-500"},"*")],-1)),c(e("input",{"onUpdate:modelValue":o[3]||(o[3]=r=>t.fecha=r),type:"date",max:_.value,class:v(["w-full px-4 py-3 border-2 border-gray-300 rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-purple-500 transition-all duration-200 text-lg",{"border-red-500 ring-red-200":l.value.fecha}]),required:""},null,10,me),[[b,t.fecha]]),l.value.fecha?(u(),d("p",pe,a(l.value.fecha),1)):p("",!0),o[29]||(o[29]=e("p",{class:"text-gray-600 text-sm mt-2 flex items-center"},[e("i",{class:"fas fa-info-circle mr-2 text-blue-500"}),i(" Fecha en que se realizó el mantenimiento ")],-1)),e("p",be,[o[27]||(o[27]=i(" Valor actual: ")),e("strong",null,a(t.fecha||"No especificado"),1)])]),e("div",fe,[o[31]||(o[31]=e("label",{class:"block text-sm font-bold text-gray-800 mb-3"},[e("i",{class:"fas fa-calendar-plus mr-2 text-blue-600"}),i(" Próximo Mantenimiento "),e("span",{class:"text-red-500"},"*")],-1)),c(e("input",{"onUpdate:modelValue":o[4]||(o[4]=r=>t.proximo_mantenimiento=r),type:"date",min:_.value,class:v(["w-full px-4 py-3 border-2 border-gray-300 rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all duration-200 text-lg",{"border-red-500 ring-red-200":l.value.proximo_mantenimiento}]),required:""},null,10,ge),[[b,t.proximo_mantenimiento]]),l.value.proximo_mantenimiento?(u(),d("p",ve,a(l.value.proximo_mantenimiento),1)):p("",!0),o[32]||(o[32]=e("p",{class:"text-gray-600 text-sm mt-2 flex items-center"},[e("i",{class:"fas fa-info-circle mr-2 text-blue-500"}),i(" Fecha estimada para el siguiente mantenimiento ")],-1)),e("p",xe,[o[30]||(o[30]=i(" Valor actual: ")),e("strong",null,a(t.proximo_mantenimiento||"No especificado"),1)])])]),o[34]||(o[34]=C('<div class="mt-6 p-4 bg-blue-50 rounded-lg border border-blue-200"><h4 class="text-sm font-bold text-blue-800 mb-3 flex items-center"><i class="fas fa-lightbulb mr-2"></i> 💡 Recomendaciones de intervalos: </h4><div class="grid grid-cols-1 md:grid-cols-2 gap-3 text-sm text-blue-700"><div class="flex items-center"><span class="w-2 h-2 bg-blue-500 rounded-full mr-3"></span><span>Cambio de aceite: cada 3-6 meses</span></div><div class="flex items-center"><span class="w-2 h-2 bg-blue-500 rounded-full mr-3"></span><span>Revisión general: cada 6-12 meses</span></div><div class="flex items-center"><span class="w-2 h-2 bg-blue-500 rounded-full mr-3"></span><span>Frenos: cada 12-18 meses</span></div><div class="flex items-center"><span class="w-2 h-2 bg-blue-500 rounded-full mr-3"></span><span>Llantas: cada 6-12 meses</span></div></div></div>',1))]),e("div",ye,[o[38]||(o[38]=e("h4",{class:"text-sm font-bold text-yellow-800 mb-2"},"🔧 Debug - Información de Fechas:",-1)),e("div",ke,[e("div",null,[o[35]||(o[35]=e("strong",null,"Fecha del mantenimiento:",-1)),i(" "+a(y(t.fecha)||"No definida"),1)]),e("div",null,[o[36]||(o[36]=e("strong",null,"Próximo mantenimiento:",-1)),i(" "+a(y(t.proximo_mantenimiento)||"No definido"),1)]),o[37]||(o[37]=e("div",{class:"text-xs text-gray-600 mt-2"},[e("em",null,"Si ves texto extraño, es porque hay datos corruptos en la base de datos")],-1))])]),e("div",we,[e("div",null,[o[39]||(o[39]=e("label",{class:"block text-gray-700 text-sm font-semibold mb-3"},[e("i",{class:"fas fa-tachometer-alt mr-2"}),i("Kilometraje del Servicio ")],-1)),c(e("input",{"onUpdate:modelValue":o[5]||(o[5]=r=>t.kilometraje_actual=r),type:"number",min:((f=m.value)==null?void 0:f.kilometraje)||0,placeholder:"Ingresa el kilometraje actual",class:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all duration-200",required:""},null,8,he),[[b,t.kilometraje_actual]]),o[40]||(o[40]=e("p",{class:"text-sm text-gray-500 mt-2 flex items-center"},[e("i",{class:"fas fa-exclamation-triangle text-yellow-500 mr-2"}),i(" Debe ser mayor o igual al kilometraje actual del vehículo ")],-1))]),e("div",null,[o[41]||(o[41]=e("label",{class:"block text-gray-700 text-sm font-semibold mb-3"},[e("i",{class:"fas fa-dollar-sign mr-2"}),i("Costo del Servicio (Opcional) ")],-1)),e("div",Se,[c(e("input",{"onUpdate:modelValue":o[6]||(o[6]=r=>t.costo=r),type:"number",step:"0.01",min:"0",placeholder:"0.00",class:v(["flex-1 p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all duration-200",{"border-red-500 ring-red-200":l.value.costo}])},null,2),[[b,t.costo]]),t.tipo&&k()>0?(u(),d("button",{key:0,type:"button",onClick:o[7]||(o[7]=r=>t.costo=k()),class:"px-3 py-3 bg-blue-100 text-blue-700 rounded-lg hover:bg-blue-200 transition-colors text-sm font-medium",title:"Usar costo sugerido"}," 💰 Sugerido ")):p("",!0)]),t.tipo&&k()>0?(u(),d("p",_e," Costo sugerido para "+a(t.tipo)+": $"+a(j(k())),1)):p("",!0)])]),e("div",null,[o[42]||(o[42]=e("label",{class:"block text-gray-700 text-sm font-semibold mb-3"},[e("i",{class:"fas fa-map-marker-alt mr-2"}),i("Taller/Lugar (Opcional) ")],-1)),c(e("input",{"onUpdate:modelValue":o[8]||(o[8]=r=>t.taller=r),type:"text",placeholder:"Nombre del taller o lugar",class:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all duration-200"},null,512),[[b,t.taller]])]),e("div",je,[o[51]||(o[51]=e("h3",{class:"text-lg font-semibold text-blue-800 mb-4 flex items-center"},[e("i",{class:"fas fa-bell mr-2"}),i(" Configuración de Alertas y Prioridad ")],-1)),e("div",Ce,[e("div",null,[o[44]||(o[44]=e("label",{class:"block text-gray-700 text-sm font-semibold mb-3"},[e("i",{class:"fas fa-exclamation-triangle mr-2"}),i("Prioridad ")],-1)),c(e("select",{"onUpdate:modelValue":o[9]||(o[9]=r=>t.prioridad=r),class:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all duration-200",required:""},o[43]||(o[43]=[e("option",{value:"baja"},"🟢 Baja",-1),e("option",{value:"media"},"🔵 Media",-1),e("option",{value:"alta"},"🟠 Alta",-1),e("option",{value:"critica"},"🔴 Crítica",-1)]),512),[[S,t.prioridad]]),e("p",Ne,a(U(t.prioridad)),1)]),e("div",null,[o[45]||(o[45]=e("label",{class:"block text-gray-700 text-sm font-semibold mb-3"},[e("i",{class:"fas fa-clock mr-2"}),i("Días de Anticipación ")],-1)),c(e("input",{"onUpdate:modelValue":o[10]||(o[10]=r=>t.dias_anticipacion_alerta=r),type:"number",min:"1",max:"365",placeholder:R(),class:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all duration-200",required:""},null,8,De),[[b,t.dias_anticipacion_alerta]]),o[46]||(o[46]=e("p",{class:"text-xs text-gray-500 mt-1"}," Días antes para enviar alerta ",-1))]),e("div",null,[o[48]||(o[48]=e("label",{class:"block text-gray-700 text-sm font-semibold mb-3"},[e("i",{class:"fas fa-check-circle mr-2"}),i("Requiere Aprobación ")],-1)),e("div",Me,[e("label",Ve,[c(e("input",{"onUpdate:modelValue":o[11]||(o[11]=r=>t.requiere_aprobacion=r),type:"checkbox",class:"sr-only peer"},null,512),[[$,t.requiere_aprobacion]]),o[47]||(o[47]=e("div",{class:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-600"},null,-1)),e("span",Oe,a(t.requiere_aprobacion?"Sí":"No"),1)])]),o[49]||(o[49]=e("p",{class:"text-xs text-gray-500 mt-1"}," Si necesita aprobación especial ",-1))])]),e("div",qe,[o[50]||(o[50]=e("label",{class:"block text-gray-700 text-sm font-semibold mb-3"},[e("i",{class:"fas fa-sticky-note mr-2"}),i("Observaciones de Alerta (Opcional) ")],-1)),c(e("textarea",{"onUpdate:modelValue":o[12]||(o[12]=r=>t.observaciones_alerta=r),rows:"2",placeholder:"Notas adicionales para la alerta...",class:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all duration-200 resize-y",maxlength:"500"},null,512),[[b,t.observaciones_alerta]]),e("div",ze,[e("span",null,a(((w=t.observaciones_alerta)==null?void 0:w.length)||0)+"/500 caracteres",1)])])]),e("div",null,[o[53]||(o[53]=e("label",{class:"block text-gray-700 text-sm font-semibold mb-3"},[e("i",{class:"fas fa-info-circle mr-2"}),i("Estado del Mantenimiento ")],-1)),c(e("select",{"onUpdate:modelValue":o[13]||(o[13]=r=>t.estado=r),class:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all duration-200"},o[52]||(o[52]=[e("option",{value:"completado"},"✅ Completado",-1),e("option",{value:"pendiente"},"⏳ Pendiente",-1),e("option",{value:"en_proceso"},"🔄 En Proceso",-1)]),512),[[S,t.estado]])]),e("div",null,[o[54]||(o[54]=e("label",{class:"block text-gray-700 text-sm font-semibold mb-3"},[e("i",{class:"fas fa-align-left mr-2"}),i("Descripción (Opcional) ")],-1)),c(e("textarea",{"onUpdate:modelValue":o[14]||(o[14]=r=>t.descripcion=r),rows:"3",placeholder:"Descripción detallada del mantenimiento...",class:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all duration-200 resize-y",maxlength:"1000"},null,512),[[b,t.descripcion]]),e("div",Ae,[e("span",null,a(((D=t.descripcion)==null?void 0:D.length)||0)+"/1000 caracteres",1)])]),e("div",Ee,[o[57]||(o[57]=e("h3",{class:"text-lg font-semibold text-gray-900 mb-4 flex items-center"},[e("svg",{class:"w-5 h-5 mr-2 text-orange-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})]),i(" Observaciones y Notas ")],-1)),e("div",null,[o[56]||(o[56]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"}," Notas del Mantenimiento ",-1)),c(e("textarea",{"onUpdate:modelValue":o[15]||(o[15]=r=>t.notas=r),rows:"4",class:v(["w-full px-4 py-3 border border-gray-300 rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition duration-200 resize-none",{"border-red-500 ring-red-200":l.value.notas}]),placeholder:"Describe detalles del mantenimiento realizado, piezas cambiadas, observaciones importantes, etc."},null,2),[[b,t.notas]]),l.value.notas?(u(),d("p",Ue,a(l.value.notas),1)):p("",!0),e("div",Re,[o[55]||(o[55]=e("p",{class:"text-gray-500 text-xs"},"Información adicional sobre el mantenimiento",-1)),e("span",Fe,a(((M=t.notas)==null?void 0:M.length)||0)+"/500 caracteres",1)])])]),e("div",Be,[e("button",{type:"button",onClick:A,class:"px-6 py-3 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-lg shadow-sm hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition duration-200"},o[58]||(o[58]=[e("svg",{class:"w-4 h-4 mr-2 inline",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M10 19l-7-7m0 0l7-7m-7 7h18"})],-1),i(" Cancelar ")])),e("button",{type:"submit",disabled:g.value,class:"px-8 py-3 text-sm font-medium text-white bg-gradient-to-r from-blue-600 to-blue-700 border border-transparent rounded-lg shadow-sm hover:from-blue-700 hover:to-blue-800 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed transition duration-200"},[g.value?(u(),d("span",Le,o[59]||(o[59]=[e("svg",{class:"animate-spin -ml-1 mr-3 h-4 w-4 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},[e("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"}),e("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})],-1),i(" Actualizando Mantenimiento... ")]))):(u(),d("span",Te,o[60]||(o[60]=[e("svg",{class:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M5 13l4 4L19 7"})],-1),i(" Actualizar Mantenimiento ")])))],8,Pe)])],32)])])],64)}}});export{Ze as default};
