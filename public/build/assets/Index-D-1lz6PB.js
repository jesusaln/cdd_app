import{B as K,C as N,w as ge,i as u,o as c,f as e,l as B,t as a,v as S,z as me,x as $,s as U,Q as xe,p as fe,r as _,c as P,g as W,u as be,Z as ye,k as M,F as z,m as ee,n as O,q as he,N as p}from"./vendor-d19pJyVS.js";import{A as we}from"./AppLayout-CcnrZQKI.js";import{N as ke}from"./app-BcT2PLJy.js";import{_ as te}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./utils-Dq7h7Pqt.js";const _e={class:"bg-white rounded-xl shadow-sm border border-gray-100 overflow-hidden"},Ce={class:"bg-gradient-to-r from-blue-50 to-indigo-50 px-6 py-6 border-b border-gray-200/60"},Me={class:"grid grid-cols-2 md:grid-cols-6 gap-4"},Ee={class:"bg-white/70 rounded-lg p-4 border border-gray-200/50"},je={class:"flex items-center justify-between"},Ae={class:"text-2xl font-bold text-gray-900"},Pe={class:"bg-white/70 rounded-lg p-4 border border-gray-200/50"},Ne={class:"flex items-center justify-between"},Se={class:"text-2xl font-bold text-green-600"},$e={class:"bg-white/70 rounded-lg p-4 border border-gray-200/50"},Be={class:"flex items-center justify-between"},Te={class:"text-2xl font-bold text-red-600"},Le={class:"bg-white/70 rounded-lg p-4 border border-gray-200/50"},Fe={class:"flex items-center justify-between"},ze={class:"text-2xl font-bold text-blue-600"},Oe={class:"bg-white/70 rounded-lg p-4 border border-gray-200/50"},Ue={class:"flex items-center justify-between"},Ve={class:"text-2xl font-bold text-purple-600"},He={class:"bg-white/70 rounded-lg p-4 border border-gray-200/50"},Ie={class:"flex items-center justify-between"},De={class:"text-2xl font-bold text-indigo-600"},Re={class:"px-6 py-4 bg-gray-50/50 border-b border-gray-200/60"},Ze={class:"flex flex-col md:flex-row md:items-center md:justify-between space-y-4 md:space-y-0"},Ge={class:"flex-1 max-w-md"},Qe={class:"relative"},Xe={class:"flex items-center space-x-3"},Je={__name:"ProveedoresHeader",props:K({total:{type:Number,default:0},activos:{type:Number,default:0},inactivos:{type:Number,default:0},personas_fisicas:{type:Number,default:0},personas_morales:{type:Number,default:0},con_email:{type:Number,default:0}},{searchTerm:{type:String,default:""},searchTermModifiers:{},sortBy:{type:String,default:"created_at-desc"},sortByModifiers:{},filtroTipoPersona:{type:String,default:""},filtroTipoPersonaModifiers:{},filtroEstado:{type:String,default:""},filtroEstadoModifiers:{},filtroEstadoMexico:{type:String,default:""},filtroEstadoMexicoModifiers:{}}),emits:K(["crear-nueva","search-change","filtro-tipo-persona-change","filtro-estado-change","filtro-estado-mexico-change","sort-change","limpiar-filtros"],["update:searchTerm","update:sortBy","update:filtroTipoPersona","update:filtroEstado","update:filtroEstadoMexico"]),setup(g,{emit:w}){const C=w,l=N(g,"searchTerm"),x=N(g,"sortBy"),m=N(g,"filtroTipoPersona"),i=N(g,"filtroEstado"),E=N(g,"filtroEstadoMexico"),f=()=>C("crear-nueva"),v=()=>C("search-change",l.value),b=()=>C("filtro-tipo-persona-change",m.value),y=()=>C("filtro-estado-change",i.value),h=()=>C("filtro-estado-mexico-change",E.value),j=()=>C("sort-change",x.value),T=()=>C("limpiar-filtros");return ge([l,x,m,i,E],()=>{},{immediate:!0}),(V,s)=>(c(),u("div",_e,[e("div",Ce,[e("div",{class:"flex items-center justify-between mb-6"},[s[6]||(s[6]=e("div",null,[e("h1",{class:"text-2xl font-bold text-gray-900 tracking-tight"},"Proveedores"),e("p",{class:"text-sm text-gray-600 mt-1"},"Gestiona todos tus proveedores en un solo lugar")],-1)),e("button",{onClick:f,class:"inline-flex items-center px-4 py-2 bg-blue-600 text-white text-sm font-medium rounded-lg hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 transition-colors duration-200"},s[5]||(s[5]=[e("svg",{class:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 4v16m8-8H4"})],-1),B(" Nuevo Proveedor ")]))]),e("div",Me,[e("div",Ee,[e("div",je,[e("div",null,[s[7]||(s[7]=e("p",{class:"text-sm font-medium text-gray-600"},"Total",-1)),e("p",Ae,a(g.total),1)]),s[8]||(s[8]=e("div",{class:"w-10 h-10 bg-blue-100 rounded-full flex items-center justify-center"},[e("svg",{class:"w-5 h-5 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})])],-1))])]),e("div",Pe,[e("div",Ne,[e("div",null,[s[9]||(s[9]=e("p",{class:"text-sm font-medium text-gray-600"},"Activos",-1)),e("p",Se,a(g.activos),1)]),s[10]||(s[10]=e("div",{class:"w-10 h-10 bg-green-100 rounded-full flex items-center justify-center"},[e("svg",{class:"w-5 h-5 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})])],-1))])]),e("div",$e,[e("div",Be,[e("div",null,[s[11]||(s[11]=e("p",{class:"text-sm font-medium text-gray-600"},"Inactivos",-1)),e("p",Te,a(g.inactivos),1)]),s[12]||(s[12]=e("div",{class:"w-10 h-10 bg-red-100 rounded-full flex items-center justify-center"},[e("svg",{class:"w-5 h-5 text-red-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M10 14l2-2m0 0l2-2m-2 2l-2-2m2 2l2 2m7-2a9 9 0 11-18 0 9 9 0 0118 0z"})])],-1))])]),e("div",Le,[e("div",Fe,[e("div",null,[s[13]||(s[13]=e("p",{class:"text-sm font-medium text-gray-600"},"Personas Físicas",-1)),e("p",ze,a(g.personas_fisicas),1)]),s[14]||(s[14]=e("div",{class:"w-10 h-10 bg-blue-100 rounded-full flex items-center justify-center"},[e("svg",{class:"w-5 h-5 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})])],-1))])]),e("div",Oe,[e("div",Ue,[e("div",null,[s[15]||(s[15]=e("p",{class:"text-sm font-medium text-gray-600"},"Personas Morales",-1)),e("p",Ve,a(g.personas_morales),1)]),s[16]||(s[16]=e("div",{class:"w-10 h-10 bg-purple-100 rounded-full flex items-center justify-center"},[e("svg",{class:"w-5 h-5 text-purple-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4"})])],-1))])]),e("div",He,[e("div",Ie,[e("div",null,[s[17]||(s[17]=e("p",{class:"text-sm font-medium text-gray-600"},"Con Email",-1)),e("p",De,a(g.con_email),1)]),s[18]||(s[18]=e("div",{class:"w-10 h-10 bg-indigo-100 rounded-full flex items-center justify-center"},[e("svg",{class:"w-5 h-5 text-indigo-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M3 8l7.89 4.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"})])],-1))])])])]),e("div",Re,[e("div",Ze,[e("div",Ge,[e("div",Qe,[s[19]||(s[19]=e("div",{class:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none"},[e("svg",{class:"h-5 w-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})])],-1)),S(e("input",{"onUpdate:modelValue":s[0]||(s[0]=n=>l.value=n),type:"text",placeholder:"Buscar por nombre, RFC o email...",class:"block w-full pl-10 pr-3 py-2 border border-gray-300 rounded-lg leading-5 bg-white placeholder-gray-500 focus:outline-none focus:placeholder-gray-400 focus:ring-1 focus:ring-blue-500 focus:border-blue-500 text-sm",onInput:v},null,544),[[me,l.value]])])]),e("div",Xe,[S(e("select",{"onUpdate:modelValue":s[1]||(s[1]=n=>m.value=n),onChange:b,class:"block w-48 pl-3 pr-10 py-2 text-sm border border-gray-300 rounded-lg focus:outline-none focus:ring-1 focus:ring-blue-500 focus:border-blue-500 bg-white"},s[20]||(s[20]=[e("option",{value:""},"Todos los tipos",-1),e("option",{value:"fisica"},"Persona Física",-1),e("option",{value:"moral"},"Persona Moral",-1)]),544),[[$,m.value]]),S(e("select",{"onUpdate:modelValue":s[2]||(s[2]=n=>i.value=n),onChange:y,class:"block w-48 pl-3 pr-10 py-2 text-sm border border-gray-300 rounded-lg focus:outline-none focus:ring-1 focus:ring-blue-500 focus:border-blue-500 bg-white"},s[21]||(s[21]=[e("option",{value:""},"Todos los estados",-1),e("option",{value:"1"},"Activos",-1),e("option",{value:"0"},"Inactivos",-1)]),544),[[$,i.value]]),S(e("select",{"onUpdate:modelValue":s[3]||(s[3]=n=>E.value=n),onChange:h,class:"block w-48 pl-3 pr-10 py-2 text-sm border border-gray-300 rounded-lg focus:outline-none focus:ring-1 focus:ring-blue-500 focus:border-blue-500 bg-white"},s[22]||(s[22]=[U('<option value="" data-v-e65ab3cc>Todos los estados</option><option value="CIUDAD DE MÉXICO" data-v-e65ab3cc>Ciudad de México</option><option value="JALISCO" data-v-e65ab3cc>Jalisco</option><option value="NUEVO LEÓN" data-v-e65ab3cc>Nuevo León</option><option value="ESTADO DE MÉXICO" data-v-e65ab3cc>Estado de México</option><option value="GUANAJUATO" data-v-e65ab3cc>Guanajuato</option><option value="PUEBLA" data-v-e65ab3cc>Puebla</option><option value="SONORA" data-v-e65ab3cc>Sonora</option><option value="VERACRUZ" data-v-e65ab3cc>Veracruz</option><option value="QUERÉTARO" data-v-e65ab3cc>Querétaro</option><option value="CHIHUAHUA" data-v-e65ab3cc>Chihuahua</option>',11)]),544),[[$,E.value]]),S(e("select",{"onUpdate:modelValue":s[4]||(s[4]=n=>x.value=n),onChange:j,class:"block w-48 pl-3 pr-10 py-2 text-sm border border-gray-300 rounded-lg focus:outline-none focus:ring-1 focus:ring-blue-500 focus:border-blue-500 bg-white"},s[23]||(s[23]=[U('<option value="created_at-desc" data-v-e65ab3cc>Fecha (Más reciente)</option><option value="created_at-asc" data-v-e65ab3cc>Fecha (Más antiguo)</option><option value="nombre_razon_social-asc" data-v-e65ab3cc>Nombre (A-Z)</option><option value="nombre_razon_social-desc" data-v-e65ab3cc>Nombre (Z-A)</option><option value="rfc-asc" data-v-e65ab3cc>RFC (A-Z)</option><option value="rfc-desc" data-v-e65ab3cc>RFC (Z-A)</option><option value="email-asc" data-v-e65ab3cc>Email (A-Z)</option><option value="email-desc" data-v-e65ab3cc>Email (Z-A)</option>',8)]),544),[[$,x.value]]),e("button",{onClick:T,class:"inline-flex items-center px-3 py-2 border border-gray-300 text-sm leading-4 font-medium rounded-lg text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200"},s[24]||(s[24]=[e("svg",{class:"w-4 h-4 mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1),B(" Limpiar ")]))])])])]))}},qe=te(Je,[["__scopeId","data-v-e65ab3cc"]]),Ye={class:"proveedores-index min-h-screen bg-gray-50"},Ke={class:"max-w-8xl mx-auto px-6 py-8"},We={class:"bg-white rounded-xl shadow-sm border border-gray-100 overflow-hidden"},et={class:"overflow-x-auto"},tt={class:"min-w-full divide-y divide-gray-200"},ot={class:"bg-white divide-y divide-gray-200"},st={class:"px-6 py-4"},rt={class:"text-sm text-gray-900"},at={class:"px-6 py-4"},lt={class:"text-sm font-medium text-gray-900"},it={class:"px-6 py-4"},nt={class:"text-sm text-gray-700"},dt={class:"px-6 py-4"},ut={class:"text-sm text-gray-700"},ct={class:"px-6 py-4"},vt={class:"px-6 py-4 text-right"},pt={class:"flex items-center justify-end space-x-1"},gt=["onClick"],mt=["onClick"],xt=["onClick"],ft=["onClick"],bt={key:0},yt={key:0,class:"bg-white border-t border-gray-200 px-4 py-3 sm:px-6"},ht={class:"flex flex-col sm:flex-row items-center justify-between gap-4"},wt={class:"flex items-center gap-4"},kt={class:"text-sm text-gray-700"},_t=["value"],Ct={class:"relative z-0 inline-flex rounded-md shadow-sm -space-x-px"},Mt=["disabled"],Et=["onClick"],jt=["disabled"],At={class:"absolute -top-1 -right-1 min-w-[1.25rem] h-5 bg-red-500 text-white text-xs font-bold rounded-full flex items-center justify-center px-1"},Pt={class:"bg-white rounded-lg shadow-xl w-full max-w-2xl max-h-[90vh] overflow-y-auto"},Nt={class:"flex items-center justify-between p-6 border-b border-gray-200"},St={class:"text-lg font-medium text-gray-900"},$t={class:"p-6"},Bt={key:0},Tt={class:"space-y-4"},Lt={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},Ft={class:"space-y-3"},zt={class:"mt-1 text-sm text-gray-900 bg-gray-50 px-3 py-2 rounded-md"},Ot={class:"mt-1 text-sm text-gray-900 bg-gray-50 px-3 py-2 rounded-md"},Ut={class:"mt-1 text-sm text-gray-900 bg-gray-50 px-3 py-2 rounded-md"},Vt={class:"space-y-3"},Ht={class:"mt-1 text-sm text-gray-900 bg-gray-50 px-3 py-2 rounded-md"},It={class:"mt-1 text-sm text-gray-900 bg-gray-50 px-3 py-2 rounded-md"},Dt={class:"mt-1 text-sm text-gray-900 bg-gray-50 px-3 py-2 rounded-md"},Rt={key:0},Zt={class:"mt-1 text-sm text-gray-900 bg-gray-50 px-3 py-2 rounded-md whitespace-pre-wrap"},Gt={key:1},Qt={class:"text-center"},Xt={class:"text-sm text-gray-500 mb-4"},Jt={class:"flex justify-end gap-3 px-6 py-4 border-t border-gray-200 bg-gray-50"},qt={key:0,class:"flex gap-2"},Yt=Object.assign({layout:we},{__name:"Index",props:{proveedores:{type:[Object,Array],required:!0},stats:{type:Object,default:()=>({})},filterOptions:{type:Object,default:()=>({})},filters:{type:Object,default:()=>({})},sorting:{type:Object,default:()=>({sort_by:"created_at",sort_direction:"desc"})},pagination:{type:Object,default:()=>({})}},setup(g){var G,Q,X,J,q;const w=new ke({duration:4e3,position:{x:"right",y:"top"},types:[{type:"success",background:"#10b981",icon:!1},{type:"error",background:"#ef4444",icon:!1},{type:"warning",background:"#f59e0b",icon:!1}]}),C=xe();fe(()=>{const o=C.props.flash;o!=null&&o.success&&w.success(o.success),o!=null&&o.error&&w.error(o.error)});const l=g,x=_(!1),m=_("details"),i=_(null),E=_(null),f=_(((G=l.filters)==null?void 0:G.search)??""),v=_((Q=l.sorting)!=null&&Q.sort_by?`${l.sorting.sort_by}-${l.sorting.sort_direction}`:"created_at-desc"),b=_(((X=l.filters)==null?void 0:X.activo)??""),y=_(((J=l.filters)==null?void 0:J.tipo_persona)??""),h=_(((q=l.filters)==null?void 0:q.estado)??""),j=_(10),T=()=>{p.visit(route("proveedores.create"))},V=P(()=>l.proveedores),s=P(()=>{var o;return((o=V.value)==null?void 0:o.data)||[]}),n=P(()=>{const o=l.stats||{},t=o.total||0;return{total:t,activos:o.activos||0,inactivos:o.inactivos||0,personas_fisicas:o.personas_fisicas||0,personas_morales:o.personas_morales||0,con_email:o.con_email||0,sin_email:o.sin_email||0,activosPorcentaje:t>0?Math.round((o.activos||0)/t*100):0,inactivosPorcentaje:t>0?Math.round((o.inactivos||0)/t*100):0,conEmailPorcentaje:t>0?Math.round((o.con_email||0)/t*100):0}}),oe={AGU:"Aguascalientes",BCN:"Baja California",BCS:"Baja California Sur",CAM:"Campeche",CHH:"Chihuahua",CHP:"Chiapas",CMX:"Ciudad de México",COA:"Coahuila",COL:"Colima",DUR:"Durango",GRO:"Guerrero",GUA:"Guanajuato",HID:"Hidalgo",JAL:"Jalisco",MEX:"Estado de México",MIC:"Michoacán",MOR:"Morelos",NAY:"Nayarit",NLE:"Nuevo León",OAX:"Oaxaca",PUE:"Puebla",QUE:"Querétaro",ROO:"Quintana Roo",SIN:"Sinaloa",SLP:"San Luis Potosí",SON:"Sonora",TAB:"Tabasco",TAM:"Tamaulipas",TLA:"Tlaxcala",VER:"Veracruz",YUC:"Yucatán",ZAC:"Zacatecas"},H=P(()=>s.value.map(o=>{const t=oe[o.estado]||o.estado;return[o.calle,o.numero_exterior,o.numero_interior,o.colonia,o.codigo_postal,o.municipio,t,o.pais].filter(Boolean).join(", "),{id:o.id,titulo:o.nombre_razon_social||"Sin nombre",subtitulo:o.email||"",estado:o.activo?"activo":"inactivo",extra:`RFC: ${o.rfc||"N/A"} | Tel: ${o.telefono||"N/A"}`,fecha:o.created_at,raw:o}}));function se(o){f.value=o,p.get(route("proveedores.index"),{search:o,sort_by:v.value.split("-")[0],sort_direction:v.value.split("-")[1]||"desc",activo:b.value,tipo_persona:y.value,estado:h.value,per_page:j.value,page:1},{preserveState:!0,preserveScroll:!0})}function re(o){b.value=o,p.get(route("proveedores.index"),{search:f.value,sort_by:v.value.split("-")[0],sort_direction:v.value.split("-")[1]||"desc",activo:o,tipo_persona:y.value,estado:h.value,per_page:j.value,page:1},{preserveState:!0,preserveScroll:!0})}function ae(o){y.value=o,p.get(route("proveedores.index"),{search:f.value,sort_by:v.value.split("-")[0],sort_direction:v.value.split("-")[1]||"desc",activo:b.value,tipo_persona:o,estado:h.value,per_page:j.value,page:1},{preserveState:!0,preserveScroll:!0})}function le(o){h.value=o,p.get(route("proveedores.index"),{search:f.value,sort_by:v.value.split("-")[0],sort_direction:v.value.split("-")[1]||"desc",activo:b.value,tipo_persona:y.value,estado:o,per_page:j.value,page:1},{preserveState:!0,preserveScroll:!0})}function ie(o){v.value=o,p.get(route("proveedores.index"),{search:f.value,sort_by:o.split("-")[0],sort_direction:o.split("-")[1]||"desc",activo:b.value,tipo_persona:y.value,estado:h.value,per_page:j.value,page:1},{preserveState:!0,preserveScroll:!0})}const ne=o=>{i.value=o.raw,m.value="details",x.value=!0},I=o=>{p.visit(route("proveedores.edit",o))},de=o=>{E.value=o,m.value="confirm",x.value=!0},ue=()=>{p.delete(route("proveedores.destroy",E.value),{preserveScroll:!0,onSuccess:()=>{w.success("Proveedor eliminado correctamente"),x.value=!1,E.value=null,p.reload()},onError:o=>{w.error("No se pudo eliminar el proveedor")}})},D=o=>{const t=s.value.find(k=>k.id===o);if(!t)return w.error("Proveedor no encontrado");const r=(t.activo?"inactivo":"activo")==="activo"?"Proveedor activado correctamente":"Proveedor desactivado correctamente";p.put(route("proveedores.toggle",o),{preserveScroll:!0,onSuccess:()=>{w.success(r),p.reload()},onError:k=>{w.error("No se pudo cambiar el estado del proveedor")}})},d=P(()=>{var o,t,A,r,k,Y;return{current_page:((o=l.pagination)==null?void 0:o.current_page)||1,last_page:((t=l.pagination)==null?void 0:t.last_page)||1,per_page:((A=l.pagination)==null?void 0:A.per_page)||10,from:((r=l.pagination)==null?void 0:r.from)||0,to:((k=l.pagination)==null?void 0:k.to)||0,total:((Y=l.pagination)==null?void 0:Y.total)||0}}),ce=o=>{p.get(route("proveedores.index"),{...l.filters,...l.sorting,per_page:o,page:1},{preserveState:!0,preserveScroll:!0})},L=o=>{p.get(route("proveedores.index"),{...l.filters,...l.sorting,page:o},{preserveState:!0,preserveScroll:!0})},ve=P(()=>!!f.value||!!b.value||!!y.value||!!h.value),R=()=>{f.value="",v.value="created_at-desc",b.value="",y.value="",h.value="",p.visit(route("proveedores.index")),w.success("Filtros limpiados correctamente")},F=o=>{if(!o)return"Fecha no disponible";try{return new Date(o).toLocaleDateString("es-MX",{day:"2-digit",month:"2-digit",year:"numeric"})}catch{return"Fecha inválida"}},Z=o=>({activo:"bg-green-100 text-green-700",inactivo:"bg-red-100 text-red-700"})[o]||"bg-gray-100 text-gray-700",pe=o=>({activo:"Activo",inactivo:"Inactivo"})[o]||"Pendiente";return(o,t)=>{var A;return c(),u(z,null,[W(be(ye),{title:"Proveedores"}),e("div",Ye,[e("div",Ke,[W(qe,{total:n.value.total,activos:n.value.activos,inactivos:n.value.inactivos,personas_fisicas:n.value.personas_fisicas,personas_morales:n.value.personas_morales,con_email:n.value.con_email,"search-term":f.value,"onUpdate:searchTerm":t[0]||(t[0]=r=>f.value=r),"sort-by":v.value,"onUpdate:sortBy":t[1]||(t[1]=r=>v.value=r),"filtro-estado":b.value,"onUpdate:filtroEstado":t[2]||(t[2]=r=>b.value=r),"filtro-tipo-persona":y.value,"onUpdate:filtroTipoPersona":t[3]||(t[3]=r=>y.value=r),"filtro-estado-mexico":h.value,"onUpdate:filtroEstadoMexico":t[4]||(t[4]=r=>h.value=r),onCrearNueva:T,onSearchChange:se,onFiltroEstadoChange:re,onFiltroTipoPersonaChange:ae,onFiltroEstadoMexicoChange:le,onSortChange:ie,onLimpiarFiltros:R},null,8,["total","activos","inactivos","personas_fisicas","personas_morales","con_email","search-term","sort-by","filtro-estado","filtro-tipo-persona","filtro-estado-mexico"]),e("div",We,[e("div",et,[e("table",tt,[t[18]||(t[18]=e("thead",{class:"bg-gray-50"},[e("tr",null,[e("th",{class:"px-6 py-4 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider"},"Fecha"),e("th",{class:"px-6 py-4 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider"},"Proveedor"),e("th",{class:"px-6 py-4 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider"},"Email"),e("th",{class:"px-6 py-4 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider"},"RFC"),e("th",{class:"px-6 py-4 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider"},"Estado"),e("th",{class:"px-6 py-4 text-right text-xs font-semibold text-gray-600 uppercase tracking-wider"},"Acciones")])],-1)),e("tbody",ot,[(c(!0),u(z,null,ee(H.value,r=>(c(),u("tr",{key:r.id,class:"hover:bg-gray-50 transition-colors duration-150"},[e("td",st,[e("div",rt,a(F(r.fecha)),1)]),e("td",at,[e("div",lt,a(r.titulo),1)]),e("td",it,[e("div",nt,a(r.subtitulo),1)]),e("td",dt,[e("div",ut,a(r.raw.rfc||"N/A"),1)]),e("td",ct,[e("span",{class:O([Z(r.estado),"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium"])},a(pe(r.estado)),3)]),e("td",vt,[e("div",pt,[e("button",{onClick:k=>ne(r),class:"w-8 h-8 bg-blue-50 text-blue-600 rounded-lg hover:bg-blue-100 transition-colors duration-150",title:"Ver detalles"},t[13]||(t[13]=[e("svg",{class:"w-4 h-4 mx-auto",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})],-1)]),8,gt),e("button",{onClick:k=>I(r.id),class:"w-8 h-8 bg-amber-50 text-amber-600 rounded-lg hover:bg-amber-100 transition-colors duration-150",title:"Editar"},t[14]||(t[14]=[e("svg",{class:"w-4 h-4 mx-auto",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})],-1)]),8,mt),e("button",{onClick:k=>D(r.id),class:"w-8 h-8 bg-green-50 text-green-600 rounded-lg hover:bg-green-100 transition-colors duration-150",title:"Cambiar estado"},t[15]||(t[15]=[e("svg",{class:"w-4 h-4 mx-auto",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})],-1)]),8,xt),e("button",{onClick:k=>de(r.id),class:"w-8 h-8 bg-red-50 text-red-600 rounded-lg hover:bg-red-100 transition-colors duration-150",title:"Eliminar"},t[16]||(t[16]=[e("svg",{class:"w-4 h-4 mx-auto",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})],-1)]),8,ft)])])]))),128)),H.value.length===0?(c(),u("tr",bt,t[17]||(t[17]=[e("td",{colspan:"6",class:"px-6 py-16 text-center"},[e("div",{class:"flex flex-col items-center space-y-4"},[e("div",{class:"w-16 h-16 bg-gray-100 rounded-full flex items-center justify-center"},[e("svg",{class:"w-8 h-8 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"1.5",d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})])]),e("div",{class:"space-y-1"},[e("p",{class:"text-gray-700 font-medium"},"No hay proveedores"),e("p",{class:"text-sm text-gray-500"},"Los proveedores aparecerán aquí cuando se creen")])])],-1)]))):M("",!0)])])]),d.value.last_page>1?(c(),u("div",yt,[e("div",ht,[e("div",wt,[e("p",kt," Mostrando "+a(d.value.from)+" - "+a(d.value.to)+" de "+a(d.value.total)+" resultados ",1),e("select",{value:d.value.per_page,onChange:t[5]||(t[5]=r=>ce(parseInt(r.target.value))),class:"border border-gray-300 rounded-md text-sm py-1 px-2 bg-white"},t[19]||(t[19]=[U('<option value="10" data-v-15f5e18e>10</option><option value="15" data-v-15f5e18e>15</option><option value="25" data-v-15f5e18e>25</option><option value="50" data-v-15f5e18e>50</option><option value="100" data-v-15f5e18e>100</option>',5)]),40,_t)]),e("nav",Ct,[e("button",{onClick:t[6]||(t[6]=r=>L(d.value.current_page-1)),disabled:d.value.current_page===1,class:"relative inline-flex items-center px-2 py-2 rounded-l-md border border-gray-300 bg-white text-sm font-medium text-gray-500 hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed"},t[20]||(t[20]=[e("svg",{class:"h-5 w-5",fill:"currentColor",viewBox:"0 0 20 20"},[e("path",{"fill-rule":"evenodd",d:"M12.707 5.293a1 1 0 010 1.414L9.414 10l3.293 3.293a1 1 0 01-1.414 1.414l-4-4a1 1 0 010-1.414l4-4a1 1 0 011.414 0z","clip-rule":"evenodd"})],-1)]),8,Mt),(c(!0),u(z,null,ee([d.value.current_page-1,d.value.current_page,d.value.current_page+1].filter(r=>r>0&&r<=d.value.last_page),r=>(c(),u("button",{key:r,onClick:k=>L(r),class:O([r===d.value.current_page?"bg-blue-50 border-blue-500 text-blue-600":"bg-white border-gray-300 text-gray-500 hover:bg-gray-50","relative inline-flex items-center px-4 py-2 border text-sm font-medium"])},a(r),11,Et))),128)),e("button",{onClick:t[7]||(t[7]=r=>L(d.value.current_page+1)),disabled:d.value.current_page===d.value.last_page,class:"relative inline-flex items-center px-2 py-2 rounded-r-md border border-gray-300 bg-white text-sm font-medium text-gray-500 hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed"},t[21]||(t[21]=[e("svg",{class:"h-5 w-5",fill:"currentColor",viewBox:"0 0 20 20"},[e("path",{"fill-rule":"evenodd",d:"M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z","clip-rule":"evenodd"})],-1)]),8,jt),ve.value?(c(),u("button",{key:0,onClick:R,class:"group relative inline-flex items-center gap-2 px-4 py-3 bg-slate-100 text-slate-600 rounded-xl hover:bg-slate-200 hover:text-slate-700 focus:outline-none focus:ring-4 focus:ring-slate-500/10 transition-all duration-200 whitespace-nowrap border border-slate-200 flex-shrink-0 disabled:opacity-50 disabled:cursor-not-allowed",title:"Limpiar todos los filtros"},[t[22]||(t[22]=e("svg",{class:"w-4 h-4 transition-transform duration-200 group-hover:rotate-90",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)),t[23]||(t[23]=e("span",{class:"font-medium"},"Limpiar",-1)),e("div",At,a((f.value?1:0)+(b.value?1:0)+(y.value?1:0)+(h.value?1:0)),1)])):M("",!0)])])])):M("",!0)]),x.value?(c(),u("div",{key:0,class:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",onClick:t[12]||(t[12]=he(r=>x.value=!1,["self"]))},[e("div",Pt,[e("div",Nt,[e("h3",St,a(m.value==="details"?"Detalles del Proveedor":"Confirmar Eliminación"),1),e("button",{onClick:t[8]||(t[8]=r=>x.value=!1),class:"text-gray-400 hover:text-gray-600 transition-colors"},t[24]||(t[24]=[e("svg",{class:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)]))]),e("div",$t,[m.value==="details"&&i.value?(c(),u("div",Bt,[e("div",Tt,[e("div",Lt,[e("div",Ft,[e("div",null,[t[25]||(t[25]=e("label",{class:"block text-sm font-medium text-gray-700"},"Nombre/Razón Social",-1)),e("p",zt,a(i.value.nombre_razon_social),1)]),e("div",null,[t[26]||(t[26]=e("label",{class:"block text-sm font-medium text-gray-700"},"Email",-1)),e("p",Ot,a(i.value.email||"N/A"),1)]),e("div",null,[t[27]||(t[27]=e("label",{class:"block text-sm font-medium text-gray-700"},"RFC",-1)),e("p",Ut,a(i.value.rfc||"N/A"),1)]),e("div",null,[t[28]||(t[28]=e("label",{class:"block text-sm font-medium text-gray-700"},"Estado",-1)),e("span",{class:O([Z(i.value.activo?"activo":"inactivo"),"inline-flex items-center px-2.5 py-1 rounded-full text-xs font-medium mt-1"])},a(i.value.activo?"Activo":"Inactivo"),3)])]),e("div",Vt,[e("div",null,[t[29]||(t[29]=e("label",{class:"block text-sm font-medium text-gray-700"},"Teléfono",-1)),e("p",Ht,a(i.value.telefono||"N/A"),1)]),e("div",null,[t[30]||(t[30]=e("label",{class:"block text-sm font-medium text-gray-700"},"Fecha de creación",-1)),e("p",It,a(F(i.value.created_at)),1)]),e("div",null,[t[31]||(t[31]=e("label",{class:"block text-sm font-medium text-gray-700"},"Última actualización",-1)),e("p",Dt,a(F(i.value.updated_at)),1)])])]),i.value.direccion?(c(),u("div",Rt,[t[32]||(t[32]=e("label",{class:"block text-sm font-medium text-gray-700"},"Dirección",-1)),e("p",Zt,a(i.value.direccion),1)])):M("",!0)])])):M("",!0),m.value==="confirm"?(c(),u("div",Gt,[e("div",Qt,[t[35]||(t[35]=e("div",{class:"w-12 h-12 mx-auto bg-red-100 rounded-full flex items-center justify-center mb-4"},[e("svg",{class:"w-6 h-6 text-red-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L4.082 16.5c-.77.833.192 2.5 1.732 2.5z"})])],-1)),t[36]||(t[36]=e("h3",{class:"text-lg font-medium text-gray-900 mb-2"},"¿Eliminar Proveedor?",-1)),e("p",Xt,[t[33]||(t[33]=B(" ¿Estás seguro de que deseas eliminar el proveedor ")),e("strong",null,a((A=i.value)==null?void 0:A.nombre_razon_social),1),t[34]||(t[34]=B("? Esta acción no se puede deshacer. "))])])])):M("",!0)]),e("div",Jt,[e("button",{onClick:t[9]||(t[9]=r=>x.value=!1),class:"px-4 py-2 bg-gray-300 text-gray-700 rounded-lg hover:bg-gray-400 transition-colors"},a(m.value==="details"?"Cerrar":"Cancelar"),1),m.value==="details"?(c(),u("div",qt,[e("button",{onClick:t[10]||(t[10]=r=>D(i.value.id)),class:"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors"}," Cambiar Estado "),e("button",{onClick:t[11]||(t[11]=r=>I(i.value.id)),class:"px-4 py-2 bg-amber-600 text-white rounded-lg hover:bg-amber-700 transition-colors"}," Editar ")])):M("",!0),m.value==="confirm"?(c(),u("button",{key:1,onClick:ue,class:"px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors"}," Eliminar ")):M("",!0)])])])):M("",!0)])])],64)}}}),so=te(Yt,[["__scopeId","data-v-15f5e18e"]]);export{so as default};
