import{Q as V,p as U,r as f,i,o as s,g as S,f as e,u as N,Z as z,l as x,q as A,s as y,v as l,x as c,F as p,m as k,t as m,y as w,z as d,N as v}from"./vendor-d19pJyVS.js";import{A as B}from"./AppLayout-CcnrZQKI.js";import{N as R}from"./app-BcT2PLJy.js";import{_ as E}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./utils-Dq7h7Pqt.js";const j={class:"min-h-screen bg-gray-50"},q={class:"max-w-4xl mx-auto px-6 py-8"},D={class:"bg-white rounded-xl shadow-sm border border-gray-200 p-8"},L={class:"grid grid-cols-1 md:grid-cols-2 gap-6"},O=["value"],F=["value"],T={class:"space-y-3"},H={class:"flex items-center"},I={class:"flex items-center"},P={class:"grid grid-cols-1 md:grid-cols-2 gap-6"},Q={class:"flex justify-end gap-4 pt-6 border-t border-gray-200"},Z=["disabled"],G=["disabled"],J={key:0,class:"animate-spin -ml-1 mr-3 h-4 w-4 text-white",fill:"none",viewBox:"0 0 24 24"},K={key:1,class:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},W=Object.assign({layout:B},{__name:"Create",props:{productos:{type:Array,default:()=>[]},almacenes:{type:Array,default:()=>[]}},setup(b){const u=new R({duration:4e3,position:{x:"right",y:"top"},types:[{type:"success",background:"#10b981",icon:!1},{type:"error",background:"#ef4444",icon:!1},{type:"warning",background:"#f59e0b",icon:!1}]}),C=V();U(()=>{const r=C.props.flash;r!=null&&r.success&&u.success(r.success),r!=null&&r.error&&u.error(r.error)});const a=f({producto_id:"",almacen_id:"",tipo:"entrada",cantidad:"",costo_unitario:"",categoria:"",motivo:"",observaciones:"",referencia:""}),n=f(!1),M=()=>{n.value=!0,v.post(route("movimientos-manuales.store"),a.value,{onSuccess:()=>{u.success("Movimiento manual registrado correctamente"),v.visit(route("movimientos-manuales.index"))},onError:r=>{console.error("Errores de validación:",r),u.error("Error al registrar el movimiento manual")},onFinish:()=>{n.value=!1}})},g=()=>{v.visit(route("movimientos-manuales.index"))};return(r,o)=>(s(),i(p,null,[S(N(z),{title:"Crear Movimiento Manual"}),e("div",j,[e("div",q,[e("div",{class:"mb-8"},[e("div",{class:"flex items-center justify-between"},[o[11]||(o[11]=e("div",null,[e("h1",{class:"text-3xl font-bold text-gray-900"},"Crear Movimiento Manual"),e("p",{class:"text-gray-600 mt-1"},"Registrar entrada o salida manual de inventario")],-1)),e("button",{onClick:g,class:"inline-flex items-center px-4 py-2 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 transition-colors"},o[10]||(o[10]=[e("svg",{class:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M10 19l-7-7m0 0l7-7m-7 7h18"})],-1),x(" Cancelar ")]))])]),e("div",D,[e("form",{onSubmit:A(M,["prevent"]),class:"space-y-6"},[e("div",L,[e("div",null,[o[13]||(o[13]=e("label",{for:"producto_id",class:"block text-sm font-medium text-gray-700 mb-2"}," Producto * ",-1)),l(e("select",{id:"producto_id","onUpdate:modelValue":o[0]||(o[0]=t=>a.value.producto_id=t),required:"",class:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-200"},[o[12]||(o[12]=e("option",{value:""},"Seleccionar producto",-1)),(s(!0),i(p,null,k(b.productos,t=>(s(),i("option",{key:t.id,value:t.id},m(t.nombre)+" ("+m(t.codigo)+") ",9,O))),128))],512),[[c,a.value.producto_id]])]),e("div",null,[o[15]||(o[15]=e("label",{for:"almacen_id",class:"block text-sm font-medium text-gray-700 mb-2"}," Almacén * ",-1)),l(e("select",{id:"almacen_id","onUpdate:modelValue":o[1]||(o[1]=t=>a.value.almacen_id=t),required:"",class:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-200"},[o[14]||(o[14]=e("option",{value:""},"Seleccionar almacén",-1)),(s(!0),i(p,null,k(b.almacenes,t=>(s(),i("option",{key:t.id,value:t.id},m(t.nombre),9,F))),128))],512),[[c,a.value.almacen_id]])])]),e("div",null,[o[18]||(o[18]=e("label",{for:"tipo",class:"block text-sm font-medium text-gray-700 mb-2"}," Tipo de Movimiento * ",-1)),e("div",T,[e("div",H,[l(e("input",{id:"entrada","onUpdate:modelValue":o[2]||(o[2]=t=>a.value.tipo=t),type:"radio",value:"entrada",class:"h-4 w-4 text-green-600 focus:ring-green-500 border-gray-300"},null,512),[[w,a.value.tipo]]),o[16]||(o[16]=e("label",{for:"entrada",class:"ml-3 block text-sm font-medium text-gray-700"},[e("span",{class:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800"}," Entrada "),e("span",{class:"ml-2"},"Aumentar el stock disponible")],-1))]),e("div",I,[l(e("input",{id:"salida","onUpdate:modelValue":o[3]||(o[3]=t=>a.value.tipo=t),type:"radio",value:"salida",class:"h-4 w-4 text-red-600 focus:ring-red-500 border-gray-300"},null,512),[[w,a.value.tipo]]),o[17]||(o[17]=e("label",{for:"salida",class:"ml-3 block text-sm font-medium text-gray-700"},[e("span",{class:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-red-100 text-red-800"}," Salida "),e("span",{class:"ml-2"},"Reducir el stock disponible")],-1))])])]),e("div",P,[e("div",null,[o[19]||(o[19]=e("label",{for:"cantidad",class:"block text-sm font-medium text-gray-700 mb-2"}," Cantidad * ",-1)),l(e("input",{id:"cantidad","onUpdate:modelValue":o[4]||(o[4]=t=>a.value.cantidad=t),type:"number",min:"1",required:"",class:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-200",placeholder:"Cantidad del movimiento"},null,512),[[d,a.value.cantidad,void 0,{number:!0}]])]),e("div",null,[o[20]||(o[20]=e("label",{for:"costo_unitario",class:"block text-sm font-medium text-gray-700 mb-2"}," Costo Unitario ",-1)),l(e("input",{id:"costo_unitario","onUpdate:modelValue":o[5]||(o[5]=t=>a.value.costo_unitario=t),type:"number",min:"0",step:"0.01",class:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-200",placeholder:"Costo por unidad (opcional)"},null,512),[[d,a.value.costo_unitario,void 0,{number:!0}]])])]),e("div",null,[o[22]||(o[22]=e("label",{for:"categoria",class:"block text-sm font-medium text-gray-700 mb-2"}," Categoría ",-1)),l(e("select",{id:"categoria","onUpdate:modelValue":o[6]||(o[6]=t=>a.value.categoria=t),class:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-200"},o[21]||(o[21]=[y('<option value="" data-v-a9511b45>Seleccionar categoría</option><option value="recepcion" data-v-a9511b45>Recepción</option><option value="donacion" data-v-a9511b45>Donación</option><option value="merma" data-v-a9511b45>Merma</option><option value="consumo" data-v-a9511b45>Consumo interno</option><option value="devolucion" data-v-a9511b45>Devolución</option><option value="prestamo" data-v-a9511b45>Préstamo</option><option value="otro" data-v-a9511b45>Otro</option>',8)]),512),[[c,a.value.categoria]])]),e("div",null,[o[23]||(o[23]=e("label",{for:"motivo",class:"block text-sm font-medium text-gray-700 mb-2"}," Motivo ",-1)),l(e("input",{id:"motivo","onUpdate:modelValue":o[7]||(o[7]=t=>a.value.motivo=t),type:"text",class:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-200",placeholder:"Motivo del movimiento"},null,512),[[d,a.value.motivo]])]),e("div",null,[o[24]||(o[24]=e("label",{for:"referencia",class:"block text-sm font-medium text-gray-700 mb-2"}," Referencia ",-1)),l(e("input",{id:"referencia","onUpdate:modelValue":o[8]||(o[8]=t=>a.value.referencia=t),type:"text",class:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-200",placeholder:"Número de documento, factura, etc."},null,512),[[d,a.value.referencia]])]),e("div",null,[o[25]||(o[25]=e("label",{for:"observaciones",class:"block text-sm font-medium text-gray-700 mb-2"}," Observaciones ",-1)),l(e("textarea",{id:"observaciones","onUpdate:modelValue":o[9]||(o[9]=t=>a.value.observaciones=t),rows:"3",class:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-200",placeholder:"Observaciones adicionales"},null,512),[[d,a.value.observaciones]])]),o[28]||(o[28]=y('<div class="bg-blue-50 border border-blue-200 rounded-lg p-4" data-v-a9511b45><div class="flex" data-v-a9511b45><div class="flex-shrink-0" data-v-a9511b45><svg class="h-5 w-5 text-blue-400" fill="currentColor" viewBox="0 0 20 20" data-v-a9511b45><path fill-rule="evenodd" d="M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z" clip-rule="evenodd" data-v-a9511b45></path></svg></div><div class="ml-3" data-v-a9511b45><h3 class="text-sm font-medium text-blue-800" data-v-a9511b45> Información importante </h3><div class="mt-2 text-sm text-blue-700" data-v-a9511b45><ul class="list-disc pl-5 space-y-1" data-v-a9511b45><li data-v-a9511b45>Los movimientos afectan directamente el stock disponible</li><li data-v-a9511b45>Se registra automáticamente en el historial de movimientos</li><li data-v-a9511b45>Las salidas requieren stock suficiente disponible</li><li data-v-a9511b45>El costo unitario es opcional pero recomendado para valuación</li></ul></div></div></div></div>',1)),e("div",Q,[e("button",{type:"button",onClick:g,disabled:n.value,class:"px-6 py-3 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 focus:ring-4 focus:ring-gray-300 transition-all duration-200 disabled:opacity-50 disabled:cursor-not-allowed"}," Cancelar ",8,Z),e("button",{type:"submit",disabled:n.value,class:"px-6 py-3 bg-gradient-to-r from-green-600 to-green-700 text-white font-semibold rounded-lg hover:from-green-700 hover:to-green-800 focus:ring-4 focus:ring-green-300 transition-all duration-200 disabled:opacity-50 disabled:cursor-not-allowed flex items-center"},[n.value?(s(),i("svg",J,o[26]||(o[26]=[e("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"},null,-1),e("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"},null,-1)]))):(s(),i("svg",K,o[27]||(o[27]=[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"},null,-1)]))),x(" "+m(n.value?"Registrando...":"Registrar Movimiento"),1)],8,G)])],32)])])])],64))}}),ee=E(W,[["__scopeId","data-v-a9511b45"]]);export{ee as default};
