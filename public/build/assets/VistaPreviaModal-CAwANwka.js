import{c as m,i,k as l,o as a,f as t,t as o,l as r,F as f,m as v}from"./vendor-d19pJyVS.js";const h={key:0,class:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4"},w={class:"bg-white rounded-xl shadow-2xl max-w-4xl w-full max-h-[90vh] overflow-y-auto"},k={class:"sticky top-0 bg-white border-b border-gray-200 px-6 py-4 flex justify-between items-center"},D={class:"text-xl font-bold text-gray-900"},S={class:"p-6"},j={class:"text-center mb-8"},C={class:"text-3xl font-bold text-gray-900 mb-2 uppercase"},M={class:"text-gray-600"},L={key:0,class:"mb-8 p-6 bg-gray-50 rounded-lg"},F={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},G={key:0},X={key:0},N={key:1},$={class:"mb-8"},V={class:"overflow-x-auto"},z={class:"min-w-full divide-y divide-gray-200"},B={class:"bg-white divide-y divide-gray-200"},_={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-900"},I={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-500"},P={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-500"},T={class:"px-6 py-4 whitespace-nowrap text-sm text-orange-600"},H={class:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900"},q={class:"bg-gray-50 rounded-lg p-6 mb-8"},A={class:"space-y-3"},E={class:"flex justify-between items-center text-gray-700"},O={class:"font-semibold"},R={key:0,class:"flex justify-between items-center text-orange-600"},U={class:"font-semibold"},J={key:1,class:"flex justify-between items-center text-orange-600"},K={class:"font-semibold"},Q={class:"flex justify-between items-center text-gray-700"},W={class:"font-semibold"},Y={class:"flex justify-between items-center text-blue-600"},Z={class:"font-semibold"},tt={key:2,class:"flex justify-between items-center text-green-600"},et={class:"font-semibold"},st={class:"border-t border-gray-300 pt-3"},ot={class:"flex justify-between items-center text-lg font-bold text-gray-900"},nt={key:1,class:"mb-8 p-4 bg-yellow-50 border border-yellow-200 rounded-lg"},it={class:"text-sm text-yellow-700"},lt={__name:"VistaPreviaModal",props:{show:{type:Boolean,default:!1},type:{type:String,required:!0,validator:s=>["cotizacion","pedido","venta","compra","ordenescompra","renta"].includes(s)},cliente:{type:Object,default:null},items:{type:Array,default:()=>[]},totals:{type:Object,required:!0},descuentoGeneral:{type:Number,default:0},notas:{type:String,default:""},depositoGarantia:{type:[Number,String],default:0}},emits:["close","print"],setup(s,{emit:g}){const x=s,d=g,c=m(()=>({cotizacion:"Cotización",pedido:"Pedido",venta:"Venta",compra:"Compra",ordenescompra:"Órdenes de Compra",renta:"Contrato de Renta"})[x.type]||"Documento"),y=m(()=>new Date().toLocaleDateString("es-MX",{year:"numeric",month:"long",day:"numeric"})),u=()=>{d("close")},b=()=>{d("print")};return(p,e)=>s.show?(a(),i("div",h,[t("div",w,[t("div",k,[t("h3",D," Vista Previa de "+o(c.value),1),t("button",{onClick:u,class:"text-gray-400 hover:text-gray-600"},e[0]||(e[0]=[t("svg",{class:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)]))]),t("div",S,[t("div",j,[t("h1",C,o(c.value),1),t("p",M,o(y.value),1)]),s.cliente?(a(),i("div",L,[e[5]||(e[5]=t("h2",{class:"text-lg font-semibold text-gray-900 mb-4"},"Cliente",-1)),t("div",F,[t("div",null,[t("p",null,[e[1]||(e[1]=t("strong",null,"Nombre:",-1)),r(" "+o(s.cliente.nombre_razon_social),1)]),s.cliente.email?(a(),i("p",G,[e[2]||(e[2]=t("strong",null,"Email:",-1)),r(" "+o(s.cliente.email),1)])):l("",!0)]),t("div",null,[s.cliente.telefono?(a(),i("p",X,[e[3]||(e[3]=t("strong",null,"Teléfono:",-1)),r(" "+o(s.cliente.telefono),1)])):l("",!0),s.cliente.direccion?(a(),i("p",N,[e[4]||(e[4]=t("strong",null,"Dirección:",-1)),r(" "+o(s.cliente.direccion),1)])):l("",!0)])])])):l("",!0),t("div",$,[e[7]||(e[7]=t("h2",{class:"text-lg font-semibold text-gray-900 mb-4"},"Detalles",-1)),t("div",V,[t("table",z,[e[6]||(e[6]=t("thead",{class:"bg-gray-50"},[t("tr",null,[t("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Descripción"),t("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Cant."),t("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"P. Unitario"),t("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Descuento"),t("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Subtotal")])],-1)),t("tbody",B,[(a(!0),i(f,null,v(s.items,n=>(a(),i("tr",{key:n.id},[t("td",_,o(n.nombre||n.descripcion),1),t("td",I,o(n.cantidad),1),t("td",P," $"+o((n.precio||0).toLocaleString("es-MX",{minimumFractionDigits:2})),1),t("td",T,o(n.descuento)+"% ",1),t("td",H," $"+o((n.cantidad*n.precio-n.cantidad*n.precio*n.descuento/100).toLocaleString("es-MX",{minimumFractionDigits:2})),1)]))),128))])])])]),t("div",q,[e[14]||(e[14]=t("h3",{class:"text-lg font-semibold text-gray-900 mb-4"},"Resumen",-1)),t("div",A,[t("div",E,[e[8]||(e[8]=t("span",null,"Subtotal:",-1)),t("span",O,"$"+o(s.totals.subtotal.toLocaleString("es-MX",{minimumFractionDigits:2})),1)]),s.totals.descuentoItems>0?(a(),i("div",R,[e[9]||(e[9]=t("span",null,"Descuentos por ítem:",-1)),t("span",U,"-$"+o(s.totals.descuentoItems.toLocaleString("es-MX",{minimumFractionDigits:2})),1)])):l("",!0),s.totals.descuentoGeneral>0?(a(),i("div",J,[t("span",null,"Descuento general ("+o(s.descuentoGeneral)+"%):",1),t("span",K,"-$"+o(s.totals.descuentoGeneral.toLocaleString("es-MX",{minimumFractionDigits:2})),1)])):l("",!0),t("div",Q,[e[10]||(e[10]=t("span",null,"Subtotal con descuentos:",-1)),t("span",W,"$"+o(s.totals.subtotalConDescuentos.toLocaleString("es-MX",{minimumFractionDigits:2})),1)]),t("div",Y,[e[11]||(e[11]=t("span",null,"IVA (16%):",-1)),t("span",Z,"$"+o(s.totals.iva.toLocaleString("es-MX",{minimumFractionDigits:2})),1)]),s.depositoGarantia&&s.depositoGarantia>0?(a(),i("div",tt,[e[12]||(e[12]=t("span",null,"Depósito de Garantía:",-1)),t("span",et,"$"+o(Number(s.depositoGarantia).toLocaleString("es-MX",{minimumFractionDigits:2})),1)])):l("",!0),t("div",st,[t("div",ot,[e[13]||(e[13]=t("span",null,"Total Final:",-1)),t("span",null,"$"+o((s.totals.total+Number(s.depositoGarantia||0)).toLocaleString("es-MX",{minimumFractionDigits:2})),1)])])])]),s.notas?(a(),i("div",nt,[e[15]||(e[15]=t("h3",{class:"text-sm font-semibold text-yellow-800 mb-2"},"Notas:",-1)),t("p",it,o(s.notas),1)])):l("",!0),t("div",{class:"flex justify-end gap-3"},[t("button",{onClick:b,class:"inline-flex items-center px-4 py-2 bg-blue-600 border border-transparent rounded-lg text-sm font-medium text-white hover:bg-blue-700 transition-colors duration-200 shadow-sm"},e[16]||(e[16]=[t("svg",{class:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M17 17h2a2 2 0 002-2v-4a2 2 0 00-2-2H5a2 2 0 00-2 2v4a2 2 0 002 2h2m2 4h6a2 2 0 002-2v-4a2 2 0 00-2-2H9a2 2 0 00-2 2v4a2 2 0 002 2zm8-12V5a2 2 0 00-2-2H9a2 2 0 00-2 2v4h10z"})],-1),r(" Imprimir ")])),t("button",{onClick:u,class:"px-4 py-2 bg-gray-300 text-gray-700 rounded-lg hover:bg-gray-400 transition-colors duration-200"}," Cerrar ")])])])])):l("",!0)}};export{lt as _};
