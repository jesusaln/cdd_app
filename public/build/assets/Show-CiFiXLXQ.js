import{r as v,c as h,i as s,o as r,g as N,f as t,u as M,Z as P,n as F,t as a,k as n,l as p,F as j,N as u}from"./vendor-d19pJyVS.js";import{A as S}from"./AppLayout-CcnrZQKI.js";import{N as D}from"./app-BcT2PLJy.js";import{_ as I}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./utils-Dq7h7Pqt.js";const B={class:"cobranza-show min-h-screen bg-gray-50"},E={class:"max-w-4xl mx-auto px-6 py-8"},V={class:"bg-white border border-slate-200 rounded-xl shadow-sm p-8 mb-6"},L={class:"flex items-center justify-between"},R={class:"flex items-center gap-3"},A={class:"grid grid-cols-1 lg:grid-cols-3 gap-6"},O={class:"lg:col-span-2 space-y-6"},$={class:"bg-white rounded-xl shadow-sm border border-gray-100 p-6"},q={class:"grid grid-cols-1 md:grid-cols-2 gap-6"},H={class:"space-y-4"},T={class:"mt-1 text-sm text-gray-900"},X={class:"mt-1 text-sm text-gray-900"},Z={class:"mt-1 text-lg font-semibold text-gray-900"},G={class:"space-y-4"},J={key:0},K={class:"mt-1 text-sm text-gray-900"},Q={key:1},U={class:"mt-1 text-lg font-semibold text-green-600"},W={key:2},Y={class:"mt-1 text-sm text-gray-900 capitalize"},tt={key:3},ot={class:"mt-1 text-sm text-gray-900"},et={class:"bg-white rounded-xl shadow-sm border border-gray-100 p-6"},at={class:"grid grid-cols-1 md:grid-cols-2 gap-6"},st={class:"space-y-4"},rt={class:"mt-1 text-sm text-gray-900"},nt={class:"mt-1 text-sm text-gray-900"},lt={class:"space-y-4"},it={class:"mt-1 text-sm text-gray-900"},dt={class:"mt-1 text-sm text-gray-900 capitalize"},ct={key:0,class:"bg-white rounded-xl shadow-sm border border-gray-100 p-6"},mt={class:"text-sm text-gray-700 whitespace-pre-wrap"},gt={class:"space-y-6"},bt={class:"bg-white rounded-xl shadow-sm border border-gray-100 p-6"},pt={class:"space-y-3"},ut={class:"bg-white rounded-xl shadow-sm border border-gray-100 p-6"},xt={class:"space-y-3 text-sm"},yt={class:"text-gray-900 ml-2"},ft={class:"text-gray-900 ml-2"},_t={key:0},vt={class:"text-gray-900 ml-2"},ht={key:1},zt={class:"text-gray-900 ml-2"},x=l=>l?new Intl.NumberFormat("es-ES",{minimumFractionDigits:2,maximumFractionDigits:2}).format(l):"0",m=l=>{if(!l)return"Fecha no disponible";try{return new Date(l).toLocaleDateString("es-MX",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"})}catch{return"Fecha inválida"}},kt=Object.assign({layout:S},{__name:"Show",props:{cobranza:{type:Object,required:!0}},setup(l){const g=new D({duration:4e3,position:{x:"right",y:"top"},types:[{type:"success",background:"#10b981",icon:!1},{type:"error",background:"#ef4444",icon:!1},{type:"warning",background:"#f59e0b",icon:!1}]}),e=l;v(!1),v("details");const z=h(()=>({pendiente:"bg-yellow-100 text-yellow-800",pagado:"bg-green-100 text-green-800",parcial:"bg-blue-100 text-blue-800",vencido:"bg-red-100 text-red-800",cancelado:"bg-gray-100 text-gray-800"})[e.cobranza.estado]||"bg-gray-100 text-gray-800"),k=h(()=>({pendiente:"Pendiente",pagado:"Pagado",parcial:"Parcial",vencido:"Vencido",cancelado:"Cancelado"})[e.cobranza.estado]||"Pendiente"),w=()=>{u.visit(route("cobranza.edit",e.cobranza.id))},y=()=>{u.visit(route("cobranza.index"))},C=()=>{const i=prompt("Fecha de pago:",new Date().toISOString().split("T")[0]);if(!i)return;const o=prompt("Monto pagado:",e.cobranza.monto_cobrado.toString());if(!o||isNaN(o))return;const d=prompt("Método de pago (efectivo, transferencia, tarjeta, cheque):","transferencia");if(!d)return;const c=prompt("Referencia de pago (opcional):","");u.post(route("cobranza.marcar-pagada",e.cobranza.id),{fecha_pago:i,monto_pagado:parseFloat(o),metodo_pago:d,referencia_pago:c},{onSuccess:()=>{g.success("Cobranza marcada como pagada"),window.location.reload()},onError:b=>{g.error("Error al marcar como pagada")}})};return(i,o)=>{var d,c,b,f,_;return r(),s(j,null,[N(M(P),{title:"Detalles de Cobranza"}),t("div",B,[t("div",E,[t("div",V,[t("div",L,[t("div",{class:"flex items-center gap-3"},[t("button",{onClick:y,class:"p-2 text-slate-400 hover:text-slate-600 hover:bg-slate-100 rounded-lg transition-colors"},o[0]||(o[0]=[t("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 19l-7-7 7-7"})],-1)])),o[1]||(o[1]=t("div",null,[t("h1",{class:"text-2xl font-bold text-slate-900"},"Detalles de Cobranza"),t("p",{class:"text-slate-600 mt-1"},"Información completa de la cobranza")],-1))]),t("div",R,[t("span",{class:F([z.value,"inline-flex items-center px-3 py-1 rounded-full text-sm font-medium"])},a(k.value),3)])])]),t("div",A,[t("div",O,[t("div",$,[o[9]||(o[9]=t("h2",{class:"text-lg font-semibold text-gray-900 mb-4"},"Información del Cobro",-1)),t("div",q,[t("div",H,[t("div",null,[o[2]||(o[2]=t("label",{class:"block text-sm font-medium text-gray-700"},"Concepto",-1)),t("p",T,a(e.cobranza.concepto),1)]),t("div",null,[o[3]||(o[3]=t("label",{class:"block text-sm font-medium text-gray-700"},"Fecha de Cobro",-1)),t("p",X,a(m(e.cobranza.fecha_cobro)),1)]),t("div",null,[o[4]||(o[4]=t("label",{class:"block text-sm font-medium text-gray-700"},"Monto a Cobrar",-1)),t("p",Z,"$"+a(x(e.cobranza.monto_cobrado)),1)])]),t("div",G,[e.cobranza.fecha_pago?(r(),s("div",J,[o[5]||(o[5]=t("label",{class:"block text-sm font-medium text-gray-700"},"Fecha de Pago",-1)),t("p",K,a(m(e.cobranza.fecha_pago)),1)])):n("",!0),e.cobranza.monto_pagado?(r(),s("div",Q,[o[6]||(o[6]=t("label",{class:"block text-sm font-medium text-gray-700"},"Monto Pagado",-1)),t("p",U,"$"+a(x(e.cobranza.monto_pagado)),1)])):n("",!0),e.cobranza.metodo_pago?(r(),s("div",W,[o[7]||(o[7]=t("label",{class:"block text-sm font-medium text-gray-700"},"Método de Pago",-1)),t("p",Y,a(e.cobranza.metodo_pago),1)])):n("",!0),e.cobranza.referencia_pago?(r(),s("div",tt,[o[8]||(o[8]=t("label",{class:"block text-sm font-medium text-gray-700"},"Referencia",-1)),t("p",ot,a(e.cobranza.referencia_pago),1)])):n("",!0)])])]),t("div",et,[o[14]||(o[14]=t("h2",{class:"text-lg font-semibold text-gray-900 mb-4"},"Información de la Renta",-1)),t("div",at,[t("div",st,[t("div",null,[o[10]||(o[10]=t("label",{class:"block text-sm font-medium text-gray-700"},"Número de Contrato",-1)),t("p",rt,a((d=e.cobranza.renta)==null?void 0:d.numero_contrato),1)]),t("div",null,[o[11]||(o[11]=t("label",{class:"block text-sm font-medium text-gray-700"},"Cliente",-1)),t("p",nt,a((b=(c=e.cobranza.renta)==null?void 0:c.cliente)==null?void 0:b.nombre_razon_social),1)])]),t("div",lt,[t("div",null,[o[12]||(o[12]=t("label",{class:"block text-sm font-medium text-gray-700"},"Monto Mensual",-1)),t("p",it,"$"+a(x((f=e.cobranza.renta)==null?void 0:f.monto_mensual)),1)]),t("div",null,[o[13]||(o[13]=t("label",{class:"block text-sm font-medium text-gray-700"},"Estado de la Renta",-1)),t("p",dt,a((_=e.cobranza.renta)==null?void 0:_.estado),1)])])])]),e.cobranza.notas?(r(),s("div",ct,[o[15]||(o[15]=t("h2",{class:"text-lg font-semibold text-gray-900 mb-4"},"Notas",-1)),t("p",mt,a(e.cobranza.notas),1)])):n("",!0)]),t("div",gt,[t("div",bt,[o[19]||(o[19]=t("h2",{class:"text-lg font-semibold text-gray-900 mb-4"},"Acciones",-1)),t("div",pt,[t("button",{onClick:w,class:"w-full flex items-center justify-center gap-2 px-4 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors font-medium"},o[16]||(o[16]=[t("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})],-1),p(" Editar Cobranza ")])),e.cobranza.estado==="pendiente"||e.cobranza.estado==="parcial"?(r(),s("button",{key:0,onClick:C,class:"w-full flex items-center justify-center gap-2 px-4 py-3 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors font-medium"},o[17]||(o[17]=[t("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})],-1),p(" Marcar como Pagada ")]))):n("",!0),t("button",{onClick:y,class:"w-full flex items-center justify-center gap-2 px-4 py-3 bg-gray-300 text-gray-700 rounded-lg hover:bg-gray-400 transition-colors font-medium"},o[18]||(o[18]=[t("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 19l-7-7 7-7"})],-1),p(" Volver al Listado ")]))])]),t("div",ut,[o[24]||(o[24]=t("h2",{class:"text-lg font-semibold text-gray-900 mb-4"},"Información del Sistema",-1)),t("div",xt,[t("div",null,[o[20]||(o[20]=t("span",{class:"text-gray-500"},"ID:",-1)),t("span",yt,"#"+a(e.cobranza.id),1)]),t("div",null,[o[21]||(o[21]=t("span",{class:"text-gray-500"},"Creado:",-1)),t("span",ft,a(m(e.cobranza.created_at)),1)]),e.cobranza.updated_at!==e.cobranza.created_at?(r(),s("div",_t,[o[22]||(o[22]=t("span",{class:"text-gray-500"},"Actualizado:",-1)),t("span",vt,a(m(e.cobranza.updated_at)),1)])):n("",!0),e.cobranza.responsable_cobro?(r(),s("div",ht,[o[23]||(o[23]=t("span",{class:"text-gray-500"},"Responsable:",-1)),t("span",zt,a(e.cobranza.responsable_cobro),1)])):n("",!0)])])])])])])],64)}}}),Ft=I(kt,[["__scopeId","data-v-df6a1d11"]]);export{Ft as default};
