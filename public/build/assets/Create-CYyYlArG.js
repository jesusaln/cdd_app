import{T as _,p as h,b as k,o as a,e as u,f as t,q as w,i as n,k as c,t as d,v as p,u as s,F as C,m as S,x as V,n as g,z as b,g as f,A as x,l as y}from"./vendor-d19pJyVS.js";import{A as D}from"./AppLayout-CcnrZQKI.js";import"./utils-Dq7h7Pqt.js";import"./app-BcT2PLJy.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";const N={class:"flex justify-between items-center"},F={class:"py-12"},T={class:"max-w-7xl mx-auto sm:px-6 lg:px-8"},M={class:"bg-white overflow-hidden shadow-sm sm:rounded-lg"},z={class:"p-6 bg-white border-b border-gray-200"},A={key:0,class:"mb-6"},B={class:"bg-gray-50 p-4 rounded-lg"},P={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},U={class:"mt-1 text-sm text-gray-900"},j={class:"mt-1 text-sm text-gray-900"},q={class:"mt-1 text-sm text-gray-900"},E={class:"mt-1 text-sm text-gray-900"},L={key:1,class:"mb-6"},I=["value"],$={key:0,class:"mt-2 text-sm text-red-600"},G={class:"mb-6"},H={key:0,class:"mt-2 text-sm text-red-600"},J={class:"mb-6"},K={key:0,class:"mt-2 text-sm text-red-600"},Q={class:"mb-6"},R={key:0,class:"mt-2 text-sm text-red-600"},W={class:"flex items-center justify-end"},X=["disabled"],Y={key:0},Z={key:1},rt={__name:"Create",props:{compra:Object,compras:Array},setup(i){const m=i,o=_({compra_id:m.compra?m.compra.id:"",monto_total:m.compra?m.compra.total:"",fecha_vencimiento:"",notas:""}),v=()=>{o.post(route("cuentas-por-pagar.store"),{onSuccess:()=>{},onError:l=>{console.error("Errores:",l)}})};return h(()=>{if(m.compra){o.compra_id=m.compra.id,o.monto_total=m.compra.total;const l=new Date;l.setDate(l.getDate()+30),o.fecha_vencimiento=l.toISOString().split("T")[0]}}),(l,e)=>(a(),k(D,{title:"Crear Cuenta por Pagar"},{header:u(()=>[t("div",N,[e[5]||(e[5]=t("h2",{class:"font-semibold text-xl text-gray-800 leading-tight"}," Crear Cuenta por Pagar ",-1)),f(s(x),{href:l.route("cuentas-por-pagar.index"),class:"bg-gray-500 hover:bg-gray-700 text-white font-bold py-2 px-4 rounded"},{default:u(()=>e[4]||(e[4]=[y(" Cancelar ")])),_:1},8,["href"])])]),default:u(()=>[t("div",F,[t("div",T,[t("div",M,[t("div",z,[t("form",{onSubmit:w(v,["prevent"])},[i.compra?(a(),n("div",A,[e[10]||(e[10]=t("h3",{class:"text-lg font-medium text-gray-900 mb-4"},"Información de la Compra",-1)),t("div",B,[t("div",P,[t("div",null,[e[6]||(e[6]=t("label",{class:"block text-sm font-medium text-gray-700"},"Número de Compra",-1)),t("p",U,d(i.compra.numero_compra),1)]),t("div",null,[e[7]||(e[7]=t("label",{class:"block text-sm font-medium text-gray-700"},"Proveedor",-1)),t("p",j,d(i.compra.proveedor.nombre_razon_social),1)]),t("div",null,[e[8]||(e[8]=t("label",{class:"block text-sm font-medium text-gray-700"},"Total de la Compra",-1)),t("p",q,"$"+d(i.compra.total.toFixed(2)),1)]),t("div",null,[e[9]||(e[9]=t("label",{class:"block text-sm font-medium text-gray-700"},"Fecha",-1)),t("p",E,d(new Date(i.compra.created_at).toLocaleDateString()),1)])])])])):c("",!0),i.compra?c("",!0):(a(),n("div",L,[e[12]||(e[12]=t("label",{for:"compra_id",class:"block text-sm font-medium text-gray-700"}," Seleccionar Compra ",-1)),p(t("select",{"onUpdate:modelValue":e[0]||(e[0]=r=>s(o).compra_id=r),id:"compra_id",class:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-indigo-500 focus:border-indigo-500",required:""},[e[11]||(e[11]=t("option",{value:""},"Seleccione una compra",-1)),(a(!0),n(C,null,S(i.compras,r=>(a(),n("option",{key:r.id,value:r.id},d(r.numero_compra)+" - "+d(r.proveedor.nombre_razon_social)+" ($"+d(r.total.toFixed(2))+") ",9,I))),128))],512),[[V,s(o).compra_id]]),s(o).errors.compra_id?(a(),n("p",$,d(s(o).errors.compra_id),1)):c("",!0)])),t("div",G,[e[13]||(e[13]=t("label",{for:"monto_total",class:"block text-sm font-medium text-gray-700"}," Monto Total ",-1)),p(t("input",{"onUpdate:modelValue":e[1]||(e[1]=r=>s(o).monto_total=r),type:"number",step:"0.01",id:"monto_total",class:g(["mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-indigo-500 focus:border-indigo-500",{"border-red-500":s(o).errors.monto_total}]),required:""},null,2),[[b,s(o).monto_total]]),s(o).errors.monto_total?(a(),n("p",H,d(s(o).errors.monto_total),1)):c("",!0)]),t("div",J,[e[14]||(e[14]=t("label",{for:"fecha_vencimiento",class:"block text-sm font-medium text-gray-700"}," Fecha de Vencimiento ",-1)),p(t("input",{"onUpdate:modelValue":e[2]||(e[2]=r=>s(o).fecha_vencimiento=r),type:"date",id:"fecha_vencimiento",class:g(["mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-indigo-500 focus:border-indigo-500",{"border-red-500":s(o).errors.fecha_vencimiento}])},null,2),[[b,s(o).fecha_vencimiento]]),e[15]||(e[15]=t("p",{class:"mt-1 text-sm text-gray-500"}," Opcional. Si no se especifica, se establecerá automáticamente en 30 días. ",-1)),s(o).errors.fecha_vencimiento?(a(),n("p",K,d(s(o).errors.fecha_vencimiento),1)):c("",!0)]),t("div",Q,[e[16]||(e[16]=t("label",{for:"notas",class:"block text-sm font-medium text-gray-700"}," Notas ",-1)),p(t("textarea",{"onUpdate:modelValue":e[3]||(e[3]=r=>s(o).notas=r),id:"notas",rows:"4",class:g(["mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-indigo-500 focus:border-indigo-500",{"border-red-500":s(o).errors.notas}]),placeholder:"Notas adicionales sobre la cuenta por pagar..."},null,2),[[b,s(o).notas]]),s(o).errors.notas?(a(),n("p",R,d(s(o).errors.notas),1)):c("",!0)]),t("div",W,[f(s(x),{href:l.route("cuentas-por-pagar.index"),class:"mr-4 bg-gray-300 hover:bg-gray-400 text-gray-800 font-bold py-2 px-4 rounded"},{default:u(()=>e[17]||(e[17]=[y(" Cancelar ")])),_:1},8,["href"]),t("button",{type:"submit",disabled:s(o).processing,class:"bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded disabled:opacity-50"},[s(o).processing?(a(),n("span",Y,"Creando...")):(a(),n("span",Z,"Crear Cuenta por Pagar"))],8,X)])],32)])])])])]),_:1}))}};export{rt as default};
