import{r as y,i as l,o as n,g as w,f as e,u as k,Z as U,k as p,e as E,l as B,A as S,t as o,q,v as x,x as _,F as m,m as h,z as A,n as N,N as b}from"./vendor-d19pJyVS.js";import{N as H}from"./app-BcT2PLJy.js";import{A as I}from"./AppLayout-CcnrZQKI.js";import{_ as R}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./utils-Dq7h7Pqt.js";const G={class:"vacaciones-index min-h-screen bg-gray-50"},X={class:"max-w-8xl mx-auto px-6 py-8"},Z={class:"mb-8"},J={class:"flex items-center justify-between"},K={class:"flex gap-3"},Q={class:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-8"},W={class:"bg-white rounded-lg shadow-sm border border-gray-200 p-6"},Y={class:"flex items-center"},ee={class:"ml-4"},te={class:"text-2xl font-semibold text-gray-900"},se={class:"bg-white rounded-lg shadow-sm border border-gray-200 p-6"},oe={class:"flex items-center"},ae={class:"ml-4"},re={class:"text-2xl font-semibold text-gray-900"},le={class:"bg-white rounded-lg shadow-sm border border-gray-200 p-6"},ne={class:"flex items-center"},de={class:"ml-4"},ie={class:"text-2xl font-semibold text-gray-900"},ce={class:"bg-white rounded-lg shadow-sm border border-gray-200 p-6"},ue={class:"flex items-center"},ge={class:"ml-4"},pe={class:"text-2xl font-semibold text-gray-900"},xe={class:"bg-white rounded-lg shadow-xl w-full max-w-md"},me={class:"flex items-center justify-between p-6 border-b border-gray-200"},be={class:"p-6"},ve={class:"mb-4"},fe=["value"],he={class:"flex justify-end gap-3"},ye=["disabled"],we={class:"bg-white rounded-lg shadow-sm border border-gray-200 p-6 mb-6"},ke={class:"grid grid-cols-1 md:grid-cols-4 gap-4"},_e=["value"],Ce={class:"bg-white rounded-lg shadow-sm border border-gray-200 overflow-hidden"},je={class:"overflow-x-auto"},ze={class:"min-w-full divide-y divide-gray-200"},Me={class:"bg-white divide-y divide-gray-200"},Ve={class:"px-6 py-4"},Ee={class:"text-sm font-medium text-gray-900"},Be={class:"text-sm text-gray-500"},Se={class:"px-6 py-4"},Ae={class:"text-sm text-gray-900"},Ne={class:"px-6 py-4"},Pe={class:"text-sm text-gray-900"},De={class:"px-6 py-4"},Le={class:"px-6 py-4"},Fe=["title"],$e={class:"px-6 py-4 text-right"},Oe={class:"flex items-center justify-end space-x-2"},Te=["onClick"],Ue=["onClick"],qe={key:0},He={key:0,class:"bg-white border-t border-gray-200 px-4 py-3"},Ie={class:"flex items-center justify-between"},Re={class:"text-sm text-gray-700"},Ge={class:"flex space-x-1"},Xe=["onClick"],Ze=Object.assign({layout:I,inheritAttrs:!1},{__name:"Index",props:{vacaciones:Object,stats:Object,empleados:Array,filters:Object,sorting:Object},setup(r){var j,z,M,V;const i=r,v=new H({duration:4e3,position:{x:"right",y:"top"}}),d=y({empleado:((j=i.filters)==null?void 0:j.empleado)||"",estado:((z=i.filters)==null?void 0:z.estado)||"",fecha_desde:((M=i.filters)==null?void 0:M.fecha_desde)||"",fecha_hasta:((V=i.filters)==null?void 0:V.fecha_hasta)||""}),c=y(!1),u=y(""),f=()=>{b.get(route("vacaciones.index"),{empleado:d.value.empleado,estado:d.value.estado,fecha_desde:d.value.fecha_desde,fecha_hasta:d.value.fecha_hasta,page:1},{preserveState:!0,preserveScroll:!0})},P=a=>{confirm("¿Estás seguro de que deseas aprobar esta solicitud de vacaciones?")&&b.post(route("vacaciones.aprobar",a.id),{observaciones:""},{onSuccess:()=>{v.success("Vacaciones aprobadas exitosamente")},onError:()=>{v.error("Error al aprobar las vacaciones")}})},D=a=>{const t=prompt("Ingresa el motivo del rechazo (opcional):");confirm("¿Estás seguro de que deseas rechazar esta solicitud de vacaciones?")&&b.post(route("vacaciones.rechazar",a.id),{observaciones:t||""},{onSuccess:()=>{v.success("Vacaciones rechazadas")},onError:()=>{v.error("Error al rechazar las vacaciones")}})},C=a=>{if(!a)return"N/A";try{return new Date(a).toLocaleDateString("es-MX",{day:"2-digit",month:"2-digit",year:"numeric"})}catch{return"Fecha inválida"}},L=a=>({pendiente:"bg-yellow-100 text-yellow-700",aprobada:"bg-green-100 text-green-700",rechazada:"bg-red-100 text-red-700"})[a]||"bg-gray-100 text-gray-700",F=a=>({pendiente:"Pendiente",aprobada:"Aprobada",rechazada:"Rechazada"})[a]||"Desconocido",$=()=>{const a=i.vacaciones.current_page,t=i.vacaciones.last_page,s=[];for(let g=Math.max(1,a-2);g<=Math.min(t,a+2);g++)s.push(g);return s},O=a=>{b.get(route("vacaciones.index"),{...d.value,page:a},{preserveState:!0,preserveScroll:!0})},T=()=>{u.value&&(b.visit(route("vacaciones.create-para-empleado",u.value)),c.value=!1,u.value="")};return(a,t)=>(n(),l(m,null,[w(k(U),{title:"Gestión de Vacaciones"}),e("div",G,[e("div",X,[e("div",Z,[e("div",J,[t[11]||(t[11]=e("div",null,[e("h1",{class:"text-3xl font-bold text-gray-900"},"Gestión de Vacaciones"),e("p",{class:"text-gray-600 mt-1"},"Administra las solicitudes de vacaciones de los empleados")],-1)),e("div",K,[w(k(S),{href:a.route("vacaciones.create"),class:"inline-flex items-center px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors duration-200"},{default:E(()=>t[9]||(t[9]=[e("svg",{class:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})],-1),B(" Nueva Solicitud ")])),_:1},8,["href"]),e("button",{onClick:t[0]||(t[0]=s=>c.value=!0),class:"inline-flex items-center px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors duration-200"},t[10]||(t[10]=[e("svg",{class:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})],-1),B(" Crear para Empleado ")]))])])]),e("div",Q,[e("div",W,[e("div",Y,[t[13]||(t[13]=e("div",{class:"p-2 bg-blue-100 rounded-lg"},[e("svg",{class:"w-6 h-6 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})])],-1)),e("div",ee,[t[12]||(t[12]=e("p",{class:"text-sm font-medium text-gray-600"},"Total Solicitudes",-1)),e("p",te,o(r.stats.total),1)])])]),e("div",se,[e("div",oe,[t[15]||(t[15]=e("div",{class:"p-2 bg-yellow-100 rounded-lg"},[e("svg",{class:"w-6 h-6 text-yellow-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})])],-1)),e("div",ae,[t[14]||(t[14]=e("p",{class:"text-sm font-medium text-gray-600"},"Pendientes",-1)),e("p",re,o(r.stats.pendientes),1)])])]),e("div",le,[e("div",ne,[t[17]||(t[17]=e("div",{class:"p-2 bg-green-100 rounded-lg"},[e("svg",{class:"w-6 h-6 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})])],-1)),e("div",de,[t[16]||(t[16]=e("p",{class:"text-sm font-medium text-gray-600"},"Aprobadas",-1)),e("p",ie,o(r.stats.aprobadas),1)])])]),e("div",ce,[e("div",ue,[t[19]||(t[19]=e("div",{class:"p-2 bg-red-100 rounded-lg"},[e("svg",{class:"w-6 h-6 text-red-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})])],-1)),e("div",ge,[t[18]||(t[18]=e("p",{class:"text-sm font-medium text-gray-600"},"Rechazadas",-1)),e("p",pe,o(r.stats.rechazadas),1)])])])]),c.value?(n(),l("div",{key:0,class:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",onClick:t[4]||(t[4]=q(s=>c.value=!1,["self"]))},[e("div",xe,[e("div",me,[t[21]||(t[21]=e("h3",{class:"text-lg font-medium text-gray-900"},"Crear Vacaciones para Empleado",-1)),e("button",{onClick:t[1]||(t[1]=s=>c.value=!1),class:"text-gray-400 hover:text-gray-600"},t[20]||(t[20]=[e("svg",{class:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)]))]),e("div",be,[e("div",ve,[t[23]||(t[23]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Seleccionar Empleado",-1)),x(e("select",{"onUpdate:modelValue":t[2]||(t[2]=s=>u.value=s),class:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-transparent"},[t[22]||(t[22]=e("option",{value:""},"Elegir empleado...",-1)),(n(!0),l(m,null,h(r.empleados,s=>(n(),l("option",{key:s.id,value:s.id},o(s.name)+" "+o(s.apellido_paterno),9,fe))),128))],512),[[_,u.value]])]),e("div",he,[e("button",{onClick:t[3]||(t[3]=s=>c.value=!1),class:"px-4 py-2 text-gray-700 border border-gray-300 rounded-lg hover:bg-gray-50"}," Cancelar "),e("button",{onClick:T,disabled:!u.value,class:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed"}," Crear Vacaciones ",8,ye)])])])])):p("",!0),e("div",we,[e("div",ke,[e("div",null,[t[25]||(t[25]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Empleado",-1)),x(e("select",{"onUpdate:modelValue":t[5]||(t[5]=s=>d.value.empleado=s),onChange:f,class:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-transparent"},[t[24]||(t[24]=e("option",{value:""},"Todos los empleados",-1)),(n(!0),l(m,null,h(r.empleados,s=>(n(),l("option",{key:s.id,value:s.id},o(s.name)+" "+o(s.apellido_paterno),9,_e))),128))],544),[[_,d.value.empleado]])]),e("div",null,[t[27]||(t[27]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Estado",-1)),x(e("select",{"onUpdate:modelValue":t[6]||(t[6]=s=>d.value.estado=s),onChange:f,class:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-transparent"},t[26]||(t[26]=[e("option",{value:""},"Todos los estados",-1),e("option",{value:"pendiente"},"Pendiente",-1),e("option",{value:"aprobada"},"Aprobada",-1),e("option",{value:"rechazada"},"Rechazada",-1)]),544),[[_,d.value.estado]])]),e("div",null,[t[28]||(t[28]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Fecha Desde",-1)),x(e("input",{"onUpdate:modelValue":t[7]||(t[7]=s=>d.value.fecha_desde=s),type:"date",onChange:f,class:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-transparent"},null,544),[[A,d.value.fecha_desde]])]),e("div",null,[t[29]||(t[29]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Fecha Hasta",-1)),x(e("input",{"onUpdate:modelValue":t[8]||(t[8]=s=>d.value.fecha_hasta=s),type:"date",onChange:f,class:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-transparent"},null,544),[[A,d.value.fecha_hasta]])])])]),e("div",Ce,[e("div",je,[e("table",ze,[t[34]||(t[34]=e("thead",{class:"bg-gray-50"},[e("tr",null,[e("th",{class:"px-6 py-4 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider"}," Empleado "),e("th",{class:"px-6 py-4 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider"}," Fechas "),e("th",{class:"px-6 py-4 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider"}," Días "),e("th",{class:"px-6 py-4 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider"}," Estado "),e("th",{class:"px-6 py-4 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider"}," Motivo "),e("th",{class:"px-6 py-4 text-right text-xs font-semibold text-gray-600 uppercase tracking-wider"}," Acciones ")])],-1)),e("tbody",Me,[(n(!0),l(m,null,h(r.vacaciones.data,s=>(n(),l("tr",{key:s.id,class:"hover:bg-gray-50 transition-colors duration-150"},[e("td",Ve,[e("div",Ee,o(s.empleado.name)+" "+o(s.empleado.apellido_paterno),1),e("div",Be,o(s.empleado.puesto),1)]),e("td",Se,[e("div",Ae,o(C(s.fecha_inicio))+" - "+o(C(s.fecha_fin)),1)]),e("td",Ne,[e("div",Pe,o(s.dias_solicitados)+" días",1)]),e("td",De,[e("span",{class:N([L(s.estado),"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium"])},o(F(s.estado)),3)]),e("td",Le,[e("div",{class:"text-sm text-gray-900 max-w-xs truncate",title:s.motivo},o(s.motivo||"Sin motivo especificado"),9,Fe)]),e("td",$e,[e("div",Oe,[w(k(S),{href:a.route("vacaciones.show",s.id),class:"w-8 h-8 bg-blue-50 text-blue-600 rounded-lg hover:bg-blue-100 transition-colors duration-150 flex items-center justify-center",title:"Ver detalles"},{default:E(()=>t[30]||(t[30]=[e("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})],-1)])),_:2},1032,["href"]),s.estado==="pendiente"?(n(),l("button",{key:0,onClick:g=>P(s),class:"w-8 h-8 bg-green-50 text-green-600 rounded-lg hover:bg-green-100 transition-colors duration-150 flex items-center justify-center",title:"Aprobar"},t[31]||(t[31]=[e("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})],-1)]),8,Te)):p("",!0),s.estado==="pendiente"?(n(),l("button",{key:1,onClick:g=>D(s),class:"w-8 h-8 bg-red-50 text-red-600 rounded-lg hover:bg-red-100 transition-colors duration-150 flex items-center justify-center",title:"Rechazar"},t[32]||(t[32]=[e("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)]),8,Ue)):p("",!0)])])]))),128)),r.vacaciones.data.length===0?(n(),l("tr",qe,t[33]||(t[33]=[e("td",{colspan:"6",class:"px-6 py-16 text-center"},[e("div",{class:"flex flex-col items-center space-y-4"},[e("div",{class:"w-16 h-16 bg-gray-100 rounded-full flex items-center justify-center"},[e("svg",{class:"w-8 h-8 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"1.5",d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})])]),e("div",{class:"space-y-1"},[e("p",{class:"text-gray-700 font-medium"},"No hay solicitudes de vacaciones"),e("p",{class:"text-sm text-gray-500"},"Las solicitudes aparecerán aquí cuando se creen")])])],-1)]))):p("",!0)])])]),r.vacaciones.last_page>1?(n(),l("div",He,[e("div",Ie,[e("div",Re," Mostrando "+o(r.vacaciones.from)+" - "+o(r.vacaciones.to)+" de "+o(r.vacaciones.total)+" resultados ",1),e("div",Ge,[(n(!0),l(m,null,h($(),s=>(n(),l("button",{key:s,onClick:g=>O(s),class:N([s===r.vacaciones.current_page?"bg-blue-50 border-blue-500 text-blue-600":"bg-white border-gray-300 text-gray-500 hover:bg-gray-50","relative inline-flex items-center px-4 py-2 border text-sm font-medium"])},o(s),11,Xe))),128))])])])):p("",!0)])])])],64))}}),et=R(Ze,[["__scopeId","data-v-279f8003"]]);export{et as default};
