import{c as p,i as l,o as r,g as u,f as e,k as a,u as g,Z as k,e as m,l as n,A as c,t as o,F as _,m as x}from"./vendor-d19pJyVS.js";import{A as j}from"./AppLayout-CcnrZQKI.js";import"./utils-Dq7h7Pqt.js";import"./app-BcT2PLJy.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";const V={class:"flex items-center justify-between mb-6"},A={class:"flex gap-3"},D={class:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-6 gap-4 mb-8"},M={class:"bg-white p-4 rounded-lg shadow-sm border-l-4 border-red-500"},C={class:"text-2xl font-bold text-red-600"},z={class:"bg-white p-4 rounded-lg shadow-sm border-l-4 border-orange-500"},B={class:"text-2xl font-bold text-orange-600"},N={class:"bg-white p-4 rounded-lg shadow-sm border-l-4 border-red-500"},q={class:"text-2xl font-bold text-red-600"},F={class:"bg-white p-4 rounded-lg shadow-sm border-l-4 border-yellow-500"},L={class:"text-2xl font-bold text-yellow-600"},P={class:"bg-white p-4 rounded-lg shadow-sm border-l-4 border-red-500"},$={class:"text-2xl font-bold text-red-600"},E={class:"bg-white p-4 rounded-lg shadow-sm border-l-4 border-blue-500"},H={class:"text-2xl font-bold text-blue-600"},S={class:"space-y-6"},T={key:0,class:"bg-white rounded-lg shadow-sm border"},O={class:"p-6 border-b border-red-200"},U={class:"flex items-center gap-3"},G={class:"text-sm text-red-600"},Z={class:"p-6"},I={class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4"},J={class:"flex items-center gap-3 mb-2"},K=["src"],Q={class:"font-medium text-red-800"},R={class:"text-sm text-red-600"},W={class:"text-sm text-red-700"},X={class:"mt-3 flex gap-2"},Y={key:1,class:"bg-white rounded-lg shadow-sm border"},ee={class:"p-6 border-b border-orange-200"},te={class:"flex items-center gap-3"},se={class:"text-sm text-orange-600"},oe={class:"p-6"},ie={class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4"},de={class:"flex items-center gap-3 mb-2"},le=["src"],re={class:"font-medium text-orange-800"},ne={class:"text-sm text-orange-600"},ae={class:"text-sm text-orange-700"},ue={class:"mt-3"},ge={key:2,class:"bg-white rounded-lg shadow-sm border"},me={class:"p-6 border-b border-yellow-200"},ce={class:"flex items-center gap-3"},_e={class:"text-sm text-yellow-600"},xe={class:"p-6"},ve={class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4"},pe={class:"flex items-center gap-3 mb-2"},be=["src"],he={class:"font-medium text-yellow-800"},fe={class:"text-sm text-yellow-600"},we={class:"text-sm text-yellow-700"},ye={class:"mt-3"},ke={key:3,class:"bg-white rounded-lg shadow-sm border"},je={class:"p-6 border-b border-red-200"},Ve={class:"flex items-center gap-3"},Ae={class:"text-sm text-red-600"},De={class:"p-6"},Me={class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4"},Ce={class:"flex items-center gap-3 mb-2"},ze=["src"],Be={class:"font-medium text-red-800"},Ne={class:"text-sm text-red-600"},qe={class:"mt-3"},Fe={key:4,class:"bg-white rounded-lg shadow-sm border"},Le={class:"p-6 border-b border-blue-200"},Pe={class:"flex items-center gap-3"},$e={class:"text-sm text-blue-600"},Ee={class:"p-6"},He={class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4"},Se={class:"flex items-center gap-3 mb-2"},Te=["src"],Oe={class:"font-medium text-blue-800"},Ue={class:"text-sm text-blue-600"},Ge={class:"mt-3"},Ze={key:0,class:"bg-white rounded-lg shadow-sm border p-12 text-center"},We=Object.assign({layout:j},{__name:"Alertas",props:{herramientas:{type:Object,required:!0}},setup(b){const h=b,f=p(()=>{var i;return((i=h.herramientas)==null?void 0:i.data)||[]}),w=()=>{const i={mantenimiento_urgente:[],mantenimiento_proximo:[],vida_util_vencida:[],vida_util_proxima:[],herramientas_perdidas:[],herramientas_sin_categoria:[]};return f.value.forEach(t=>{t.requiere_mantenimiento&&t.necesita_mantenimiento&&i.mantenimiento_urgente.push(t),t.requiere_mantenimiento&&t.dias_desde_ultimo_mantenimiento>=t.dias_para_mantenimiento*.8&&!t.necesita_mantenimiento&&i.mantenimiento_proximo.push(t),t.porcentaje_vida_util>100&&i.vida_util_vencida.push(t),t.porcentaje_vida_util>=80&&t.porcentaje_vida_util<=100&&i.vida_util_proxima.push(t),t.estado==="perdida"&&i.herramientas_perdidas.push(t),!t.categoria_id&&!t.categoria&&i.herramientas_sin_categoria.push(t)}),i},d=p(()=>w()),v=i=>i?new Date(i).toLocaleDateString("es-ES"):"N/A",y=()=>Object.values(d.value).reduce((i,t)=>i+t.length,0);return(i,t)=>(r(),l(_,null,[u(g(k),{title:"Alertas de Herramientas"}),e("div",V,[t[2]||(t[2]=e("h1",{class:"text-3xl font-bold text-slate-900"},"Alertas de Herramientas",-1)),e("div",A,[u(g(c),{class:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",href:i.route("herramientas.dashboard")},{default:m(()=>t[0]||(t[0]=[n(" Dashboard ")])),_:1},8,["href"]),u(g(c),{class:"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700",href:i.route("herramientas-mantenimiento")},{default:m(()=>t[1]||(t[1]=[n(" Gestionar Mantenimiento ")])),_:1},8,["href"])])]),e("div",D,[e("div",M,[e("div",C,o(d.value.mantenimiento_urgente.length),1),t[3]||(t[3]=e("div",{class:"text-sm text-gray-600"},"Mant. Urgente",-1))]),e("div",z,[e("div",B,o(d.value.mantenimiento_proximo.length),1),t[4]||(t[4]=e("div",{class:"text-sm text-gray-600"},"Mant. Próximo",-1))]),e("div",N,[e("div",q,o(d.value.vida_util_vencida.length),1),t[5]||(t[5]=e("div",{class:"text-sm text-gray-600"},"Vida Útil Vencida",-1))]),e("div",F,[e("div",L,o(d.value.vida_util_proxima.length),1),t[6]||(t[6]=e("div",{class:"text-sm text-gray-600"},"Vida Útil Próxima",-1))]),e("div",P,[e("div",$,o(d.value.herramientas_perdidas.length),1),t[7]||(t[7]=e("div",{class:"text-sm text-gray-600"},"Perdidas",-1))]),e("div",E,[e("div",H,o(d.value.herramientas_sin_categoria.length),1),t[8]||(t[8]=e("div",{class:"text-sm text-gray-600"},"Sin Categoría",-1))])]),e("div",S,[d.value.mantenimiento_urgente.length>0?(r(),l("div",T,[e("div",O,[e("div",U,[t[10]||(t[10]=e("div",{class:"w-10 h-10 bg-red-100 rounded-full flex items-center justify-center"},[e("svg",{class:"w-6 h-6 text-red-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L3.732 16.5c-.77.833.192 2.5 1.732 2.5z"})])],-1)),e("div",null,[t[9]||(t[9]=e("h2",{class:"text-xl font-semibold text-red-800"},"Mantenimiento Urgente",-1)),e("p",G,o(d.value.mantenimiento_urgente.length)+" herramientas requieren mantenimiento inmediato",1)])])]),e("div",Z,[e("div",I,[(r(!0),l(_,null,x(d.value.mantenimiento_urgente,s=>(r(),l("div",{key:s.id,class:"p-4 border border-red-200 rounded-lg bg-red-50"},[e("div",J,[s.foto?(r(),l("img",{key:0,src:`/storage/${s.foto}`,alt:"Foto",class:"w-12 h-12 object-cover rounded"},null,8,K)):a("",!0),e("div",null,[e("h3",Q,o(s.nombre),1),e("p",R,o(s.numero_serie),1)])]),e("div",W,[e("p",null,[t[11]||(t[11]=e("strong",null,"Días desde último mantenimiento:",-1)),n(" "+o(s.dias_desde_ultimo_mantenimiento||"N/A"),1)]),e("p",null,[t[12]||(t[12]=e("strong",null,"Días requeridos:",-1)),n(" "+o(s.dias_para_mantenimiento||"N/A"),1)])]),e("div",X,[u(g(c),{href:i.route("herramientas.show",s.id),class:"text-xs bg-red-600 text-white px-2 py-1 rounded hover:bg-red-700"},{default:m(()=>t[13]||(t[13]=[n(" Ver Detalles ")])),_:2},1032,["href"]),u(g(c),{href:i.route("herramientas.edit",s.id),class:"text-xs bg-blue-600 text-white px-2 py-1 rounded hover:bg-blue-700"},{default:m(()=>t[14]||(t[14]=[n(" Editar ")])),_:2},1032,["href"])])]))),128))])])])):a("",!0),d.value.mantenimiento_proximo.length>0?(r(),l("div",Y,[e("div",ee,[e("div",te,[t[16]||(t[16]=e("div",{class:"w-10 h-10 bg-orange-100 rounded-full flex items-center justify-center"},[e("svg",{class:"w-6 h-6 text-orange-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})])],-1)),e("div",null,[t[15]||(t[15]=e("h2",{class:"text-xl font-semibold text-orange-800"},"Mantenimiento Próximo",-1)),e("p",se,o(d.value.mantenimiento_proximo.length)+" herramientas requieren mantenimiento pronto",1)])])]),e("div",oe,[e("div",ie,[(r(!0),l(_,null,x(d.value.mantenimiento_proximo,s=>(r(),l("div",{key:s.id,class:"p-4 border border-orange-200 rounded-lg bg-orange-50"},[e("div",de,[s.foto?(r(),l("img",{key:0,src:`/storage/${s.foto}`,alt:"Foto",class:"w-12 h-12 object-cover rounded"},null,8,le)):a("",!0),e("div",null,[e("h3",re,o(s.nombre),1),e("p",ne,o(s.numero_serie),1)])]),e("div",ae,[e("p",null,[t[17]||(t[17]=e("strong",null,"Días restantes:",-1)),n(" "+o(s.dias_para_proximo_mantenimiento||"N/A"),1)]),e("p",null,[t[18]||(t[18]=e("strong",null,"Último mantenimiento:",-1)),n(" "+o(v(s.fecha_ultimo_mantenimiento)),1)])]),e("div",ue,[u(g(c),{href:i.route("herramientas.show",s.id),class:"text-xs bg-orange-600 text-white px-2 py-1 rounded hover:bg-orange-700"},{default:m(()=>t[19]||(t[19]=[n(" Ver Detalles ")])),_:2},1032,["href"])])]))),128))])])])):a("",!0),d.value.vida_util_proxima.length>0?(r(),l("div",ge,[e("div",me,[e("div",ce,[t[21]||(t[21]=e("div",{class:"w-10 h-10 bg-yellow-100 rounded-full flex items-center justify-center"},[e("svg",{class:"w-6 h-6 text-yellow-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})])],-1)),e("div",null,[t[20]||(t[20]=e("h2",{class:"text-xl font-semibold text-yellow-800"},"Vida Útil Próxima a Vencer",-1)),e("p",_e,o(d.value.vida_util_proxima.length)+" herramientas requieren atención",1)])])]),e("div",xe,[e("div",ve,[(r(!0),l(_,null,x(d.value.vida_util_proxima,s=>(r(),l("div",{key:s.id,class:"p-4 border border-yellow-200 rounded-lg bg-yellow-50"},[e("div",pe,[s.foto?(r(),l("img",{key:0,src:`/storage/${s.foto}`,alt:"Foto",class:"w-12 h-12 object-cover rounded"},null,8,be)):a("",!0),e("div",null,[e("h3",he,o(s.nombre),1),e("p",fe,o(s.numero_serie),1)])]),e("div",we,[e("p",null,[t[22]||(t[22]=e("strong",null,"Vida útil utilizada:",-1)),n(" "+o(s.porcentaje_vida_util||0)+"%",1)]),e("p",null,[t[23]||(t[23]=e("strong",null,"Último mantenimiento:",-1)),n(" "+o(v(s.fecha_ultimo_mantenimiento)),1)])]),e("div",ye,[u(g(c),{href:i.route("herramientas.show",s.id),class:"text-xs bg-yellow-600 text-white px-2 py-1 rounded hover:bg-yellow-700"},{default:m(()=>t[24]||(t[24]=[n(" Ver Detalles ")])),_:2},1032,["href"])])]))),128))])])])):a("",!0),d.value.herramientas_perdidas.length>0?(r(),l("div",ke,[e("div",je,[e("div",Ve,[t[26]||(t[26]=e("div",{class:"w-10 h-10 bg-red-100 rounded-full flex items-center justify-center"},[e("svg",{class:"w-6 h-6 text-red-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L3.732 16.5c-.77.833.192 2.5 1.732 2.5z"})])],-1)),e("div",null,[t[25]||(t[25]=e("h2",{class:"text-xl font-semibold text-red-800"},"Herramientas Perdidas",-1)),e("p",Ae,o(d.value.herramientas_perdidas.length)+" herramientas reportadas como perdidas",1)])])]),e("div",De,[e("div",Me,[(r(!0),l(_,null,x(d.value.herramientas_perdidas,s=>(r(),l("div",{key:s.id,class:"p-4 border border-red-200 rounded-lg bg-red-50"},[e("div",Ce,[s.foto?(r(),l("img",{key:0,src:`/storage/${s.foto}`,alt:"Foto",class:"w-12 h-12 object-cover rounded"},null,8,ze)):a("",!0),e("div",null,[e("h3",Be,o(s.nombre),1),e("p",Ne,o(s.numero_serie),1)])]),e("div",qe,[u(g(c),{href:i.route("herramientas.show",s.id),class:"text-xs bg-red-600 text-white px-2 py-1 rounded hover:bg-red-700"},{default:m(()=>t[27]||(t[27]=[n(" Ver Detalles ")])),_:2},1032,["href"])])]))),128))])])])):a("",!0),d.value.herramientas_sin_categoria.length>0?(r(),l("div",Fe,[e("div",Le,[e("div",Pe,[t[29]||(t[29]=e("div",{class:"w-10 h-10 bg-blue-100 rounded-full flex items-center justify-center"},[e("svg",{class:"w-6 h-6 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M7 7h.01M7 3h5c.512 0 1.024.195 1.414.586l7 7a2 2 0 010 2.828l-7 7a2 2 0 01-2.828 0l-7-7A1.994 1.994 0 013 12V7a4 4 0 014-4z"})])],-1)),e("div",null,[t[28]||(t[28]=e("h2",{class:"text-xl font-semibold text-blue-800"},"Herramientas sin Categoría",-1)),e("p",$e,o(d.value.herramientas_sin_categoria.length)+" herramientas necesitan ser categorizadas",1)])])]),e("div",Ee,[e("div",He,[(r(!0),l(_,null,x(d.value.herramientas_sin_categoria,s=>(r(),l("div",{key:s.id,class:"p-4 border border-blue-200 rounded-lg bg-blue-50"},[e("div",Se,[s.foto?(r(),l("img",{key:0,src:`/storage/${s.foto}`,alt:"Foto",class:"w-12 h-12 object-cover rounded"},null,8,Te)):a("",!0),e("div",null,[e("h3",Oe,o(s.nombre),1),e("p",Ue,o(s.numero_serie),1)])]),e("div",Ge,[u(g(c),{href:i.route("herramientas.edit",s.id),class:"text-xs bg-blue-600 text-white px-2 py-1 rounded hover:bg-blue-700"},{default:m(()=>t[30]||(t[30]=[n(" Categorizar ")])),_:2},1032,["href"])])]))),128))])])])):a("",!0)]),y()===0?(r(),l("div",Ze,t[31]||(t[31]=[e("svg",{class:"w-16 h-16 text-green-500 mx-auto mb-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})],-1),e("h2",{class:"text-xl font-semibold text-gray-900 mb-2"},"¡Todo en orden!",-1),e("p",{class:"text-gray-600"},"No hay alertas pendientes en este momento.",-1)]))):a("",!0)],64))}});export{We as default};
