import{r as V,i,o as n,g as p,f as e,u as x,Z as z,e as v,l as B,A as b,t as a,v as A,x as N,k as d,F as h,m as f,n as y,N as w}from"./vendor-d19pJyVS.js";import{A as S}from"./AppLayout-CcnrZQKI.js";import{_ as D}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./utils-Dq7h7Pqt.js";import"./app-BcT2PLJy.js";const P={class:"mis-vacaciones min-h-screen bg-gray-50"},$={class:"max-w-6xl mx-auto px-6 py-8"},F={class:"mb-8"},L={class:"flex items-center justify-between"},E={class:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8"},T={class:"bg-white rounded-lg shadow-sm border border-gray-200 p-6"},H={class:"flex items-center"},O={class:"ml-4"},R={class:"text-2xl font-semibold text-gray-900"},q={class:"bg-white rounded-lg shadow-sm border border-gray-200 p-6"},I={class:"flex items-center"},U={class:"ml-4"},X={class:"text-2xl font-semibold text-gray-900"},Z={class:"bg-white rounded-lg shadow-sm border border-gray-200 p-6"},G={class:"flex items-center"},J={class:"ml-4"},K={class:"text-2xl font-semibold text-gray-900"},Q={class:"bg-white rounded-lg shadow-sm border border-gray-200 p-6 mb-6"},W={class:"flex flex-col sm:flex-row gap-4"},Y={class:"flex-1"},ee={class:"bg-white rounded-lg shadow-sm border border-gray-200 overflow-hidden"},te={class:"overflow-x-auto"},se={class:"min-w-full divide-y divide-gray-200"},oe={class:"bg-white divide-y divide-gray-200"},ae={class:"px-6 py-4"},re={class:"text-sm font-medium text-gray-900"},ie={class:"text-sm text-gray-500"},ne={class:"px-6 py-4"},le={class:"text-sm text-gray-900"},de={class:"px-6 py-4"},ce={class:"px-6 py-4"},ue=["title"],ge={class:"px-6 py-4"},pe={class:"text-sm text-gray-900"},xe={class:"px-6 py-4 text-right"},he={class:"flex items-center justify-end space-x-2"},me={key:0},ve=["onClick"],be=["onClick"],fe={key:0},ye={key:0,class:"bg-white border-t border-gray-200 px-4 py-3"},we={class:"flex items-center justify-between"},ke={class:"text-sm text-gray-700"},_e={class:"flex space-x-1"},Ce=["onClick"],Me=Object.assign({layout:S,inheritAttrs:!1},{__name:"MisVacaciones",props:{vacaciones:Object,filters:Object},setup(r){var m;const u=r,c=V({estado:((m=u.filters)==null?void 0:m.estado)||""}),k=()=>{w.get(route("vacaciones.mis-vacaciones"),{estado:c.value.estado,page:1},{preserveState:!0,preserveScroll:!0})},g=o=>{if(!o)return"N/A";try{return new Date(o).toLocaleDateString("es-MX",{day:"2-digit",month:"2-digit",year:"numeric"})}catch{return"Fecha inválida"}},_=o=>({pendiente:"bg-yellow-100 text-yellow-700",aprobada:"bg-green-100 text-green-700",rechazada:"bg-red-100 text-red-700"})[o]||"bg-gray-100 text-gray-700",C=o=>({pendiente:"Pendiente",aprobada:"Aprobada",rechazada:"Rechazada"})[o]||"Desconocido",M=()=>{const o=u.vacaciones.current_page,t=u.vacaciones.last_page,s=[];for(let l=Math.max(1,o-2);l<=Math.min(t,o+2);l++)s.push(l);return s},j=o=>{w.get(route("vacaciones.mis-vacaciones"),{...c.value,page:o},{preserveState:!0,preserveScroll:!0})};return(o,t)=>(n(),i(h,null,[p(x(z),{title:"Mis Vacaciones"}),e("div",P,[e("div",$,[e("div",F,[e("div",L,[t[2]||(t[2]=e("div",null,[e("h1",{class:"text-3xl font-bold text-gray-900"},"Mis Vacaciones"),e("p",{class:"text-gray-600 mt-1"},"Consulta el historial de tus solicitudes de vacaciones")],-1)),p(x(b),{href:o.route("vacaciones.create"),class:"inline-flex items-center px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors duration-200"},{default:v(()=>t[1]||(t[1]=[e("svg",{class:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})],-1),B(" Nueva Solicitud ")])),_:1},8,["href"])])]),e("div",E,[e("div",T,[e("div",H,[t[4]||(t[4]=e("div",{class:"p-2 bg-yellow-100 rounded-lg"},[e("svg",{class:"w-6 h-6 text-yellow-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})])],-1)),e("div",O,[t[3]||(t[3]=e("p",{class:"text-sm font-medium text-gray-600"},"Pendientes",-1)),e("p",R,a(r.vacaciones.data.filter(s=>s.estado==="pendiente").length),1)])])]),e("div",q,[e("div",I,[t[6]||(t[6]=e("div",{class:"p-2 bg-green-100 rounded-lg"},[e("svg",{class:"w-6 h-6 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})])],-1)),e("div",U,[t[5]||(t[5]=e("p",{class:"text-sm font-medium text-gray-600"},"Aprobadas",-1)),e("p",X,a(r.vacaciones.data.filter(s=>s.estado==="aprobada").length),1)])])]),e("div",Z,[e("div",G,[t[8]||(t[8]=e("div",{class:"p-2 bg-blue-100 rounded-lg"},[e("svg",{class:"w-6 h-6 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})])],-1)),e("div",J,[t[7]||(t[7]=e("p",{class:"text-sm font-medium text-gray-600"},"Total",-1)),e("p",K,a(r.vacaciones.total),1)])])])]),e("div",Q,[e("div",W,[e("div",Y,[t[10]||(t[10]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Filtrar por estado",-1)),A(e("select",{"onUpdate:modelValue":t[0]||(t[0]=s=>c.value.estado=s),onChange:k,class:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-transparent"},t[9]||(t[9]=[e("option",{value:""},"Todos los estados",-1),e("option",{value:"pendiente"},"Pendiente",-1),e("option",{value:"aprobada"},"Aprobada",-1),e("option",{value:"rechazada"},"Rechazada",-1)]),544),[[N,c.value.estado]])])])]),e("div",ee,[e("div",te,[e("table",se,[t[15]||(t[15]=e("thead",{class:"bg-gray-50"},[e("tr",null,[e("th",{class:"px-6 py-4 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider"}," Fechas "),e("th",{class:"px-6 py-4 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider"}," Días "),e("th",{class:"px-6 py-4 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider"}," Estado "),e("th",{class:"px-6 py-4 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider"}," Motivo "),e("th",{class:"px-6 py-4 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider"}," Solicitado "),e("th",{class:"px-6 py-4 text-right text-xs font-semibold text-gray-600 uppercase tracking-wider"}," Acciones ")])],-1)),e("tbody",oe,[(n(!0),i(h,null,f(r.vacaciones.data,s=>(n(),i("tr",{key:s.id,class:"hover:bg-gray-50 transition-colors duration-150"},[e("td",ae,[e("div",re,a(g(s.fecha_inicio)),1),e("div",ie," hasta "+a(g(s.fecha_fin)),1)]),e("td",ne,[e("div",le,a(s.dias_solicitados)+" días",1)]),e("td",de,[e("span",{class:y([_(s.estado),"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium"])},a(C(s.estado)),3)]),e("td",ce,[e("div",{class:"text-sm text-gray-900 max-w-xs truncate",title:s.motivo},a(s.motivo||"Sin motivo especificado"),9,ue)]),e("td",ge,[e("div",pe,a(g(s.created_at)),1)]),e("td",xe,[e("div",he,[p(x(b),{href:o.route("vacaciones.show",s.id),class:"w-8 h-8 bg-blue-50 text-blue-600 rounded-lg hover:bg-blue-100 transition-colors duration-150 flex items-center justify-center",title:"Ver detalles"},{default:v(()=>t[11]||(t[11]=[e("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})],-1)])),_:2},1032,["href"]),o.$page.props.auth.user&&o.$page.props.auth.user.roles&&o.$page.props.auth.user.roles.some&&o.$page.props.auth.user.roles.some(l=>l.name==="admin")?(n(),i("div",me,[s.estado==="pendiente"?(n(),i("button",{key:0,onClick:l=>o.aprobarVacacion(s),class:"w-8 h-8 bg-green-50 text-green-600 rounded-lg hover:bg-green-100 transition-colors duration-150 flex items-center justify-center",title:"Aprobar"},t[12]||(t[12]=[e("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})],-1)]),8,ve)):d("",!0),s.estado==="pendiente"?(n(),i("button",{key:1,onClick:l=>o.rechazarVacacion(s),class:"w-8 h-8 bg-red-50 text-red-600 rounded-lg hover:bg-red-100 transition-colors duration-150 flex items-center justify-center",title:"Rechazar"},t[13]||(t[13]=[e("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)]),8,be)):d("",!0)])):d("",!0)])])]))),128)),r.vacaciones.data.length===0?(n(),i("tr",fe,t[14]||(t[14]=[e("td",{colspan:"6",class:"px-6 py-16 text-center"},[e("div",{class:"flex flex-col items-center space-y-4"},[e("div",{class:"w-16 h-16 bg-gray-100 rounded-full flex items-center justify-center"},[e("svg",{class:"w-8 h-8 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"1.5",d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})])]),e("div",{class:"space-y-1"},[e("p",{class:"text-gray-700 font-medium"},"No tienes solicitudes de vacaciones"),e("p",{class:"text-sm text-gray-500"},"Tus solicitudes aparecerán aquí cuando las crees")])])],-1)]))):d("",!0)])])]),r.vacaciones.last_page>1?(n(),i("div",ye,[e("div",we,[e("div",ke," Mostrando "+a(r.vacaciones.from)+" - "+a(r.vacaciones.to)+" de "+a(r.vacaciones.total)+" resultados ",1),e("div",_e,[(n(!0),i(h,null,f(M(),s=>(n(),i("button",{key:s,onClick:l=>j(s),class:y([s===r.vacaciones.current_page?"bg-blue-50 border-blue-500 text-blue-600":"bg-white border-gray-300 text-gray-500 hover:bg-gray-50","relative inline-flex items-center px-4 py-2 border text-sm font-medium"])},a(s),11,Ce))),128))])])])):d("",!0)])])])],64))}}),Ne=D(Me,[["__scopeId","data-v-8ba46b12"]]);export{Ne as default};
