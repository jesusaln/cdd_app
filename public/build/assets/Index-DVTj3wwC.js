import{c as w,i as a,o as n,g as l,f as e,k as v,u as d,Z as k,e as m,l as c,A as x,t as r,F as h,m as p,n as M}from"./vendor-d19pJyVS.js";import{A}from"./AppLayout-CcnrZQKI.js";import"./utils-Dq7h7Pqt.js";import"./app-BcT2PLJy.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";const j={class:"flex items-center justify-between mb-6"},H={class:"flex gap-3"},V={class:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-6"},C={class:"bg-white p-4 rounded-lg shadow-sm border"},B={class:"text-2xl font-bold text-blue-600"},N={class:"bg-white p-4 rounded-lg shadow-sm border"},z={class:"text-2xl font-bold text-green-600"},E={class:"bg-white p-4 rounded-lg shadow-sm border"},D={class:"text-2xl font-bold text-blue-600"},G={class:"bg-white p-4 rounded-lg shadow-sm border"},L={class:"text-2xl font-bold text-orange-600"},T={class:"space-y-4"},F={class:"p-6 border-b"},S={class:"flex items-center justify-between"},$={class:"text-xl font-semibold text-gray-900"},O={class:"text-gray-600"},q={class:"flex items-center gap-3"},I={class:"text-right"},P={class:"text-2xl font-bold text-blue-600"},R={class:"p-6"},Y={class:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-4"},Z={class:"text-center p-3 bg-green-50 rounded-lg"},J={class:"text-lg font-bold text-green-600"},K={class:"text-center p-3 bg-blue-50 rounded-lg"},Q={class:"text-lg font-bold text-blue-600"},U={class:"text-center p-3 bg-yellow-50 rounded-lg"},W={class:"text-lg font-bold text-yellow-600"},X={class:"text-center p-3 bg-gray-50 rounded-lg"},ee={class:"text-lg font-bold text-gray-600"},te={key:0,class:"mt-4"},se={class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-3"},oe={class:"flex items-center gap-3"},re=["src"],ae={key:1,class:"w-10 h-10 bg-gray-200 rounded flex items-center justify-center"},ne={class:"flex-1"},ie={class:"font-medium text-sm"},le={class:"text-xs text-gray-600"},de={key:0,class:"mt-3 text-center"},ge={class:"text-sm text-gray-600"},me={key:1,class:"text-center py-8 text-gray-500"},xe={key:0,class:"bg-white rounded-lg shadow-sm border p-12 text-center"},ue={class:"mt-8 bg-white rounded-lg shadow-sm border p-6"},ce={class:"grid grid-cols-2 md:grid-cols-4 gap-4"},ye=Object.assign({layout:A},{__name:"Index",props:{tecnicos:{type:[Array,Object],required:!0}},setup(f){const b=f,u=w(()=>Array.isArray(b.tecnicos)?b.tecnicos:[b.tecnicos]),y=i=>({disponible:"bg-green-100 text-green-800",asignada:"bg-blue-100 text-blue-800",mantenimiento:"bg-yellow-100 text-yellow-800",baja:"bg-red-100 text-red-800",perdida:"bg-red-100 text-red-800"})[i]||"bg-gray-100 text-gray-800",_=i=>({disponible:"Disponible",asignada:"Asignada",mantenimiento:"En Mant.",baja:"De Baja",perdida:"Perdida"})[i]||i,g=i=>{if(!i.herramientas)return{total:0,disponibles:0,mantenimiento:0,asignadas:0};const t=i.herramientas||[];return{total:t.length,disponibles:t.filter(s=>s.estado==="disponible").length,mantenimiento:t.filter(s=>s.estado==="mantenimiento").length,asignadas:t.filter(s=>s.estado==="asignada").length}};return(i,t)=>(n(),a(h,null,[l(d(k),{title:"Gestión de Herramientas por Técnico"}),e("div",j,[t[2]||(t[2]=e("div",null,[e("h1",{class:"text-3xl font-bold text-slate-900"},"Gestión de Herramientas"),e("p",{class:"text-gray-600 mt-1"},"Administrar herramientas asignadas por técnico")],-1)),e("div",H,[l(d(x),{class:"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700",href:"/herramientas/gestion/create"},{default:m(()=>t[0]||(t[0]=[c(" Nueva Asignación ")])),_:1}),l(d(x),{class:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",href:"/herramientas-dashboard"},{default:m(()=>t[1]||(t[1]=[c(" Dashboard General ")])),_:1})])]),e("div",V,[e("div",C,[e("div",B,r(u.value.reduce((s,o)=>s+g(o).total,0)),1),t[3]||(t[3]=e("div",{class:"text-sm text-gray-600"},"Total Herramientas",-1))]),e("div",N,[e("div",z,r(u.value.reduce((s,o)=>s+g(o).disponibles,0)),1),t[4]||(t[4]=e("div",{class:"text-sm text-gray-600"},"Disponibles",-1))]),e("div",E,[e("div",D,r(u.value.reduce((s,o)=>s+g(o).asignadas,0)),1),t[5]||(t[5]=e("div",{class:"text-sm text-gray-600"},"Asignadas",-1))]),e("div",G,[e("div",L,r(u.value.reduce((s,o)=>s+g(o).mantenimiento,0)),1),t[6]||(t[6]=e("div",{class:"text-sm text-gray-600"},"En Mantenimiento",-1))])]),e("div",T,[(n(!0),a(h,null,p(u.value,s=>(n(),a("div",{key:s.id,class:"bg-white rounded-lg shadow-sm border"},[e("div",F,[e("div",S,[e("div",null,[e("h2",$,r(s.nombre),1),e("p",O,r(s.telefono||"Sin teléfono"),1)]),e("div",q,[e("div",I,[t[7]||(t[7]=e("div",{class:"text-sm text-gray-500"},"Herramientas asignadas",-1)),e("div",P,r(g(s).total),1)]),l(d(x),{class:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",href:`/herramientas/gestion/${s.id}/edit`},{default:m(()=>t[8]||(t[8]=[c(" Gestionar Herramientas ")])),_:2},1032,["href"])])])]),e("div",R,[e("div",Y,[e("div",Z,[e("div",J,r(g(s).disponibles),1),t[9]||(t[9]=e("div",{class:"text-sm text-gray-600"},"Disponibles",-1))]),e("div",K,[e("div",Q,r(g(s).asignadas),1),t[10]||(t[10]=e("div",{class:"text-sm text-gray-600"},"Asignadas",-1))]),e("div",U,[e("div",W,r(g(s).mantenimiento),1),t[11]||(t[11]=e("div",{class:"text-sm text-gray-600"},"En Mant.",-1))]),e("div",X,[e("div",ee,r(s.email||"Sin email"),1),t[12]||(t[12]=e("div",{class:"text-sm text-gray-600"},"Contacto",-1))])]),s.herramientas&&s.herramientas.length>0?(n(),a("div",te,[t[14]||(t[14]=e("h3",{class:"font-medium text-gray-900 mb-3"},"Herramientas Asignadas",-1)),e("div",se,[(n(!0),a(h,null,p(s.herramientas.slice(0,6),o=>(n(),a("div",{key:o.id,class:"p-3 border rounded-lg bg-gray-50"},[e("div",oe,[o.foto?(n(),a("img",{key:0,src:`/storage/${o.foto}`,alt:"Foto",class:"w-10 h-10 object-cover rounded"},null,8,re)):(n(),a("div",ae,t[13]||(t[13]=[e("svg",{class:"w-5 h-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 11H5m14 0a2 2 0 012 2v6a2 2 0 01-2 2H5a2 2 0 01-2-2v-6a2 2 0 012-2m14 0V9a2 2 0 00-2-2M5 11V9a2 2 0 012-2m0 0V5a2 2 0 012-2h6a2 2 0 012 2v2M7 7h10"})],-1)]))),e("div",ne,[e("h4",ie,r(o.nombre),1),e("p",le,r(o.numero_serie||"N/A"),1),e("span",{class:M(["text-xs px-2 py-1 rounded-full",y(o.estado)])},r(_(o.estado)),3)])])]))),128))]),s.herramientas.length>6?(n(),a("div",de,[e("span",ge,"Y "+r(s.herramientas.length-6)+" herramientas más...",1)])):v("",!0)])):(n(),a("div",me,[t[16]||(t[16]=e("svg",{class:"w-16 h-16 text-gray-400 mx-auto mb-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 11H5m14 0a2 2 0 012 2v6a2 2 0 01-2 2H5a2 2 0 01-2-2v-6a2 2 0 012-2m14 0V9a2 2 0 00-2-2M5 11V9a2 2 0 012-2m0 0V5a2 2 0 012-2h6a2 2 0 012 2v2M7 7h10"})],-1)),t[17]||(t[17]=e("p",null,"No tiene herramientas asignadas",-1)),l(d(x),{href:`/herramientas/gestion/${s.id}/edit`,class:"text-blue-600 hover:underline text-sm mt-2 inline-block"},{default:m(()=>t[15]||(t[15]=[c(" Asignar herramientas ")])),_:2},1032,["href"])]))])]))),128))]),u.value.length===0?(n(),a("div",xe,t[18]||(t[18]=[e("svg",{class:"w-16 h-16 text-gray-400 mx-auto mb-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"})],-1),e("h2",{class:"text-xl font-semibold text-gray-900 mb-2"},"No hay técnicos disponibles",-1),e("p",{class:"text-gray-600"},"Agrega técnicos al sistema para gestionar sus herramientas.",-1)]))):v("",!0),e("div",ue,[t[23]||(t[23]=e("h2",{class:"text-xl font-semibold mb-4"},"Acciones Rápidas",-1)),e("div",ce,[l(d(x),{href:"/herramientas/gestion/create",class:"flex flex-col items-center p-4 bg-blue-50 rounded-lg hover:bg-blue-100 transition-colors"},{default:m(()=>t[19]||(t[19]=[e("svg",{class:"w-8 h-8 text-blue-600 mb-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})],-1),e("span",{class:"text-sm font-medium text-blue-800"},"Nueva Asignación",-1)])),_:1}),l(d(x),{href:i.route("herramientas-mantenimiento"),class:"flex flex-col items-center p-4 bg-orange-50 rounded-lg hover:bg-orange-100 transition-colors"},{default:m(()=>t[20]||(t[20]=[e("svg",{class:"w-8 h-8 text-orange-600 mb-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z"}),e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"})],-1),e("span",{class:"text-sm font-medium text-orange-800"},"Gestionar Mantenimiento",-1)])),_:1},8,["href"]),l(d(x),{href:"/herramientas-alertas",class:"flex flex-col items-center p-4 bg-red-50 rounded-lg hover:bg-red-100 transition-colors"},{default:m(()=>t[21]||(t[21]=[e("svg",{class:"w-8 h-8 text-red-600 mb-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L3.732 16.5c-.77.833.192 2.5 1.732 2.5z"})],-1),e("span",{class:"text-sm font-medium text-red-800"},"Ver Alertas",-1)])),_:1}),l(d(x),{href:"/herramientas",class:"flex flex-col items-center p-4 bg-green-50 rounded-lg hover:bg-green-100 transition-colors"},{default:m(()=>t[22]||(t[22]=[e("svg",{class:"w-8 h-8 text-green-600 mb-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 11H5m14 0a2 2 0 012 2v6a2 2 0 01-2 2H5a2 2 0 01-2-2v-6a2 2 0 012-2m14 0V9a2 2 0 00-2-2M5 11V9a2 2 0 012-2m0 0V5a2 2 0 012-2h6a2 2 0 012 2v2M7 7h10"})],-1),e("span",{class:"text-sm font-medium text-green-800"},"Catálogo General",-1)])),_:1})])])],64))}});export{ye as default};
