import{r as v,i as r,o as a,g as x,f as t,u as p,Z as y,e as _,l as g,A as f,v as w,x as b,t as o,F as m,m as u,n as k,k as M,N as C}from"./vendor-d19pJyVS.js";import{A as V}from"./AppLayout-CcnrZQKI.js";import{_ as j}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./utils-Dq7h7Pqt.js";import"./app-BcT2PLJy.js";const N={class:"min-h-screen bg-gradient-to-br from-slate-50 to-purple-50 p-6"},B={class:"max-w-7xl mx-auto"},I={class:"mb-8"},F={class:"flex items-center justify-between"},P={class:"grid grid-cols-1 lg:grid-cols-4 gap-6 mb-6"},S={class:"bg-white rounded-xl border border-gray-200 shadow-sm p-6"},$={class:"mt-2 text-xs text-gray-500"},A={class:"bg-white rounded-xl border border-gray-200 shadow-sm p-6"},O={class:"flex items-center"},z={class:"ml-4"},D={class:"text-2xl font-bold text-blue-600"},H={class:"bg-white rounded-xl border border-gray-200 shadow-sm p-6"},L={class:"flex items-center"},T={class:"ml-4"},U={class:"text-2xl font-bold text-green-600"},X={class:"bg-white rounded-xl border border-gray-200 shadow-sm p-6"},E={class:"flex items-center"},Z={class:"ml-4"},q={class:"text-2xl font-bold text-yellow-600"},G={key:0,class:"bg-white rounded-xl border border-gray-200 shadow-sm overflow-hidden"},J={class:"overflow-x-auto"},K={class:"min-w-full divide-y divide-gray-200"},Q={class:"bg-white divide-y divide-gray-200"},R={class:"px-6 py-4"},W={class:"flex items-center"},Y={class:"ml-4"},tt={class:"text-sm font-medium text-gray-900"},et={class:"text-sm text-gray-500"},st={class:"text-xs text-gray-400"},ot={class:"px-6 py-4 whitespace-nowrap"},rt={class:"text-sm text-gray-900"},at={class:"px-6 py-4 whitespace-nowrap"},it={class:"text-sm text-gray-900"},nt={class:"px-6 py-4 whitespace-nowrap"},lt={class:"text-sm text-gray-900"},dt={class:"px-6 py-4 whitespace-nowrap"},ct={class:"text-sm font-medium text-green-600"},mt={class:"px-6 py-4 whitespace-nowrap"},xt={class:"px-6 py-4"},pt={class:"space-y-1"},gt={class:"font-medium"},ut={key:0,class:"text-xs text-gray-500"},ht={key:1,class:"bg-white rounded-xl border border-gray-200 shadow-sm p-12 text-center"},vt=Object.assign({layout:V},{__name:"CostosInventario",props:{productos:{type:[Array,Object],default:()=>[]},totales:{type:Object,default:()=>({})},filtros:{type:Object,default:()=>({})}},setup(i){const l=v({...i.filtros}),n=c=>new Intl.NumberFormat("es-MX",{style:"currency",currency:"MXN"}).format(c||0),h=()=>{C.get(route("reportes.inventario.costos"),l.value,{preserveState:!0})};return(c,e)=>(a(),r(m,null,[x(p(y),{title:"Costos de Inventario"}),t("div",N,[t("div",B,[t("div",I,[t("div",F,[e[2]||(e[2]=t("div",null,[t("h1",{class:"text-3xl font-bold text-gray-900"},"Costos de Inventario"),t("p",{class:"text-gray-600 mt-1"},"Valorización y análisis de costos del inventario")],-1)),x(p(f),{href:c.route("reportes.inventario.dashboard"),class:"inline-flex items-center px-4 py-2 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 transition-colors"},{default:_(()=>e[1]||(e[1]=[t("svg",{class:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M10 19l-7-7m0 0l7-7m-7 7h18"})],-1),g(" Volver ")])),_:1},8,["href"])])]),t("div",P,[t("div",S,[e[4]||(e[4]=t("label",{for:"tipo_costo",class:"block text-sm font-medium text-gray-700 mb-2"},"Tipo de Costo",-1)),w(t("select",{id:"tipo_costo","onUpdate:modelValue":e[0]||(e[0]=s=>l.value.tipo_costo=s),onChange:h,class:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent"},e[3]||(e[3]=[t("option",{value:"promedio"},"Costo Promedio",-1),t("option",{value:"ultimo"},"Último Costo",-1)]),544),[[b,l.value.tipo_costo]]),t("p",$,o(l.value.tipo_costo==="promedio"?"Calcula el costo promedio ponderado":"Usa el último costo de entrada"),1)]),t("div",A,[t("div",O,[e[6]||(e[6]=t("div",{class:"p-3 bg-blue-100 rounded-lg"},[t("svg",{class:"w-6 h-6 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4"})])],-1)),t("div",z,[e[5]||(e[5]=t("p",{class:"text-sm font-medium text-gray-600"},"Productos con Stock",-1)),t("p",D,o(i.totales.productos_con_stock),1)])])]),t("div",H,[t("div",L,[e[8]||(e[8]=t("div",{class:"p-3 bg-green-100 rounded-lg"},[t("svg",{class:"w-6 h-6 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1"})])],-1)),t("div",T,[e[7]||(e[7]=t("p",{class:"text-sm font-medium text-gray-600"},"Valor Total",-1)),t("p",U,"$"+o(n(i.totales.valor_total_inventario)),1)])])]),t("div",X,[t("div",E,[e[10]||(e[10]=t("div",{class:"p-3 bg-yellow-100 rounded-lg"},[t("svg",{class:"w-6 h-6 text-yellow-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 7h6m0 10v-3m-3 3h.01M9 17h.01M9 14h.01M12 14h.01M15 11h.01M12 11h.01M9 11h.01M7 21h10a2 2 0 002-2V5a2 2 0 00-2-2H7a2 2 0 00-2 2v14a2 2 0 002 2z"})])],-1)),t("div",Z,[e[9]||(e[9]=t("p",{class:"text-sm font-medium text-gray-600"},"Margen Promedio",-1)),t("p",q,o((i.totales.margen_promedio||0).toFixed(1))+"%",1)])])])]),i.productos.length>0?(a(),r("div",G,[t("div",J,[t("table",K,[e[12]||(e[12]=t("thead",{class:"bg-gray-50"},[t("tr",null,[t("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Producto"),t("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Stock"),t("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Costo Unitario"),t("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Precio Venta"),t("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Valor Inventario"),t("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Margen"),t("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Distribución")])],-1)),t("tbody",Q,[(a(!0),r(m,null,u(i.productos,s=>(a(),r("tr",{key:s.id,class:"hover:bg-gray-50"},[t("td",R,[t("div",W,[e[11]||(e[11]=t("div",{class:"flex-shrink-0 h-10 w-10"},[t("div",{class:"h-10 w-10 rounded-full bg-gray-200 flex items-center justify-center"},[t("svg",{class:"h-5 w-5 text-gray-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M20 7l-8-4-8 4m16 0l-8 4m8-4v10l-8 4m0-10L4 7m8 4v10M4 7v10l8 4"})])])],-1)),t("div",Y,[t("div",tt,o(s.nombre),1),t("div",et,o(s.categoria)+" • "+o(s.marca),1),t("div",st,"Código: "+o(s.codigo),1)])])]),t("td",ot,[t("div",rt,o(s.stock_total),1)]),t("td",at,[t("div",it,"$"+o(n(s.costo_unitario)),1)]),t("td",nt,[t("div",lt,"$"+o(n(s.precio_venta)),1)]),t("td",dt,[t("div",ct,"$"+o(n(s.valor_total_inventario)),1)]),t("td",mt,[t("span",{class:k([s.margen_ganancia>=20?"bg-green-100 text-green-800":s.margen_ganancia>=10?"bg-yellow-100 text-yellow-800":"bg-red-100 text-red-800","inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium"])},o(s.margen_ganancia.toFixed(1))+"% ",3)]),t("td",xt,[t("div",pt,[(a(!0),r(m,null,u(s.distribucion_almacenes.slice(0,2),d=>(a(),r("div",{key:d.almacen,class:"text-xs"},[t("span",gt,o(d.almacen)+":",1),g(" "+o(d.cantidad)+" ($"+o(n(d.valor))+") ",1)]))),128)),s.distribucion_almacenes.length>2?(a(),r("div",ut," +"+o(s.distribucion_almacenes.length-2)+" más... ",1)):M("",!0)])])]))),128))])])])])):(a(),r("div",ht,e[13]||(e[13]=[t("svg",{class:"mx-auto h-12 w-12 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1"})],-1),t("h3",{class:"mt-2 text-sm font-medium text-gray-900"},"No hay productos con stock",-1),t("p",{class:"mt-1 text-sm text-gray-500"},"No se encontraron productos con inventario para calcular costos.",-1)])))])])],64))}}),Mt=j(vt,[["__scopeId","data-v-e99aca3f"]]);export{Mt as default};
