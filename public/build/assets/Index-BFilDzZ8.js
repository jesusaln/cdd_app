import{r as P,T as j,c as de,i as a,o as n,g as ue,f as o,u as t,Z as ce,s as k,F as A,m as D,n as G,t as u,k as i,v as l,z as c,x,E as y,J as w,l as T,N as _}from"./vendor-d19pJyVS.js";import{A as me}from"./AppLayout-CcnrZQKI.js";import{n as p}from"./app-BcT2PLJy.js";import{_ as pe}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./utils-Dq7h7Pqt.js";const ge={class:"empresa-configuracion min-h-screen bg-gray-50"},be={class:"max-w-7xl mx-auto px-6 py-8"},fe={class:"grid grid-cols-1 lg:grid-cols-4 gap-6"},_e={class:"lg:col-span-1"},xe={class:"bg-white rounded-xl shadow-sm border border-gray-100 p-6"},ye={class:"space-y-2"},ve=["onClick"],ke={class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},we=["d"],he={class:"font-medium"},Ce={class:"lg:col-span-3"},Ve={class:"bg-white rounded-xl shadow-sm border border-gray-100 p-8"},Me={key:0,class:"space-y-8"},Se={class:"grid grid-cols-1 md:grid-cols-2 gap-6"},Ue={class:"md:col-span-2"},Pe={key:0,class:"mt-1 text-sm text-red-600"},Ee={key:0,class:"mt-1 text-sm text-red-600"},je={key:0,class:"mt-1 text-sm text-red-600"},Ae={class:"md:col-span-2"},ze={class:"mb-4"},De={key:0,class:"mt-1 text-sm text-red-600"},Te={class:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4"},Be={key:0,class:"mt-1 text-sm text-red-600"},Ne={key:0,class:"mt-1 text-sm text-red-600"},Ie={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},Fe={key:0,class:"mt-1 text-sm text-red-600"},Le={key:1,class:"mt-3"},Re=["value"],qe={key:0,class:"mt-1 text-sm text-red-600"},Oe={key:2,class:"mt-3"},He={key:0,class:"mt-1 text-sm text-red-600"},Ye={key:0,class:"mt-1 text-sm text-red-600"},$e={key:0,class:"mt-1 text-sm text-red-600"},Ge={key:0,class:"mt-1 text-sm text-red-600"},We={key:0,class:"mt-1 text-sm text-red-600"},Ke={key:0,class:"mt-1 text-sm text-red-600"},Xe={key:0,class:"mt-1 text-sm text-red-600"},Je={class:"md:col-span-2"},Ze={key:0,class:"mt-1 text-sm text-red-600"},Qe={key:1,class:"space-y-8"},eo={class:"mb-8"},oo={class:"flex items-start gap-6"},ro={key:0,class:"flex-shrink-0"},to=["src"],so={class:"flex-1"},ao={class:"border-2 border-dashed border-gray-300 rounded-lg p-6"},no={class:"text-center"},lo={class:"mt-4"},io={for:"logo-input",class:"cursor-pointer"},uo={key:0,class:"mt-4"},co=["src"],mo={class:"mt-2 flex gap-2"},po={key:1,class:"mt-4"},go={class:"mb-8"},bo={class:"flex items-start gap-6"},fo={key:0,class:"flex-shrink-0"},_o=["src"],xo={class:"flex-1"},yo={class:"border-2 border-dashed border-gray-300 rounded-lg p-6"},vo={class:"text-center"},ko={class:"mt-4"},wo={for:"favicon-input",class:"cursor-pointer"},ho={key:0,class:"mt-4"},Co=["src"],Vo={class:"mt-2 flex gap-2"},Mo={key:1,class:"mt-4"},So={class:"mb-8"},Uo={class:"flex items-start gap-6"},Po={key:0,class:"flex-shrink-0"},Eo=["src"],jo={class:"flex-1"},Ao={class:"border-2 border-dashed border-gray-300 rounded-lg p-6"},zo={class:"text-center"},Do={class:"mt-4"},To={for:"logo-reportes-input",class:"cursor-pointer"},Bo={key:0,class:"mt-4"},No=["src"],Io={class:"mt-2 flex gap-2"},Fo={key:1,class:"mt-4"},Lo={class:"grid grid-cols-1 md:grid-cols-2 gap-6"},Ro={class:"flex items-center gap-3"},qo={key:0,class:"mt-1 text-sm text-red-600"},Oo={class:"flex items-center gap-3"},Ho={key:0,class:"mt-1 text-sm text-red-600"},Yo={class:"mt-8 p-6 bg-gray-50 rounded-lg"},$o={class:"space-y-6"},Go={class:"flex items-center"},Wo={key:0,class:"grid grid-cols-1 md:grid-cols-2 gap-6"},Ko={class:"flex items-center gap-3"},Xo={key:0,class:"mt-1 text-sm text-red-600"},Jo={class:"flex items-center gap-3"},Zo={key:0,class:"mt-1 text-sm text-red-600"},Qo={class:"flex items-center gap-3"},er={key:0,class:"mt-1 text-sm text-red-600"},or={class:"flex items-center gap-3"},rr={key:0,class:"mt-1 text-sm text-red-600"},tr={key:1,class:"mt-6 p-4 border border-gray-200 rounded-lg"},sr={class:"flex items-center gap-4"},ar={class:"flex items-center gap-2"},nr={class:"text-sm text-gray-600"},lr={class:"flex items-center gap-2"},ir={class:"text-sm text-gray-600"},dr={class:"flex items-center gap-2"},ur={class:"text-sm text-gray-600"},cr={class:"flex items-center gap-2"},mr={class:"text-sm text-gray-600"},pr={class:"mt-6 p-4 border border-gray-200 rounded-lg"},gr={class:"flex items-center gap-4"},br={class:"flex items-center gap-2"},fr={class:"text-sm text-gray-600"},_r={class:"flex items-center gap-2"},xr={class:"text-sm text-gray-600"},yr={key:2,class:"space-y-8"},vr={class:"space-y-6"},kr={class:"grid grid-cols-1 md:grid-cols-2 gap-6"},wr={key:0,class:"mt-1 text-sm text-red-600"},hr={key:0,class:"mt-1 text-sm text-red-600"},Cr={key:0,class:"mt-1 text-sm text-red-600"},Vr={key:0,class:"mt-1 text-sm text-red-600"},Mr={key:0,class:"mt-1 text-sm text-red-600"},Sr={key:0,class:"mt-1 text-sm text-red-600"},Ur={key:3,class:"space-y-8"},Pr={class:"grid grid-cols-1 md:grid-cols-2 gap-6"},Er={key:0,class:"mt-1 text-sm text-red-600"},jr={key:0,class:"mt-1 text-sm text-red-600"},Ar={key:0,class:"mt-1 text-sm text-red-600"},zr={class:"mt-8 p-6 bg-gray-50 rounded-lg"},Dr={class:"space-y-4"},Tr={class:"flex items-center"},Br={key:0},Nr={key:0,class:"mt-1 text-sm text-red-600"},Ir={class:"mt-8 p-6 bg-gray-50 rounded-lg"},Fr={class:"space-y-4"},Lr={class:"flex items-center"},Rr={class:"flex items-center"},qr={class:"mt-8 p-6 bg-gray-50 rounded-lg"},Or={class:"grid grid-cols-1 md:grid-cols-2 gap-6"},Hr={class:"flex items-center"},Yr={key:0,class:"mt-1 text-sm text-red-600"},$r={class:"md:col-span-2"},Gr={key:0,class:"mt-1 text-sm text-red-600"},Wr={key:4,class:"space-y-8"},Kr={class:"grid grid-cols-1 md:grid-cols-2 gap-6"},Xr={key:0,class:"mt-1 text-sm text-red-600"},Jr={key:0,class:"mt-1 text-sm text-red-600"},Zr={class:"mt-8 p-6 bg-gray-50 rounded-lg"},Qr={class:"flex items-center"},et={key:5,class:"space-y-8"},ot={class:"grid grid-cols-1 md:grid-cols-2 gap-6"},rt={key:0,class:"mt-1 text-sm text-red-600"},tt={key:0,class:"mt-1 text-sm text-red-600"},st={key:0,class:"mt-1 text-sm text-red-600"},at={key:0,class:"mt-1 text-sm text-red-600"},nt={key:0,class:"mt-1 text-sm text-red-600"},lt={key:0,class:"mt-1 text-sm text-red-600"},it={class:"md:col-span-2"},dt={key:0,class:"mt-1 text-sm text-red-600"},ut={key:6,class:"space-y-8"},ct={class:"mb-8"},mt={class:"mb-6"},pt={class:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-6 gap-3"},gt=["onClick"],bt={class:"font-medium"},ft={class:"text-xs text-gray-500 mt-1"},_t={class:"grid grid-cols-1 md:grid-cols-2 gap-6"},xt={key:0,class:"mt-1 text-sm text-red-600"},yt={key:0,class:"mt-1 text-sm text-red-600"},vt={key:0,class:"mt-1 text-sm text-red-600"},kt={key:0,class:"mt-1 text-sm text-red-600"},wt={key:0,class:"mt-1 text-sm text-red-600"},ht={class:"mb-8"},Ct={class:"grid grid-cols-1 md:grid-cols-2 gap-6"},Vt={key:0,class:"mt-1 text-sm text-red-600"},Mt={key:0,class:"mt-1 text-sm text-red-600"},St={class:"md:col-span-2"},Ut={key:0,class:"mt-1 text-sm text-red-600"},Pt={key:0,class:"mb-4 p-3 bg-red-50 border border-red-200 rounded-lg"},Et={class:"mt-2"},jt={class:"mt-2 text-xs text-red-600 bg-red-100 p-2 rounded overflow-auto"},At={key:1,class:"mb-4 p-3 bg-green-50 border border-green-200 rounded-lg"},zt={class:"mt-2"},Dt={class:"mt-2 text-xs text-green-600 bg-green-100 p-2 rounded overflow-auto"},Tt={class:"mb-8"},Bt={class:"grid grid-cols-1 md:grid-cols-2 gap-6"},Nt={class:"md:col-span-2"},It={class:"flex items-center"},Ft={class:"md:col-span-2"},Lt={key:7,class:"space-y-8"},Rt={class:"mb-8"},qt={class:"flex items-center"},Ot={key:0,class:"space-y-6"},Ht={class:"border-t border-gray-200 pt-6"},Yt={class:"grid grid-cols-1 md:grid-cols-2 gap-6"},$t={class:"border-t border-gray-200 pt-6"},Gt={class:"grid grid-cols-1 md:grid-cols-2 gap-6"},Wt={class:"md:col-span-2"},Kt={class:"md:col-span-2"},Xt={class:"flex space-x-2"},Jt={key:0,class:"p-4 bg-purple-50 border border-purple-200 rounded-lg"},Zt={class:"text-sm text-purple-800 space-y-1"},Qt={class:"bg-purple-100 px-1 rounded"},es={class:"flex justify-end gap-4 mt-8 pt-6 border-t border-gray-200"},os=["disabled"],rs=b=>{const d={building:"M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4",palette:"M7 21a4 4 0 01-4-4V5a2 2 0 012-2h4a2 2 0 012 2v12a4 4 0 01-4 4zM21 5a2 2 0 00-2-2h-4a2 2 0 00-2 2v12a4 4 0 004 4h4a2 2 0 002-2V5z","document-text":"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z","credit-card":"M3 10h18M7 15h1m4 0h1m-7 4h12a3 3 0 003-3V8a3 3 0 00-3-3H6a3 3 0 00-3 3v8a3 3 0 003 3z",cog:"M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z M15 12a3 3 0 11-6 0 3 3 0 016 0z","shield-check":"M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04A12.02 12.02 0 003 9c0 5.591 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.042-.133-2.052-.382-3.016z"};return d[b]||d.cog},ts=Object.assign({layout:me},{__name:"Index",props:{configuracion:{type:Object,required:!0},empresa:{type:Object,default:null}},setup(b){var I,F,L,R,q,O,H,Y,$;const d=b,f=P("general"),h=P(null),C=P(null),V=P(null);usePage();const B={hostinger:{nombre:"Hostinger",smtp_host:"smtp.hostinger.com",smtp_port:587,smtp_encryption:"tls",descripcion:"Servidor SMTP de Hostinger (puerto 587 con TLS)"},gmail:{nombre:"Gmail",smtp_host:"smtp.gmail.com",smtp_port:587,smtp_encryption:"tls",descripcion:"Servidor SMTP de Gmail (requiere app password)"},outlook:{nombre:"Outlook",smtp_host:"smtp-mail.outlook.com",smtp_port:587,smtp_encryption:"tls",descripcion:"Servidor SMTP de Outlook/Hotmail"},yahoo:{nombre:"Yahoo",smtp_host:"smtp.mail.yahoo.com",smtp_port:587,smtp_encryption:"tls",descripcion:"Servidor SMTP de Yahoo Mail"},icloud:{nombre:"iCloud",smtp_host:"smtp.mail.me.com",smtp_port:587,smtp_encryption:"tls",descripcion:"Servidor SMTP de iCloud Mail"},zoho:{nombre:"Zoho Mail",smtp_host:"smtp.zoho.com",smtp_port:587,smtp_encryption:"tls",descripcion:"Servidor SMTP de Zoho Mail (gratis)"},personalizado:{nombre:"Personalizado",smtp_host:"",smtp_port:"",smtp_encryption:"",descripcion:"Configuración manual personalizada"}},r=j({nombre_empresa:d.configuracion.nombre_empresa,rfc:d.configuracion.rfc,razon_social:d.configuracion.razon_social,calle:d.configuracion.calle,numero_exterior:d.configuracion.numero_exterior,numero_interior:d.configuracion.numero_interior,telefono:d.configuracion.telefono,email:d.configuracion.email,sitio_web:d.configuracion.sitio_web,codigo_postal:d.configuracion.codigo_postal,colonia:d.configuracion.colonia,ciudad:d.configuracion.ciudad,estado:d.configuracion.estado,pais:d.configuracion.pais,descripcion_empresa:d.configuracion.descripcion_empresa,color_principal:d.configuracion.color_principal,color_secundario:d.configuracion.color_secundario,dark_mode_enabled:d.configuracion.dark_mode_enabled||!1,dark_mode_primary_color:d.configuracion.dark_mode_primary_color||"#1E40AF",dark_mode_secondary_color:d.configuracion.dark_mode_secondary_color||"#3B82F6",dark_mode_background_color:d.configuracion.dark_mode_background_color||"#0F172A",dark_mode_surface_color:d.configuracion.dark_mode_surface_color||"#1E293B",pie_pagina_facturas:d.configuracion.pie_pagina_facturas,pie_pagina_cotizaciones:d.configuracion.pie_pagina_cotizaciones,terminos_condiciones:d.configuracion.terminos_condiciones,politica_privacidad:d.configuracion.politica_privacidad,iva_porcentaje:d.configuracion.iva_porcentaje,moneda:d.configuracion.moneda,formato_numeros:d.configuracion.formato_numeros,mantenimiento:d.configuracion.mantenimiento,mensaje_mantenimiento:d.configuracion.mensaje_mantenimiento,registro_usuarios:d.configuracion.registro_usuarios,notificaciones_email:d.configuracion.notificaciones_email,formato_fecha:d.configuracion.formato_fecha,formato_hora:d.configuracion.formato_hora,backup_automatico:d.configuracion.backup_automatico,frecuencia_backup:d.configuracion.frecuencia_backup,retencion_backups:d.configuracion.retencion_backups,intentos_login:d.configuracion.intentos_login,tiempo_bloqueo:d.configuracion.tiempo_bloqueo,requerir_2fa:d.configuracion.requerir_2fa,banco:d.configuracion.banco,sucursal:d.configuracion.sucursal,cuenta:d.configuracion.cuenta,clabe:d.configuracion.clabe,titular:d.configuracion.titular,numero_cuenta:d.configuracion.numero_cuenta,numero_tarjeta:d.configuracion.numero_tarjeta,nombre_titular:d.configuracion.nombre_titular,informacion_adicional_bancaria:d.configuracion.informacion_adicional_bancaria,smtp_host:d.configuracion.smtp_host,smtp_port:d.configuracion.smtp_port,smtp_username:d.configuracion.smtp_username,smtp_password:d.configuracion.smtp_password,smtp_encryption:d.configuracion.smtp_encryption,email_from_address:d.configuracion.email_from_address,email_from_name:d.configuracion.email_from_name,email_reply_to:d.configuracion.email_reply_to,dkim_selector:d.configuracion.dkim_selector||"hostingermail",dkim_domain:d.configuracion.dkim_domain||"asistenciavircom.com",dkim_public_key:d.configuracion.dkim_public_key||"",dkim_enabled:d.configuracion.dkim_enabled||!1,whatsapp_enabled:((I=d.empresa)==null?void 0:I.whatsapp_enabled)||!1,whatsapp_business_account_id:((F=d.empresa)==null?void 0:F.whatsapp_business_account_id)||"",whatsapp_phone_number_id:((L=d.empresa)==null?void 0:L.whatsapp_phone_number_id)||"",whatsapp_sender_phone:((R=d.empresa)==null?void 0:R.whatsapp_sender_phone)||"",whatsapp_access_token:((q=d.empresa)==null?void 0:q.whatsapp_access_token)||"",whatsapp_app_secret:((O=d.empresa)==null?void 0:O.whatsapp_app_secret)||"",whatsapp_webhook_verify_token:((H=d.empresa)==null?void 0:H.whatsapp_webhook_verify_token)||"",whatsapp_default_language:((Y=d.empresa)==null?void 0:Y.whatsapp_default_language)||"es_MX",whatsapp_template_payment_reminder:(($=d.empresa)==null?void 0:$.whatsapp_template_payment_reminder)||""}),v=P([]),W=async()=>{try{if(r.codigo_postal=(r.codigo_postal||"").toString().replace(/\D/g,""),v.value=[],r.colonia="",r.codigo_postal&&r.codigo_postal.length===5){const m=await fetch(`/api/cp/${r.codigo_postal}`);if(m.ok){const e=await m.json();e.estado&&(r.estado=e.estado),e.municipio&&(r.ciudad=e.municipio),e.ciudad&&!r.ciudad&&(r.ciudad=e.ciudad),e.pais&&(r.pais=e.pais),Array.isArray(e.colonias)&&(v.value=e.colonias,v.value.length===1&&(r.colonia=v.value[0]))}else if(m.status===404)p.error(`El código postal ${r.codigo_postal} no se encuentra en la base de datos. Puedes continuar ingresando los datos manualmente.`),r.estado="",r.ciudad="",r.pais="",r.colonia="",v.value=[];else{const e=await m.json().catch(()=>({}));p.error(e.error||"Error al consultar el código postal")}}}catch(m){console.warn("Error consultando CP",m),p.error("Error de conexión al consultar el código postal. Puedes continuar ingresando los datos manualmente.")}},M=j({logo:null}),S=j({favicon:null}),U=j({logo_reportes:null}),z=[{id:"general",nombre:"Información General",icono:"building"},{id:"visual",nombre:"Apariencia",icono:"palette"},{id:"documentos",nombre:"Documentos",icono:"document-text"},{id:"bancarios",nombre:"Datos Bancarios",icono:"credit-card"},{id:"correo",nombre:"Configuración de Correo",icono:"envelope"},{id:"whatsapp",nombre:"Configuración de WhatsApp",icono:"chat"},{id:"sistema",nombre:"Sistema",icono:"cog"},{id:"seguridad",nombre:"Seguridad",icono:"shield-check"}],K=m=>{const e=m.target.files[0];e&&(M.logo=e,h.value=URL.createObjectURL(e))},X=m=>{const e=m.target.files[0];e&&(S.favicon=e,C.value=URL.createObjectURL(e))},J=m=>{const e=m.target.files[0];e&&(U.logo_reportes=e,V.value=URL.createObjectURL(e))},Z=()=>{M.logo&&M.post(route("empresa-configuracion.subir-logo"),{onSuccess:()=>{p.success("Logo subido correctamente"),M.logo=null,h.value=null,_.reload()},onError:()=>{p.error("Error al subir el logo")}})},Q=()=>{S.favicon&&S.post(route("empresa-configuracion.subir-favicon"),{onSuccess:()=>{p.success("Favicon subido correctamente"),S.favicon=null,C.value=null,_.reload()},onError:()=>{p.error("Error al subir el favicon")}})},ee=()=>{U.logo_reportes&&U.post(route("empresa-configuracion.subir-logo-reportes"),{onSuccess:()=>{p.success("Logo para reportes subido correctamente"),U.logo_reportes=null,V.value=null,_.reload()},onError:()=>{p.error("Error al subir el logo para reportes")}})},oe=()=>{confirm("¿Estás seguro de que deseas eliminar el logo?")&&_.delete(route("empresa-configuracion.eliminar-logo"),{onSuccess:()=>{p.success("Logo eliminado correctamente"),_.reload()},onError:()=>{p.error("Error al eliminar el logo")}})},re=()=>{confirm("¿Estás seguro de que deseas eliminar el favicon?")&&_.delete(route("empresa-configuracion.eliminar-favicon"),{onSuccess:()=>{p.success("Favicon eliminado correctamente"),_.reload()},onError:()=>{p.error("Error al eliminar el favicon")}})},te=()=>{confirm("¿Estás seguro de que deseas eliminar el logo para reportes?")&&_.delete(route("empresa-configuracion.eliminar-logo-reportes"),{onSuccess:()=>{p.success("Logo para reportes eliminado correctamente"),_.reload()},onError:()=>{p.error("Error al eliminar el logo para reportes")}})},se=()=>{const m={nombre_empresa:r.nombre_empresa,rfc:r.rfc,razon_social:r.razon_social,calle:r.calle,numero_exterior:r.numero_exterior,numero_interior:r.numero_interior,telefono:r.telefono,email:r.email,sitio_web:r.sitio_web,codigo_postal:r.codigo_postal,colonia:r.colonia,ciudad:r.ciudad,estado:r.estado,pais:r.pais,descripcion_empresa:r.descripcion_empresa,color_principal:r.color_principal,color_secundario:r.color_secundario,dark_mode_enabled:r.dark_mode_enabled,dark_mode_primary_color:r.dark_mode_primary_color,dark_mode_secondary_color:r.dark_mode_secondary_color,dark_mode_background_color:r.dark_mode_background_color,dark_mode_surface_color:r.dark_mode_surface_color,pie_pagina_facturas:r.pie_pagina_facturas,pie_pagina_cotizaciones:r.pie_pagina_cotizaciones,terminos_condiciones:r.terminos_condiciones,politica_privacidad:r.politica_privacidad,iva_porcentaje:r.iva_porcentaje,moneda:r.moneda,formato_numeros:r.formato_numeros,mantenimiento:r.mantenimiento,mensaje_mantenimiento:r.mensaje_mantenimiento,registro_usuarios:r.registro_usuarios,notificaciones_email:r.notificaciones_email,formato_fecha:r.formato_fecha,formato_hora:r.formato_hora,backup_automatico:r.backup_automatico,frecuencia_backup:r.frecuencia_backup,retencion_backups:r.retencion_backups,intentos_login:r.intentos_login,tiempo_bloqueo:r.tiempo_bloqueo,requerir_2fa:r.requerir_2fa,banco:r.banco,sucursal:r.sucursal,cuenta:r.cuenta,clabe:r.clabe,titular:r.titular,numero_cuenta:r.numero_cuenta,numero_tarjeta:r.numero_tarjeta,nombre_titular:r.nombre_titular,informacion_adicional_bancaria:r.informacion_adicional_bancaria,smtp_host:r.smtp_host,smtp_port:r.smtp_port,smtp_username:r.smtp_username,smtp_password:r.smtp_password,smtp_encryption:r.smtp_encryption,email_from_address:r.email_from_address,email_from_name:r.email_from_name,email_reply_to:r.email_reply_to,dkim_selector:r.dkim_selector,dkim_domain:r.dkim_domain,dkim_public_key:r.dkim_public_key,dkim_enabled:r.dkim_enabled,whatsapp_enabled:r.whatsapp_enabled,whatsapp_business_account_id:r.whatsapp_business_account_id,whatsapp_phone_number_id:r.whatsapp_phone_number_id,whatsapp_sender_phone:r.whatsapp_sender_phone,whatsapp_access_token:r.whatsapp_access_token,whatsapp_app_secret:r.whatsapp_app_secret,whatsapp_webhook_verify_token:r.whatsapp_webhook_verify_token,whatsapp_default_language:r.whatsapp_default_language,whatsapp_template_payment_reminder:r.whatsapp_template_payment_reminder};r.put(route("empresa-configuracion.update"),m,{onSuccess:()=>{p.success("Configuración guardada correctamente")},onError:()=>{p.error("Error al guardar la configuración")}})},N=()=>{_.post(route("empresa-configuracion.preview-colores"),{color_principal:r.color_principal,color_secundario:r.color_secundario},{onSuccess:m=>{p.success("Vista previa de colores aplicada")},onError:()=>{p.error("Error al aplicar vista previa de colores")}})},ae=m=>{const e=B[m];e&&(r.smtp_host=e.smtp_host,r.smtp_port=e.smtp_port,r.smtp_encryption=e.smtp_encryption,m==="personalizado"&&(r.smtp_username="",r.smtp_password="",r.email_from_address="",r.email_from_name="",r.email_reply_to=""),console.log(`✅ Configuración aplicada: ${e.nombre}`),p.success(`Configuración de ${e.nombre} aplicada`))},ne=()=>{console.log("=== VERIFICANDO CONFIGURACIÓN DE CORREO ===");const m=document.getElementById("smtp_password"),e=m?m.value:r.smtp_password,g={smtp_host:r.smtp_host,smtp_port:r.smtp_port,smtp_username:r.smtp_username,smtp_password:e?"***configurada***":"no configurada",smtp_encryption:r.smtp_encryption,email_from_address:r.email_from_address,email_from_name:r.email_from_name,email_reply_to:r.email_reply_to};console.log("Configuración actual:",g);const s=[];return r.smtp_host||s.push("Servidor SMTP no configurado"),r.smtp_port||s.push("Puerto SMTP no configurado"),r.smtp_username||s.push("Usuario SMTP no configurado"),e||s.push("Contraseña SMTP no configurada"),r.email_from_address||s.push("Dirección de remitente no configurada"),r.email_from_name||s.push("Nombre del remitente no configurado"),s.length>0?(console.error("Errores de configuración encontrados:",s),p.error("Configuración incompleta: "+s.join(", ")),!1):(console.log("✅ Configuración válida"),!0)},le=async()=>{var e;if(!r.whatsapp_enabled){p.error("Debe habilitar WhatsApp primero");return}const m=[];if(r.whatsapp_business_account_id||m.push("Business Account ID"),r.whatsapp_phone_number_id||m.push("Phone Number ID"),r.whatsapp_sender_phone||m.push("Número de teléfono"),r.whatsapp_access_token||m.push("Access Token"),r.whatsapp_app_secret||m.push("App Secret"),m.length>0){p.error("Complete los siguientes campos: "+m.join(", "));return}try{const g=await fetch("/api/whatsapp/test",{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json","X-CSRF-TOKEN":((e=document.querySelector('meta[name="csrf-token"]'))==null?void 0:e.getAttribute("content"))||""},body:JSON.stringify({telefono:r.whatsapp_sender_phone,mensaje:"Mensaje de prueba - Configuración de WhatsApp funcionando correctamente"})}),s=await g.json();g.ok&&s.success?p.success("Configuración válida: "+s.message):p.error("Error en configuración: "+(s.message||"Error desconocido"))}catch(g){console.error("Error en prueba de WhatsApp:",g),p.error("Error de conexión: "+g.message)}},ie=()=>{if(console.log("=== INICIANDO PRUEBA DE CORREO ==="),!ne()){console.log("❌ Prueba cancelada debido a configuración incompleta");return}const m="jesuslopeznoriega@hotmail.com";console.log("Email destino:",m),console.log("Email remitente:",r.email_from_address),confirm(`✅ DKIM configurado - ¿Enviar prueba desde ${r.email_from_address} a ${m}?`)?(console.log("✅ Usuario confirmó envío de correo de prueba"),_.post(route("empresa-configuracion.test-email"),{email_destino:m},{onStart:()=>{console.log("🚀 Enviando petición al servidor...")},onSuccess:e=>{var g;console.log("✅ Respuesta exitosa del servidor:",e),console.log("Mensaje de éxito:",(g=e.props)==null?void 0:g.success),p.success("Correo de prueba enviado correctamente. Revisa tu bandeja de entrada.")},onError:e=>{console.error("❌ Error del servidor:",e),console.error("Errores específicos:",e.smtp||e.email_error||e.error);const g=e.smtp||e.email_error||e.error||"Error desconocido";p.error("Error al enviar correo de prueba: "+g)},onFinish:()=>{console.log("🏁 Petición finalizada")}})):console.log("❌ Usuario canceló el envío de correo de prueba")};return de(()=>z.find(m=>m.id===f.value)||z[0]),(m,e)=>{var g;return n(),a(A,null,[ue(t(ce),{title:"Configuración de Empresa"}),o("div",ge,[o("div",be,[e[229]||(e[229]=k('<div class="bg-white border border-slate-200 rounded-xl shadow-sm p-8 mb-6" data-v-04369c5a><div class="flex items-center gap-3" data-v-04369c5a><div class="p-2 bg-blue-100 rounded-lg" data-v-04369c5a><svg class="w-6 h-6 text-blue-600" fill="none" stroke="currentColor" viewBox="0 0 24 24" data-v-04369c5a><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4" data-v-04369c5a></path></svg></div><div data-v-04369c5a><h1 class="text-2xl font-bold text-slate-900" data-v-04369c5a>Configuración de Empresa</h1><p class="text-slate-600 mt-1" data-v-04369c5a>Personaliza la información y apariencia de tu sistema</p></div></div></div>',1)),o("div",fe,[o("div",_e,[o("div",xe,[o("nav",ye,[(n(),a(A,null,D(z,s=>o("button",{key:s.id,onClick:E=>f.value=s.id,class:G(["w-full flex items-center gap-3 px-4 py-3 text-left rounded-lg transition-all duration-200",f.value===s.id?"bg-blue-50 text-blue-700 border border-blue-200":"text-gray-700 hover:bg-gray-50"])},[(n(),a("svg",ke,[o("path",{d:rs(s.icono),"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2"},null,8,we)])),o("span",he,u(s.nombre),1)],10,ve)),64))])])]),o("div",Ce,[o("div",Ve,[f.value==="general"?(n(),a("div",Me,[o("div",null,[e[98]||(e[98]=o("h2",{class:"text-xl font-semibold text-gray-900 mb-6"},"Información General",-1)),o("div",Se,[o("div",Ue,[e[80]||(e[80]=o("label",{for:"nombre_empresa",class:"block text-sm font-medium text-gray-700 mb-2"}," Nombre de la Empresa * ",-1)),l(o("input",{"onUpdate:modelValue":e[0]||(e[0]=s=>t(r).nombre_empresa=s),id:"nombre_empresa",type:"text",class:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Nombre de tu empresa"},null,512),[[c,t(r).nombre_empresa]]),t(r).errors.nombre_empresa?(n(),a("p",Pe,u(t(r).errors.nombre_empresa),1)):i("",!0)]),o("div",null,[e[81]||(e[81]=o("label",{for:"rfc",class:"block text-sm font-medium text-gray-700 mb-2"}," RFC ",-1)),l(o("input",{"onUpdate:modelValue":e[1]||(e[1]=s=>t(r).rfc=s),id:"rfc",type:"text",maxlength:"13",class:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"XAXX010101000"},null,512),[[c,t(r).rfc]]),t(r).errors.rfc?(n(),a("p",Ee,u(t(r).errors.rfc),1)):i("",!0)]),o("div",null,[e[82]||(e[82]=o("label",{for:"razon_social",class:"block text-sm font-medium text-gray-700 mb-2"}," Razón Social ",-1)),l(o("input",{"onUpdate:modelValue":e[2]||(e[2]=s=>t(r).razon_social=s),id:"razon_social",type:"text",class:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Razón social completa"},null,512),[[c,t(r).razon_social]]),t(r).errors.razon_social?(n(),a("p",je,u(t(r).errors.razon_social),1)):i("",!0)]),o("div",Ae,[e[93]||(e[93]=o("label",{class:"block text-sm font-medium text-gray-700 mb-3"}," Dirección ",-1)),o("div",ze,[e[83]||(e[83]=o("label",{for:"calle",class:"block text-sm font-medium text-gray-700 mb-2"}," Calle * ",-1)),l(o("input",{"onUpdate:modelValue":e[3]||(e[3]=s=>t(r).calle=s),id:"calle",type:"text",class:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Nombre de la calle"},null,512),[[c,t(r).calle]]),t(r).errors.calle?(n(),a("p",De,u(t(r).errors.calle),1)):i("",!0)]),o("div",Te,[o("div",null,[e[84]||(e[84]=o("label",{for:"numero_exterior",class:"block text-sm font-medium text-gray-700 mb-2"}," Número Exterior * ",-1)),l(o("input",{"onUpdate:modelValue":e[4]||(e[4]=s=>t(r).numero_exterior=s),id:"numero_exterior",type:"text",class:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"123"},null,512),[[c,t(r).numero_exterior]]),t(r).errors.numero_exterior?(n(),a("p",Be,u(t(r).errors.numero_exterior),1)):i("",!0)]),o("div",null,[e[85]||(e[85]=o("label",{for:"numero_interior",class:"block text-sm font-medium text-gray-700 mb-2"}," Número Interior ",-1)),l(o("input",{"onUpdate:modelValue":e[5]||(e[5]=s=>t(r).numero_interior=s),id:"numero_interior",type:"text",class:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"A, Depto 1B, etc."},null,512),[[c,t(r).numero_interior]]),t(r).errors.numero_interior?(n(),a("p",Ne,u(t(r).errors.numero_interior),1)):i("",!0)])]),o("div",Ie,[o("div",null,[e[89]||(e[89]=o("label",{for:"codigo_postal",class:"block text-sm font-medium text-gray-700 mb-2"}," Código Postal ",-1)),l(o("input",{"onUpdate:modelValue":e[6]||(e[6]=s=>t(r).codigo_postal=s),id:"codigo_postal",type:"text",class:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"00000",onBlur:W},null,544),[[c,t(r).codigo_postal]]),t(r).errors.codigo_postal?(n(),a("p",Fe,u(t(r).errors.codigo_postal),1)):i("",!0),v.value.length?(n(),a("div",Le,[e[87]||(e[87]=o("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Colonia",-1)),l(o("select",{"onUpdate:modelValue":e[7]||(e[7]=s=>t(r).colonia=s),class:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"},[e[86]||(e[86]=o("option",{value:""},"Selecciona una colonia",-1)),(n(!0),a(A,null,D(v.value,s=>(n(),a("option",{key:s,value:s},u(s),9,Re))),128))],512),[[x,t(r).colonia]]),t(r).errors.colonia?(n(),a("p",qe,u(t(r).errors.colonia),1)):i("",!0)])):(n(),a("div",Oe,[e[88]||(e[88]=o("label",{for:"colonia",class:"block text-sm font-medium text-gray-700 mb-2"},"Colonia",-1)),l(o("input",{"onUpdate:modelValue":e[8]||(e[8]=s=>t(r).colonia=s),id:"colonia",type:"text",class:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Nombre de la colonia"},null,512),[[c,t(r).colonia]]),t(r).errors.colonia?(n(),a("p",He,u(t(r).errors.colonia),1)):i("",!0)]))]),o("div",null,[e[90]||(e[90]=o("label",{for:"ciudad",class:"block text-sm font-medium text-gray-700 mb-2"}," Ciudad ",-1)),l(o("input",{"onUpdate:modelValue":e[9]||(e[9]=s=>t(r).ciudad=s),id:"ciudad",type:"text",class:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Ciudad de México"},null,512),[[c,t(r).ciudad]]),t(r).errors.ciudad?(n(),a("p",Ye,u(t(r).errors.ciudad),1)):i("",!0)]),o("div",null,[e[91]||(e[91]=o("label",{for:"estado",class:"block text-sm font-medium text-gray-700 mb-2"}," Estado ",-1)),l(o("input",{"onUpdate:modelValue":e[10]||(e[10]=s=>t(r).estado=s),id:"estado",type:"text",class:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"CDMX"},null,512),[[c,t(r).estado]]),t(r).errors.estado?(n(),a("p",$e,u(t(r).errors.estado),1)):i("",!0)]),o("div",null,[e[92]||(e[92]=o("label",{for:"pais",class:"block text-sm font-medium text-gray-700 mb-2"}," País ",-1)),l(o("input",{"onUpdate:modelValue":e[11]||(e[11]=s=>t(r).pais=s),id:"pais",type:"text",class:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"México"},null,512),[[c,t(r).pais]]),t(r).errors.pais?(n(),a("p",Ge,u(t(r).errors.pais),1)):i("",!0)])])]),o("div",null,[e[94]||(e[94]=o("label",{for:"telefono",class:"block text-sm font-medium text-gray-700 mb-2"}," Teléfono ",-1)),l(o("input",{"onUpdate:modelValue":e[12]||(e[12]=s=>t(r).telefono=s),id:"telefono",type:"tel",class:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"55-5555-5555"},null,512),[[c,t(r).telefono]]),t(r).errors.telefono?(n(),a("p",We,u(t(r).errors.telefono),1)):i("",!0)]),o("div",null,[e[95]||(e[95]=o("label",{for:"email",class:"block text-sm font-medium text-gray-700 mb-2"}," Email ",-1)),l(o("input",{"onUpdate:modelValue":e[13]||(e[13]=s=>t(r).email=s),id:"email",type:"email",class:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"contacto@empresa.com"},null,512),[[c,t(r).email]]),t(r).errors.email?(n(),a("p",Ke,u(t(r).errors.email),1)):i("",!0)]),o("div",null,[e[96]||(e[96]=o("label",{for:"sitio_web",class:"block text-sm font-medium text-gray-700 mb-2"}," Sitio Web ",-1)),l(o("input",{"onUpdate:modelValue":e[14]||(e[14]=s=>t(r).sitio_web=s),id:"sitio_web",type:"url",class:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"https://empresa.com"},null,512),[[c,t(r).sitio_web]]),t(r).errors.sitio_web?(n(),a("p",Xe,u(t(r).errors.sitio_web),1)):i("",!0)]),o("div",Je,[e[97]||(e[97]=o("label",{for:"descripcion_empresa",class:"block text-sm font-medium text-gray-700 mb-2"}," Descripción de la Empresa ",-1)),l(o("textarea",{"onUpdate:modelValue":e[15]||(e[15]=s=>t(r).descripcion_empresa=s),id:"descripcion_empresa",rows:"4",class:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent resize-vertical",placeholder:"Breve descripción de la empresa..."},null,512),[[c,t(r).descripcion_empresa]]),t(r).errors.descripcion_empresa?(n(),a("p",Ze,u(t(r).errors.descripcion_empresa),1)):i("",!0)])])])])):i("",!0),f.value==="visual"?(n(),a("div",Qe,[o("div",null,[e[125]||(e[125]=o("h2",{class:"text-xl font-semibold text-gray-900 mb-6"},"Apariencia del Sistema",-1)),o("div",eo,[e[103]||(e[103]=o("h3",{class:"text-lg font-medium text-gray-900 mb-4"},"Logo de la Empresa",-1)),o("div",oo,[b.configuracion.logo_url?(n(),a("div",ro,[o("img",{src:b.configuracion.logo_url,alt:"Logo actual",class:"w-32 h-32 object-contain border border-gray-200 rounded-lg p-2"},null,8,to)])):i("",!0),o("div",so,[o("div",ao,[o("div",no,[e[100]||(e[100]=o("svg",{class:"mx-auto h-12 w-12 text-gray-400",stroke:"currentColor",fill:"none",viewBox:"0 0 48 48"},[o("path",{d:"M28 8H12a4 4 0 00-4 4v20m32-12v8m0 0v8a4 4 0 01-4 4H12a4 4 0 01-4-4v-4m32-4l-3.172-3.172a4 4 0 00-5.656 0L28 28M8 32l9.172-9.172a4 4 0 015.656 0L28 28m0 0l4 4m4-24h8m-4-4v8m-12 4h.02","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"})],-1)),o("div",lo,[o("label",io,[e[99]||(e[99]=o("span",{class:"mt-2 block text-sm font-medium text-gray-900"},"Subir nuevo logo",-1)),o("input",{id:"logo-input",type:"file",accept:"image/*",onChange:K,class:"sr-only"},null,32)])]),e[101]||(e[101]=o("p",{class:"mt-1 text-xs text-gray-500"},"PNG, JPG, GIF hasta 2MB",-1))])]),h.value?(n(),a("div",uo,[e[102]||(e[102]=o("p",{class:"text-sm font-medium text-gray-700 mb-2"},"Vista previa:",-1)),o("img",{src:h.value,alt:"Vista previa del logo",class:"w-32 h-32 object-contain border border-gray-200 rounded-lg p-2"},null,8,co),o("div",mo,[o("button",{onClick:Z,class:"px-3 py-1 bg-blue-600 text-white text-sm rounded-lg hover:bg-blue-700"}," Subir Logo "),o("button",{onClick:e[16]||(e[16]=s=>{h.value=null,t(M).logo=null}),class:"px-3 py-1 bg-gray-300 text-gray-700 text-sm rounded-lg hover:bg-gray-400"}," Cancelar ")])])):i("",!0),b.configuracion.logo_url?(n(),a("div",po,[o("button",{onClick:oe,class:"px-3 py-1 bg-red-600 text-white text-sm rounded-lg hover:bg-red-700"}," Eliminar Logo Actual ")])):i("",!0)])])]),o("div",go,[e[108]||(e[108]=o("h3",{class:"text-lg font-medium text-gray-900 mb-4"},"Favicon",-1)),o("div",bo,[b.configuracion.favicon_url?(n(),a("div",fo,[o("img",{src:b.configuracion.favicon_url,alt:"Favicon actual",class:"w-8 h-8 border border-gray-200 rounded-lg p-1"},null,8,_o)])):i("",!0),o("div",xo,[o("div",yo,[o("div",vo,[e[105]||(e[105]=o("svg",{class:"mx-auto h-12 w-12 text-gray-400",stroke:"currentColor",fill:"none",viewBox:"0 0 48 48"},[o("path",{d:"M28 8H12a4 4 0 00-4 4v20m32-12v8m0 0v8a4 4 0 01-4 4H12a4 4 0 01-4-4v-4m32-4l-3.172-3.172a4 4 0 00-5.656 0L28 28M8 32l9.172-9.172a4 4 0 015.656 0L28 28m0 0l4 4m4-24h8m-4-4v8m-12 4h.02","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"})],-1)),o("div",ko,[o("label",wo,[e[104]||(e[104]=o("span",{class:"mt-2 block text-sm font-medium text-gray-900"},"Subir nuevo favicon",-1)),o("input",{id:"favicon-input",type:"file",accept:"image/*",onChange:X,class:"sr-only"},null,32)])]),e[106]||(e[106]=o("p",{class:"mt-1 text-xs text-gray-500"},"PNG, JPG, ICO hasta 1MB",-1))])]),C.value?(n(),a("div",ho,[e[107]||(e[107]=o("p",{class:"text-sm font-medium text-gray-700 mb-2"},"Vista previa:",-1)),o("img",{src:C.value,alt:"Vista previa del favicon",class:"w-8 h-8 border border-gray-200 rounded-lg p-1"},null,8,Co),o("div",Vo,[o("button",{onClick:Q,class:"px-3 py-1 bg-blue-600 text-white text-sm rounded-lg hover:bg-blue-700"}," Subir Favicon "),o("button",{onClick:e[17]||(e[17]=s=>{C.value=null,t(S).favicon=null}),class:"px-3 py-1 bg-gray-300 text-gray-700 text-sm rounded-lg hover:bg-gray-400"}," Cancelar ")])])):i("",!0),b.configuracion.favicon_url?(n(),a("div",Mo,[o("button",{onClick:re,class:"px-3 py-1 bg-red-600 text-white text-sm rounded-lg hover:bg-red-700"}," Eliminar Favicon Actual ")])):i("",!0)])])]),o("div",So,[e[113]||(e[113]=o("h3",{class:"text-lg font-medium text-gray-900 mb-4"},"Logo para Reportes",-1)),o("div",Uo,[b.configuracion.logo_reportes_url?(n(),a("div",Po,[o("img",{src:b.configuracion.logo_reportes_url,alt:"Logo para reportes",class:"w-32 h-32 object-contain border border-gray-200 rounded-lg p-2"},null,8,Eo)])):i("",!0),o("div",jo,[o("div",Ao,[o("div",zo,[e[110]||(e[110]=o("svg",{class:"mx-auto h-12 w-12 text-gray-400",stroke:"currentColor",fill:"none",viewBox:"0 0 48 48"},[o("path",{d:"M28 8H12a4 4 0 00-4 4v20m32-12v8m0 0v8a4 4 0 01-4 4H12a4 4 0 01-4-4v-4m32-4l-3.172-3.172a4 4 0 00-5.656 0L28 28M8 32l9.172-9.172a4 4 0 015.656 0L28 28m0 0l4 4m4-24h8m-4-4v8m-12 4h.02","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"})],-1)),o("div",Do,[o("label",To,[e[109]||(e[109]=o("span",{class:"mt-2 block text-sm font-medium text-gray-900"},"Subir logo para reportes",-1)),o("input",{id:"logo-reportes-input",type:"file",accept:"image/*",onChange:J,class:"sr-only"},null,32)])]),e[111]||(e[111]=o("p",{class:"mt-1 text-xs text-gray-500"},"PNG, JPG, GIF hasta 2MB",-1))])]),V.value?(n(),a("div",Bo,[e[112]||(e[112]=o("p",{class:"text-sm font-medium text-gray-700 mb-2"},"Vista previa:",-1)),o("img",{src:V.value,alt:"Vista previa del logo para reportes",class:"w-32 h-32 object-contain border border-gray-200 rounded-lg p-2"},null,8,No),o("div",Io,[o("button",{onClick:ee,class:"px-3 py-1 bg-blue-600 text-white text-sm rounded-lg hover:bg-blue-700"}," Subir Logo "),o("button",{onClick:e[18]||(e[18]=s=>{V.value=null,t(U).logo_reportes=null}),class:"px-3 py-1 bg-gray-300 text-gray-700 text-sm rounded-lg hover:bg-gray-400"}," Cancelar ")])])):i("",!0),b.configuracion.logo_reportes_url?(n(),a("div",Fo,[o("button",{onClick:te,class:"px-3 py-1 bg-red-600 text-white text-sm rounded-lg hover:bg-red-700"}," Eliminar Logo para Reportes ")])):i("",!0)])])]),o("div",Lo,[o("div",null,[e[114]||(e[114]=o("label",{for:"color_principal",class:"block text-sm font-medium text-gray-700 mb-2"}," Color Principal ",-1)),o("div",Ro,[l(o("input",{"onUpdate:modelValue":e[19]||(e[19]=s=>t(r).color_principal=s),id:"color_principal",type:"color",class:"w-12 h-10 border border-gray-300 rounded-lg cursor-pointer"},null,512),[[c,t(r).color_principal]]),l(o("input",{"onUpdate:modelValue":e[20]||(e[20]=s=>t(r).color_principal=s),type:"text",class:"flex-1 px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"#3B82F6"},null,512),[[c,t(r).color_principal]])]),t(r).errors.color_principal?(n(),a("p",qo,u(t(r).errors.color_principal),1)):i("",!0)]),o("div",null,[e[115]||(e[115]=o("label",{for:"color_secundario",class:"block text-sm font-medium text-gray-700 mb-2"}," Color Secundario ",-1)),o("div",Oo,[l(o("input",{"onUpdate:modelValue":e[21]||(e[21]=s=>t(r).color_secundario=s),id:"color_secundario",type:"color",class:"w-12 h-10 border border-gray-300 rounded-lg cursor-pointer"},null,512),[[c,t(r).color_secundario]]),l(o("input",{"onUpdate:modelValue":e[22]||(e[22]=s=>t(r).color_secundario=s),type:"text",class:"flex-1 px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"#1E40AF"},null,512),[[c,t(r).color_secundario]])]),t(r).errors.color_secundario?(n(),a("p",Ho,u(t(r).errors.color_secundario),1)):i("",!0)])]),o("div",Yo,[e[122]||(e[122]=o("h3",{class:"text-lg font-medium text-gray-900 mb-4"},"Modo Oscuro",-1)),e[123]||(e[123]=o("p",{class:"text-sm text-gray-600 mb-4"}," Personaliza la apariencia del sistema cuando el modo oscuro esté activado. ",-1)),o("div",$o,[o("div",Go,[l(o("input",{"onUpdate:modelValue":e[23]||(e[23]=s=>t(r).dark_mode_enabled=s),id:"dark_mode_enabled",type:"checkbox",class:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"},null,512),[[y,t(r).dark_mode_enabled]]),e[116]||(e[116]=o("label",{for:"dark_mode_enabled",class:"ml-2 block text-sm text-gray-900"}," Habilitar modo oscuro ",-1))]),t(r).dark_mode_enabled?(n(),a("div",Wo,[o("div",null,[e[117]||(e[117]=o("label",{for:"dark_mode_primary_color",class:"block text-sm font-medium text-gray-700 mb-2"}," Color Principal (Modo Oscuro) ",-1)),o("div",Ko,[l(o("input",{"onUpdate:modelValue":e[24]||(e[24]=s=>t(r).dark_mode_primary_color=s),id:"dark_mode_primary_color",type:"color",class:"w-12 h-10 border border-gray-300 rounded-lg cursor-pointer"},null,512),[[c,t(r).dark_mode_primary_color]]),l(o("input",{"onUpdate:modelValue":e[25]||(e[25]=s=>t(r).dark_mode_primary_color=s),type:"text",class:"flex-1 px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"#1E40AF"},null,512),[[c,t(r).dark_mode_primary_color]])]),t(r).errors.dark_mode_primary_color?(n(),a("p",Xo,u(t(r).errors.dark_mode_primary_color),1)):i("",!0)]),o("div",null,[e[118]||(e[118]=o("label",{for:"dark_mode_secondary_color",class:"block text-sm font-medium text-gray-700 mb-2"}," Color Secundario (Modo Oscuro) ",-1)),o("div",Jo,[l(o("input",{"onUpdate:modelValue":e[26]||(e[26]=s=>t(r).dark_mode_secondary_color=s),id:"dark_mode_secondary_color",type:"color",class:"w-12 h-10 border border-gray-300 rounded-lg cursor-pointer"},null,512),[[c,t(r).dark_mode_secondary_color]]),l(o("input",{"onUpdate:modelValue":e[27]||(e[27]=s=>t(r).dark_mode_secondary_color=s),type:"text",class:"flex-1 px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"#3B82F6"},null,512),[[c,t(r).dark_mode_secondary_color]])]),t(r).errors.dark_mode_secondary_color?(n(),a("p",Zo,u(t(r).errors.dark_mode_secondary_color),1)):i("",!0)]),o("div",null,[e[119]||(e[119]=o("label",{for:"dark_mode_background_color",class:"block text-sm font-medium text-gray-700 mb-2"}," Color de Fondo (Modo Oscuro) ",-1)),o("div",Qo,[l(o("input",{"onUpdate:modelValue":e[28]||(e[28]=s=>t(r).dark_mode_background_color=s),id:"dark_mode_background_color",type:"color",class:"w-12 h-10 border border-gray-300 rounded-lg cursor-pointer"},null,512),[[c,t(r).dark_mode_background_color]]),l(o("input",{"onUpdate:modelValue":e[29]||(e[29]=s=>t(r).dark_mode_background_color=s),type:"text",class:"flex-1 px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"#0F172A"},null,512),[[c,t(r).dark_mode_background_color]])]),t(r).errors.dark_mode_background_color?(n(),a("p",er,u(t(r).errors.dark_mode_background_color),1)):i("",!0)]),o("div",null,[e[120]||(e[120]=o("label",{for:"dark_mode_surface_color",class:"block text-sm font-medium text-gray-700 mb-2"}," Color de Superficie (Modo Oscuro) ",-1)),o("div",or,[l(o("input",{"onUpdate:modelValue":e[30]||(e[30]=s=>t(r).dark_mode_surface_color=s),id:"dark_mode_surface_color",type:"color",class:"w-12 h-10 border border-gray-300 rounded-lg cursor-pointer"},null,512),[[c,t(r).dark_mode_surface_color]]),l(o("input",{"onUpdate:modelValue":e[31]||(e[31]=s=>t(r).dark_mode_surface_color=s),type:"text",class:"flex-1 px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"#1E293B"},null,512),[[c,t(r).dark_mode_surface_color]])]),t(r).errors.dark_mode_surface_color?(n(),a("p",rr,u(t(r).errors.dark_mode_surface_color),1)):i("",!0)])])):i("",!0),t(r).dark_mode_enabled?(n(),a("div",tr,[e[121]||(e[121]=o("h4",{class:"text-sm font-medium text-gray-700 mb-3"},"Vista Previa del Tema Oscuro",-1)),o("div",sr,[o("div",ar,[o("div",{style:w({backgroundColor:t(r).dark_mode_primary_color}),class:"w-8 h-8 rounded-lg border border-gray-300"},null,4),o("span",nr,u(t(r).dark_mode_primary_color),1)]),o("div",lr,[o("div",{style:w({backgroundColor:t(r).dark_mode_secondary_color}),class:"w-8 h-8 rounded-lg border border-gray-300"},null,4),o("span",ir,u(t(r).dark_mode_secondary_color),1)]),o("div",dr,[o("div",{style:w({backgroundColor:t(r).dark_mode_background_color}),class:"w-8 h-8 rounded-lg border border-gray-300"},null,4),o("span",ur,u(t(r).dark_mode_background_color),1)]),o("div",cr,[o("div",{style:w({backgroundColor:t(r).dark_mode_surface_color}),class:"w-8 h-8 rounded-lg border border-gray-300"},null,4),o("span",mr,u(t(r).dark_mode_surface_color),1)]),o("button",{onClick:N,class:"px-3 py-1 bg-green-600 text-white text-sm rounded-lg hover:bg-green-700"}," Aplicar Vista Previa ")])])):i("",!0)])]),o("div",pr,[e[124]||(e[124]=o("h4",{class:"text-sm font-medium text-gray-700 mb-3"},"Vista Previa de Colores (Tema Claro)",-1)),o("div",gr,[o("div",br,[o("div",{style:w({backgroundColor:t(r).color_principal}),class:"w-8 h-8 rounded-lg border border-gray-300"},null,4),o("span",fr,u(t(r).color_principal),1)]),o("div",_r,[o("div",{style:w({backgroundColor:t(r).color_secundario}),class:"w-8 h-8 rounded-lg border border-gray-300"},null,4),o("span",xr,u(t(r).color_secundario),1)]),o("button",{onClick:N,class:"px-3 py-1 bg-green-600 text-white text-sm rounded-lg hover:bg-green-700"}," Aplicar Vista Previa ")])])])])):i("",!0),f.value==="documentos"?(n(),a("div",yr,[o("div",null,[e[133]||(e[133]=o("h2",{class:"text-xl font-semibold text-gray-900 mb-6"},"Configuración de Documentos",-1)),o("div",vr,[o("div",kr,[o("div",null,[e[126]||(e[126]=o("label",{for:"iva_porcentaje",class:"block text-sm font-medium text-gray-700 mb-2"}," Porcentaje de IVA (%) ",-1)),l(o("input",{"onUpdate:modelValue":e[32]||(e[32]=s=>t(r).iva_porcentaje=s),id:"iva_porcentaje",type:"number",step:"0.01",min:"0",max:"100",class:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"16.00"},null,512),[[c,t(r).iva_porcentaje]]),t(r).errors.iva_porcentaje?(n(),a("p",wr,u(t(r).errors.iva_porcentaje),1)):i("",!0)]),o("div",null,[e[128]||(e[128]=o("label",{for:"moneda",class:"block text-sm font-medium text-gray-700 mb-2"}," Moneda ",-1)),l(o("select",{"onUpdate:modelValue":e[33]||(e[33]=s=>t(r).moneda=s),id:"moneda",class:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"},e[127]||(e[127]=[o("option",{value:"MXN"},"Peso Mexicano (MXN)",-1),o("option",{value:"USD"},"Dólar Estadounidense (USD)",-1),o("option",{value:"EUR"},"Euro (EUR)",-1)]),512),[[x,t(r).moneda]]),t(r).errors.moneda?(n(),a("p",hr,u(t(r).errors.moneda),1)):i("",!0)])]),o("div",null,[e[129]||(e[129]=o("label",{for:"pie_pagina_facturas",class:"block text-sm font-medium text-gray-700 mb-2"}," Pie de Página para Facturas ",-1)),l(o("textarea",{"onUpdate:modelValue":e[34]||(e[34]=s=>t(r).pie_pagina_facturas=s),id:"pie_pagina_facturas",rows:"3",class:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent resize-vertical",placeholder:"Texto que aparecerá al pie de las facturas..."},null,512),[[c,t(r).pie_pagina_facturas]]),t(r).errors.pie_pagina_facturas?(n(),a("p",Cr,u(t(r).errors.pie_pagina_facturas),1)):i("",!0)]),o("div",null,[e[130]||(e[130]=o("label",{for:"pie_pagina_cotizaciones",class:"block text-sm font-medium text-gray-700 mb-2"}," Pie de Página para Cotizaciones ",-1)),l(o("textarea",{"onUpdate:modelValue":e[35]||(e[35]=s=>t(r).pie_pagina_cotizaciones=s),id:"pie_pagina_cotizaciones",rows:"3",class:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent resize-vertical",placeholder:"Texto que aparecerá al pie de las cotizaciones..."},null,512),[[c,t(r).pie_pagina_cotizaciones]]),t(r).errors.pie_pagina_cotizaciones?(n(),a("p",Vr,u(t(r).errors.pie_pagina_cotizaciones),1)):i("",!0)]),o("div",null,[e[131]||(e[131]=o("label",{for:"terminos_condiciones",class:"block text-sm font-medium text-gray-700 mb-2"}," Términos y Condiciones ",-1)),l(o("textarea",{"onUpdate:modelValue":e[36]||(e[36]=s=>t(r).terminos_condiciones=s),id:"terminos_condiciones",rows:"4",class:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent resize-vertical",placeholder:"Términos y condiciones generales..."},null,512),[[c,t(r).terminos_condiciones]]),t(r).errors.terminos_condiciones?(n(),a("p",Mr,u(t(r).errors.terminos_condiciones),1)):i("",!0)]),o("div",null,[e[132]||(e[132]=o("label",{for:"politica_privacidad",class:"block text-sm font-medium text-gray-700 mb-2"}," Política de Privacidad ",-1)),l(o("textarea",{"onUpdate:modelValue":e[37]||(e[37]=s=>t(r).politica_privacidad=s),id:"politica_privacidad",rows:"4",class:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent resize-vertical",placeholder:"Política de privacidad..."},null,512),[[c,t(r).politica_privacidad]]),t(r).errors.politica_privacidad?(n(),a("p",Sr,u(t(r).errors.politica_privacidad),1)):i("",!0)])])])])):i("",!0),f.value==="sistema"?(n(),a("div",Ur,[o("div",null,[e[150]||(e[150]=o("h2",{class:"text-xl font-semibold text-gray-900 mb-6"},"Configuración del Sistema",-1)),o("div",Pr,[o("div",null,[e[135]||(e[135]=o("label",{for:"formato_fecha",class:"block text-sm font-medium text-gray-700 mb-2"}," Formato de Fecha ",-1)),l(o("select",{"onUpdate:modelValue":e[38]||(e[38]=s=>t(r).formato_fecha=s),id:"formato_fecha",class:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"},e[134]||(e[134]=[o("option",{value:"d/m/Y"},"DD/MM/YYYY (31/12/2023)",-1),o("option",{value:"m/d/Y"},"MM/DD/YYYY (12/31/2023)",-1),o("option",{value:"Y-m-d"},"YYYY-MM-DD (2023-12-31)",-1),o("option",{value:"d-m-Y"},"DD-MM-YYYY (31-12-2023)",-1)]),512),[[x,t(r).formato_fecha]]),t(r).errors.formato_fecha?(n(),a("p",Er,u(t(r).errors.formato_fecha),1)):i("",!0)]),o("div",null,[e[137]||(e[137]=o("label",{for:"formato_hora",class:"block text-sm font-medium text-gray-700 mb-2"}," Formato de Hora ",-1)),l(o("select",{"onUpdate:modelValue":e[39]||(e[39]=s=>t(r).formato_hora=s),id:"formato_hora",class:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"},e[136]||(e[136]=[o("option",{value:"H:i:s"},"24 horas (14:30:45)",-1),o("option",{value:"h:i:s A"},"12 horas (02:30:45 PM)",-1),o("option",{value:"H:i"},"24 horas corto (14:30)",-1),o("option",{value:"h:i A"},"12 horas corto (02:30 PM)",-1)]),512),[[x,t(r).formato_hora]]),t(r).errors.formato_hora?(n(),a("p",jr,u(t(r).errors.formato_hora),1)):i("",!0)]),o("div",null,[e[139]||(e[139]=o("label",{for:"formato_numeros",class:"block text-sm font-medium text-gray-700 mb-2"}," Formato de Números ",-1)),l(o("select",{"onUpdate:modelValue":e[40]||(e[40]=s=>t(r).formato_numeros=s),id:"formato_numeros",class:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"},e[138]||(e[138]=[o("option",{value:"es-ES"},"Español (1.234,56)",-1),o("option",{value:"en-US"},"Inglés (1,234.56)",-1),o("option",{value:"de-DE"},"Alemán (1.234,56)",-1)]),512),[[x,t(r).formato_numeros]]),t(r).errors.formato_numeros?(n(),a("p",Ar,u(t(r).errors.formato_numeros),1)):i("",!0)])]),o("div",zr,[e[142]||(e[142]=o("h3",{class:"text-lg font-medium text-gray-900 mb-4"},"Modo de Mantenimiento",-1)),o("div",Dr,[o("div",Tr,[l(o("input",{"onUpdate:modelValue":e[41]||(e[41]=s=>t(r).mantenimiento=s),id:"mantenimiento",type:"checkbox",class:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"},null,512),[[y,t(r).mantenimiento]]),e[140]||(e[140]=o("label",{for:"mantenimiento",class:"ml-2 block text-sm text-gray-900"}," Activar modo de mantenimiento ",-1))]),t(r).mantenimiento?(n(),a("div",Br,[e[141]||(e[141]=o("label",{for:"mensaje_mantenimiento",class:"block text-sm font-medium text-gray-700 mb-2"}," Mensaje de Mantenimiento ",-1)),l(o("textarea",{"onUpdate:modelValue":e[42]||(e[42]=s=>t(r).mensaje_mantenimiento=s),id:"mensaje_mantenimiento",rows:"3",class:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent resize-vertical",placeholder:"Mensaje que verán los usuarios cuando el sistema esté en mantenimiento..."},null,512),[[c,t(r).mensaje_mantenimiento]]),t(r).errors.mensaje_mantenimiento?(n(),a("p",Nr,u(t(r).errors.mensaje_mantenimiento),1)):i("",!0)])):i("",!0)])]),o("div",Ir,[e[145]||(e[145]=o("h3",{class:"text-lg font-medium text-gray-900 mb-4"},"Configuración de Usuarios",-1)),o("div",Fr,[o("div",Lr,[l(o("input",{"onUpdate:modelValue":e[43]||(e[43]=s=>t(r).registro_usuarios=s),id:"registro_usuarios",type:"checkbox",class:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"},null,512),[[y,t(r).registro_usuarios]]),e[143]||(e[143]=o("label",{for:"registro_usuarios",class:"ml-2 block text-sm text-gray-900"}," Permitir registro de nuevos usuarios ",-1))]),o("div",Rr,[l(o("input",{"onUpdate:modelValue":e[44]||(e[44]=s=>t(r).notificaciones_email=s),id:"notificaciones_email",type:"checkbox",class:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"},null,512),[[y,t(r).notificaciones_email]]),e[144]||(e[144]=o("label",{for:"notificaciones_email",class:"ml-2 block text-sm text-gray-900"}," Activar notificaciones por email ",-1))])])]),o("div",qr,[e[149]||(e[149]=o("h3",{class:"text-lg font-medium text-gray-900 mb-4"},"Configuración de Backups",-1)),o("div",Or,[o("div",Hr,[l(o("input",{"onUpdate:modelValue":e[45]||(e[45]=s=>t(r).backup_automatico=s),id:"backup_automatico",type:"checkbox",class:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"},null,512),[[y,t(r).backup_automatico]]),e[146]||(e[146]=o("label",{for:"backup_automatico",class:"ml-2 block text-sm text-gray-900"}," Realizar backups automáticos ",-1))]),o("div",null,[e[147]||(e[147]=o("label",{for:"frecuencia_backup",class:"block text-sm font-medium text-gray-700 mb-2"}," Frecuencia de Backups (días) ",-1)),l(o("input",{"onUpdate:modelValue":e[46]||(e[46]=s=>t(r).frecuencia_backup=s),id:"frecuencia_backup",type:"number",min:"1",max:"365",class:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"},null,512),[[c,t(r).frecuencia_backup]]),t(r).errors.frecuencia_backup?(n(),a("p",Yr,u(t(r).errors.frecuencia_backup),1)):i("",!0)]),o("div",$r,[e[148]||(e[148]=o("label",{for:"retencion_backups",class:"block text-sm font-medium text-gray-700 mb-2"}," Retención de Backups (días) ",-1)),l(o("input",{"onUpdate:modelValue":e[47]||(e[47]=s=>t(r).retencion_backups=s),id:"retencion_backups",type:"number",min:"1",max:"365",class:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"},null,512),[[c,t(r).retencion_backups]]),t(r).errors.retencion_backups?(n(),a("p",Gr,u(t(r).errors.retencion_backups),1)):i("",!0)])])])])])):i("",!0),f.value==="seguridad"?(n(),a("div",Wr,[o("div",null,[e[155]||(e[155]=o("h2",{class:"text-xl font-semibold text-gray-900 mb-6"},"Configuración de Seguridad",-1)),o("div",Kr,[o("div",null,[e[151]||(e[151]=o("label",{for:"intentos_login",class:"block text-sm font-medium text-gray-700 mb-2"}," Intentos de Login Permitidos ",-1)),l(o("input",{"onUpdate:modelValue":e[48]||(e[48]=s=>t(r).intentos_login=s),id:"intentos_login",type:"number",min:"1",max:"20",class:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"},null,512),[[c,t(r).intentos_login]]),t(r).errors.intentos_login?(n(),a("p",Xr,u(t(r).errors.intentos_login),1)):i("",!0)]),o("div",null,[e[152]||(e[152]=o("label",{for:"tiempo_bloqueo",class:"block text-sm font-medium text-gray-700 mb-2"}," Tiempo de Bloqueo (minutos) ",-1)),l(o("input",{"onUpdate:modelValue":e[49]||(e[49]=s=>t(r).tiempo_bloqueo=s),id:"tiempo_bloqueo",type:"number",min:"1",max:"1440",class:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"},null,512),[[c,t(r).tiempo_bloqueo]]),t(r).errors.tiempo_bloqueo?(n(),a("p",Jr,u(t(r).errors.tiempo_bloqueo),1)):i("",!0)])]),o("div",Zr,[o("div",Qr,[l(o("input",{"onUpdate:modelValue":e[50]||(e[50]=s=>t(r).requerir_2fa=s),id:"requerir_2fa",type:"checkbox",class:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"},null,512),[[y,t(r).requerir_2fa]]),e[153]||(e[153]=o("label",{for:"requerir_2fa",class:"ml-2 block text-sm text-gray-900"}," Requerir autenticación de dos factores (2FA) para todos los usuarios ",-1))]),e[154]||(e[154]=o("p",{class:"mt-2 text-sm text-gray-600"}," Si se activa, todos los usuarios deberán configurar la autenticación de dos factores para acceder al sistema. ",-1))])])])):i("",!0),f.value==="bancarios"?(n(),a("div",et,[o("div",null,[e[163]||(e[163]=o("h2",{class:"text-xl font-semibold text-gray-900 mb-6"},"Datos Bancarios",-1)),e[164]||(e[164]=o("p",{class:"text-sm text-gray-600 mb-6"},"Información bancaria de la empresa para pagos y cobros",-1)),o("div",ot,[o("div",null,[e[156]||(e[156]=o("label",{for:"banco",class:"block text-sm font-medium text-gray-700 mb-2"}," Nombre del Banco * ",-1)),l(o("input",{"onUpdate:modelValue":e[51]||(e[51]=s=>t(r).banco=s),id:"banco",type:"text",class:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Ej: Banco Santander, BBVA, Banorte, etc."},null,512),[[c,t(r).banco]]),t(r).errors.banco?(n(),a("p",rt,u(t(r).errors.banco),1)):i("",!0)]),o("div",null,[e[157]||(e[157]=o("label",{for:"sucursal",class:"block text-sm font-medium text-gray-700 mb-2"}," Sucursal ",-1)),l(o("input",{"onUpdate:modelValue":e[52]||(e[52]=s=>t(r).sucursal=s),id:"sucursal",type:"text",class:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Número de sucursal"},null,512),[[c,t(r).sucursal]]),t(r).errors.sucursal?(n(),a("p",tt,u(t(r).errors.sucursal),1)):i("",!0)]),o("div",null,[e[158]||(e[158]=o("label",{for:"cuenta",class:"block text-sm font-medium text-gray-700 mb-2"}," Número de Cuenta ",-1)),l(o("input",{"onUpdate:modelValue":e[53]||(e[53]=s=>t(r).cuenta=s),id:"cuenta",type:"text",class:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Número de cuenta bancaria"},null,512),[[c,t(r).cuenta]]),t(r).errors.cuenta?(n(),a("p",st,u(t(r).errors.cuenta),1)):i("",!0)]),o("div",null,[e[159]||(e[159]=o("label",{for:"clabe",class:"block text-sm font-medium text-gray-700 mb-2"}," CLABE ",-1)),l(o("input",{"onUpdate:modelValue":e[54]||(e[54]=s=>t(r).clabe=s),id:"clabe",type:"text",maxlength:"18",class:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"18 dígitos de la CLABE"},null,512),[[c,t(r).clabe]]),t(r).errors.clabe?(n(),a("p",at,u(t(r).errors.clabe),1)):i("",!0)]),o("div",null,[e[160]||(e[160]=o("label",{for:"titular",class:"block text-sm font-medium text-gray-700 mb-2"}," Nombre del Titular ",-1)),l(o("input",{"onUpdate:modelValue":e[55]||(e[55]=s=>t(r).titular=s),id:"titular",type:"text",class:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Nombre completo del titular de la cuenta"},null,512),[[c,t(r).titular]]),t(r).errors.titular?(n(),a("p",nt,u(t(r).errors.titular),1)):i("",!0)]),o("div",null,[e[161]||(e[161]=o("label",{for:"numero_tarjeta",class:"block text-sm font-medium text-gray-700 mb-2"}," Número de Tarjeta (Opcional) ",-1)),l(o("input",{"onUpdate:modelValue":e[56]||(e[56]=s=>t(r).numero_tarjeta=s),id:"numero_tarjeta",type:"text",maxlength:"19",class:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Número de tarjeta corporativa"},null,512),[[c,t(r).numero_tarjeta]]),t(r).errors.numero_tarjeta?(n(),a("p",lt,u(t(r).errors.numero_tarjeta),1)):i("",!0)]),o("div",it,[e[162]||(e[162]=o("label",{for:"informacion_adicional_bancaria",class:"block text-sm font-medium text-gray-700 mb-2"}," Información Adicional Bancaria ",-1)),l(o("textarea",{"onUpdate:modelValue":e[57]||(e[57]=s=>t(r).informacion_adicional_bancaria=s),id:"informacion_adicional_bancaria",rows:"4",class:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent resize-vertical",placeholder:"Sucursal, referencias adicionales, instrucciones especiales, etc."},null,512),[[c,t(r).informacion_adicional_bancaria]]),t(r).errors.informacion_adicional_bancaria?(n(),a("p",dt,u(t(r).errors.informacion_adicional_bancaria),1)):i("",!0)])]),e[165]||(e[165]=k('<div class="mt-8 p-4 bg-yellow-50 border border-yellow-200 rounded-lg" data-v-04369c5a><div class="flex" data-v-04369c5a><div class="flex-shrink-0" data-v-04369c5a><svg class="h-5 w-5 text-yellow-400" fill="currentColor" viewBox="0 0 20 20" data-v-04369c5a><path fill-rule="evenodd" d="M8.257 3.099c.765-1.36 2.722-1.36 3.486 0l5.58 9.92c.75 1.334-.213 2.98-1.742 2.98H4.42c-1.53 0-2.493-1.646-1.743-2.98l5.58-9.92zM11 13a1 1 0 11-2 0 1 1 0 012 0zm-1-8a1 1 0 00-1 1v3a1 1 0 002 0V6a1 1 0 00-1-1z" clip-rule="evenodd" data-v-04369c5a></path></svg></div><div class="ml-3" data-v-04369c5a><h3 class="text-sm font-medium text-yellow-800" data-v-04369c5a> Información Sensible </h3><div class="mt-2 text-sm text-yellow-700" data-v-04369c5a><p data-v-04369c5a> Los datos bancarios son información sensible. Asegúrese de que solo personal autorizado tenga acceso a esta configuración. </p></div></div></div></div>',1))])])):i("",!0),f.value==="correo"?(n(),a("div",ut,[o("div",null,[e[196]||(e[196]=o("h2",{class:"text-xl font-semibold text-gray-900 mb-6"},"Configuración de Correo",-1)),e[197]||(e[197]=o("p",{class:"text-sm text-gray-600 mb-6"},"Configuración para envío de correos desde el sistema",-1)),o("div",ct,[e[175]||(e[175]=o("h3",{class:"text-lg font-medium text-gray-900 mb-4"},"Servidor SMTP",-1)),o("div",mt,[e[166]||(e[166]=o("label",{class:"block text-sm font-medium text-gray-700 mb-3"}," Proveedor de Correo ",-1)),o("div",pt,[(n(),a(A,null,D(B,(s,E)=>o("button",{key:E,type:"button",onClick:ss=>ae(E),class:G(["p-3 text-sm border rounded-lg transition-all duration-200 text-center","hover:bg-blue-50 hover:border-blue-300",E==="hostinger"&&t(r).smtp_host==="smtp.hostinger.com"?"bg-blue-100 border-blue-500 text-blue-700":"bg-white border-gray-300 text-gray-700"])},[o("div",bt,u(s.nombre),1),o("div",ft,u(s.smtp_port),1)],10,gt)),64))]),e[167]||(e[167]=o("p",{class:"text-xs text-gray-500 mt-2"}," Selecciona un proveedor para autocompletar la configuración básica ",-1))]),o("div",_t,[o("div",null,[e[168]||(e[168]=o("label",{for:"smtp_host",class:"block text-sm font-medium text-gray-700 mb-2"}," Servidor SMTP * ",-1)),l(o("input",{"onUpdate:modelValue":e[58]||(e[58]=s=>t(r).smtp_host=s),id:"smtp_host",type:"text",class:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"smtp.gmail.com"},null,512),[[c,t(r).smtp_host]]),t(r).errors.smtp_host?(n(),a("p",xt,u(t(r).errors.smtp_host),1)):i("",!0)]),o("div",null,[e[170]||(e[170]=o("label",{for:"smtp_port",class:"block text-sm font-medium text-gray-700 mb-2"}," Puerto SMTP * ",-1)),l(o("select",{"onUpdate:modelValue":e[59]||(e[59]=s=>t(r).smtp_port=s),id:"smtp_port",class:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"},e[169]||(e[169]=[k('<option value="" data-v-04369c5a>Seleccionar puerto</option><option value="587" data-v-04369c5a>587 (SMTP TLS - Recomendado para Hostinger)</option><option value="465" data-v-04369c5a>465 (SMTP SSL)</option><option value="25" data-v-04369c5a>25 (SMTP estándar)</option><option value="2525" data-v-04369c5a>2525 (SMTP alternativo)</option>',5)]),512),[[x,t(r).smtp_port]]),t(r).errors.smtp_port?(n(),a("p",yt,u(t(r).errors.smtp_port),1)):i("",!0)]),o("div",null,[e[171]||(e[171]=o("label",{for:"smtp_username",class:"block text-sm font-medium text-gray-700 mb-2"}," Usuario SMTP * ",-1)),l(o("input",{"onUpdate:modelValue":e[60]||(e[60]=s=>t(r).smtp_username=s),id:"smtp_username",type:"text",class:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"usuario@dominio.com"},null,512),[[c,t(r).smtp_username]]),t(r).errors.smtp_username?(n(),a("p",vt,u(t(r).errors.smtp_username),1)):i("",!0)]),o("div",null,[e[172]||(e[172]=o("label",{for:"smtp_password",class:"block text-sm font-medium text-gray-700 mb-2"}," Contraseña SMTP * ",-1)),l(o("input",{"onUpdate:modelValue":e[61]||(e[61]=s=>t(r).smtp_password=s),id:"smtp_password",type:"password",class:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Contraseña de la cuenta"},null,512),[[c,t(r).smtp_password]]),t(r).errors.smtp_password?(n(),a("p",kt,u(t(r).errors.smtp_password),1)):i("",!0)]),o("div",null,[e[174]||(e[174]=o("label",{for:"smtp_encryption",class:"block text-sm font-medium text-gray-700 mb-2"}," Encriptación ",-1)),l(o("select",{"onUpdate:modelValue":e[62]||(e[62]=s=>t(r).smtp_encryption=s),id:"smtp_encryption",class:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"},e[173]||(e[173]=[o("option",{value:""},"Sin encriptación",-1),o("option",{value:"tls"},"TLS",-1),o("option",{value:"ssl"},"SSL",-1)]),512),[[x,t(r).smtp_encryption]]),t(r).errors.smtp_encryption?(n(),a("p",wt,u(t(r).errors.smtp_encryption),1)):i("",!0)])])]),o("div",ht,[e[179]||(e[179]=o("h3",{class:"text-lg font-medium text-gray-900 mb-4"},"Configuración de Email",-1)),o("div",Ct,[o("div",null,[e[176]||(e[176]=o("label",{for:"email_from_address",class:"block text-sm font-medium text-gray-700 mb-2"}," Dirección de Remitente * ",-1)),l(o("input",{"onUpdate:modelValue":e[63]||(e[63]=s=>t(r).email_from_address=s),id:"email_from_address",type:"email",class:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"noreply@empresa.com"},null,512),[[c,t(r).email_from_address]]),t(r).errors.email_from_address?(n(),a("p",Vt,u(t(r).errors.email_from_address),1)):i("",!0)]),o("div",null,[e[177]||(e[177]=o("label",{for:"email_from_name",class:"block text-sm font-medium text-gray-700 mb-2"}," Nombre del Remitente * ",-1)),l(o("input",{"onUpdate:modelValue":e[64]||(e[64]=s=>t(r).email_from_name=s),id:"email_from_name",type:"text",class:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Empresa S.A. de C.V."},null,512),[[c,t(r).email_from_name]]),t(r).errors.email_from_name?(n(),a("p",Mt,u(t(r).errors.email_from_name),1)):i("",!0)]),o("div",St,[e[178]||(e[178]=o("label",{for:"email_reply_to",class:"block text-sm font-medium text-gray-700 mb-2"}," Responder A (Reply-To) ",-1)),l(o("input",{"onUpdate:modelValue":e[65]||(e[65]=s=>t(r).email_reply_to=s),id:"email_reply_to",type:"email",class:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"contacto@empresa.com"},null,512),[[c,t(r).email_reply_to]]),t(r).errors.email_reply_to?(n(),a("p",Ut,u(t(r).errors.email_reply_to),1)):i("",!0)])])]),m.$page.props.errors.smtp||m.$page.props.errors.email_error?(n(),a("div",Pt,[e[181]||(e[181]=o("h4",{class:"text-sm font-medium text-red-800"},"Información de Debugging",-1)),o("details",Et,[e[180]||(e[180]=o("summary",{class:"text-sm text-red-700 cursor-pointer"},"Ver detalles técnicos",-1)),o("pre",jt,u(JSON.stringify(m.$page.props.errors,null,2)),1)])])):i("",!0),m.$page.props.success&&m.$page.props.debug_info?(n(),a("div",At,[e[183]||(e[183]=o("h4",{class:"text-sm font-medium text-green-800"},"Información de Debugging (Éxito)",-1)),o("details",zt,[e[182]||(e[182]=o("summary",{class:"text-sm text-green-700 cursor-pointer"},"Ver detalles del envío",-1)),o("pre",Dt,u(JSON.stringify(m.$page.props.debug_info,null,2)),1)])])):i("",!0),o("div",Tt,[e[192]||(e[192]=o("h3",{class:"text-lg font-medium text-gray-900 mb-4"},"Configuración DKIM",-1)),e[193]||(e[193]=o("p",{class:"text-sm text-gray-600 mb-4"}," DKIM ayuda a verificar que tus correos no sean marcados como spam. Configúralo si tienes acceso a los registros DNS de tu dominio. ",-1)),o("div",Bt,[o("div",Nt,[o("div",It,[l(o("input",{"onUpdate:modelValue":e[66]||(e[66]=s=>t(r).dkim_enabled=s),id:"dkim_enabled",type:"checkbox",class:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"},null,512),[[y,t(r).dkim_enabled]]),e[184]||(e[184]=o("label",{for:"dkim_enabled",class:"ml-2 block text-sm text-gray-900"}," Habilitar firma DKIM para mejorar entregabilidad ",-1))]),e[185]||(e[185]=o("p",{class:"text-xs text-gray-500 mt-1"}," Recomendado para mejorar la reputación del remitente y evitar filtros de spam. ",-1))]),o("div",null,[e[186]||(e[186]=o("label",{for:"dkim_selector",class:"block text-sm font-medium text-gray-700 mb-2"}," Selector DKIM ",-1)),l(o("input",{"onUpdate:modelValue":e[67]||(e[67]=s=>t(r).dkim_selector=s),id:"dkim_selector",type:"text",class:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"hostingermail"},null,512),[[c,t(r).dkim_selector]]),e[187]||(e[187]=o("p",{class:"text-xs text-gray-500 mt-1"},' Normalmente es "hostingermail" para Hostinger ',-1))]),o("div",null,[e[188]||(e[188]=o("label",{for:"dkim_domain",class:"block text-sm font-medium text-gray-700 mb-2"}," Dominio ",-1)),l(o("input",{"onUpdate:modelValue":e[68]||(e[68]=s=>t(r).dkim_domain=s),id:"dkim_domain",type:"text",class:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"asistenciavircom.com"},null,512),[[c,t(r).dkim_domain]]),e[189]||(e[189]=o("p",{class:"text-xs text-gray-500 mt-1"}," Tu dominio principal ",-1))]),o("div",Ft,[e[190]||(e[190]=o("label",{for:"dkim_public_key",class:"block text-sm font-medium text-gray-700 mb-2"}," Clave Pública DKIM ",-1)),l(o("textarea",{"onUpdate:modelValue":e[69]||(e[69]=s=>t(r).dkim_public_key=s),id:"dkim_public_key",rows:"4",class:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent resize-vertical font-mono text-sm",placeholder:"dkim"},null,512),[[c,t(r).dkim_public_key]]),e[191]||(e[191]=o("p",{class:"text-xs text-gray-500 mt-1"}," Copia exactamente la clave pública de tu proveedor de correo ",-1))])]),e[194]||(e[194]=k('<div class="mt-6 p-4 bg-gray-50 rounded-lg" data-v-04369c5a><h4 class="text-sm font-medium text-gray-900 mb-3" data-v-04369c5a>¿Cómo configurar DKIM?</h4><div class="space-y-3 text-sm text-gray-700" data-v-04369c5a><div class="flex items-start gap-3" data-v-04369c5a><span class="flex-shrink-0 w-6 h-6 bg-blue-100 text-blue-600 rounded-full flex items-center justify-center text-xs font-medium" data-v-04369c5a>1</span><div data-v-04369c5a><p class="font-medium" data-v-04369c5a>Ve al panel de tu proveedor de correo</p><p class="text-gray-500" data-v-04369c5a>Busca la sección de DNS o DKIM</p></div></div><div class="flex items-start gap-3" data-v-04369c5a><span class="flex-shrink-0 w-6 h-6 bg-blue-100 text-blue-600 rounded-full flex items-center justify-center text-xs font-medium" data-v-04369c5a>2</span><div data-v-04369c5a><p class="font-medium" data-v-04369c5a>Copia los registros DNS</p><p class="text-gray-500" data-v-04369c5a>Busca los registros CNAME y TXT de DKIM</p></div></div><div class="flex items-start gap-3" data-v-04369c5a><span class="flex-shrink-0 w-6 h-6 bg-blue-100 text-blue-600 rounded-full flex items-center justify-center text-xs font-medium" data-v-04369c5a>3</span><div data-v-04369c5a><p class="font-medium" data-v-04369c5a>Pégalos en este formulario</p><p class="text-gray-500" data-v-04369c5a>Completa los campos con la información de tu proveedor</p></div></div></div></div>',1))]),o("div",{class:"mb-8 p-4 bg-blue-50 border border-blue-200 rounded-lg"},[o("div",{class:"flex items-center justify-between"},[e[195]||(e[195]=o("div",null,[o("h4",{class:"text-sm font-medium text-blue-800"},"Probar Configuración"),o("p",{class:"text-sm text-blue-700 mt-1"}," Envía un correo de prueba para verificar que la configuración funcione correctamente. "),o("p",{class:"text-xs text-blue-600 mt-1"}," Revisa la consola del navegador (F12) para ver el proceso detallado. ")],-1)),o("button",{type:"button",onClick:ie,class:"px-4 py-2 bg-blue-600 text-white text-sm rounded-lg hover:bg-blue-700 transition-colors"}," Enviar Correo de Prueba ")])]),e[198]||(e[198]=k('<div class="mt-8 p-4 bg-yellow-50 border border-yellow-200 rounded-lg" data-v-04369c5a><div class="flex" data-v-04369c5a><div class="flex-shrink-0" data-v-04369c5a><svg class="h-5 w-5 text-yellow-400" fill="currentColor" viewBox="0 0 20 20" data-v-04369c5a><path fill-rule="evenodd" d="M8.257 3.099c.765-1.36 2.722-1.36 3.486 0l5.58 9.92c.75 1.334-.213 2.98-1.742 2.98H4.42c-1.53 0-2.493-1.646-1.743-2.98l5.58-9.92zM11 13a1 1 0 11-2 0 1 1 0 012 0zm-1-8a1 1 0 00-1 1v3a1 1 0 002 0V6a1 1 0 00-1-1z" clip-rule="evenodd" data-v-04369c5a></path></svg></div><div class="ml-3" data-v-04369c5a><h3 class="text-sm font-medium text-yellow-800" data-v-04369c5a> Información Sensible </h3><div class="mt-2 text-sm text-yellow-700" data-v-04369c5a><p data-v-04369c5a> Las credenciales SMTP son información sensible. Asegúrese de que solo personal autorizado tenga acceso a esta configuración. </p></div></div></div></div>',1))])])):i("",!0),f.value==="whatsapp"?(n(),a("div",Lt,[o("div",null,[e[227]||(e[227]=o("h2",{class:"text-xl font-semibold text-gray-900 mb-6"},"Configuración de WhatsApp Business",-1)),e[228]||(e[228]=o("p",{class:"text-sm text-gray-600 mb-6"},"Configure la integración con WhatsApp Business API para envío automático de recordatorios",-1)),o("div",Rt,[o("div",qt,[l(o("input",{"onUpdate:modelValue":e[70]||(e[70]=s=>t(r).whatsapp_enabled=s),id:"whatsapp_enabled",type:"checkbox",class:"h-4 w-4 text-green-600 focus:ring-green-500 border-gray-300 rounded"},null,512),[[y,t(r).whatsapp_enabled]]),e[199]||(e[199]=o("label",{for:"whatsapp_enabled",class:"ml-2 block text-sm font-medium text-gray-700"}," Habilitar WhatsApp Business ",-1))]),e[200]||(e[200]=o("p",{class:"mt-1 text-sm text-gray-500"}," Active esta opción para habilitar el envío automático de recordatorios por WhatsApp ",-1))]),t(r).whatsapp_enabled?(n(),a("div",Ot,[o("div",Ht,[e[209]||(e[209]=o("h3",{class:"text-lg font-medium text-gray-900 mb-4"},"Configuración de la API",-1)),o("div",Yt,[o("div",null,[e[201]||(e[201]=o("label",{for:"whatsapp_business_account_id",class:"block text-sm font-medium text-gray-700 mb-2"}," Business Account ID * ",-1)),l(o("input",{"onUpdate:modelValue":e[71]||(e[71]=s=>t(r).whatsapp_business_account_id=s),id:"whatsapp_business_account_id",type:"text",placeholder:"1234567890123456",class:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent"},null,512),[[c,t(r).whatsapp_business_account_id]]),e[202]||(e[202]=o("p",{class:"mt-1 text-xs text-gray-500"},"Obtenible en Facebook Business Manager",-1))]),o("div",null,[e[203]||(e[203]=o("label",{for:"whatsapp_phone_number_id",class:"block text-sm font-medium text-gray-700 mb-2"}," Phone Number ID * ",-1)),l(o("input",{"onUpdate:modelValue":e[72]||(e[72]=s=>t(r).whatsapp_phone_number_id=s),id:"whatsapp_phone_number_id",type:"text",placeholder:"123456789012345",class:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent"},null,512),[[c,t(r).whatsapp_phone_number_id]]),e[204]||(e[204]=o("p",{class:"mt-1 text-xs text-gray-500"},"ID del número de WhatsApp Business",-1))]),o("div",null,[e[205]||(e[205]=o("label",{for:"whatsapp_sender_phone",class:"block text-sm font-medium text-gray-700 mb-2"}," Número de Teléfono * ",-1)),l(o("input",{"onUpdate:modelValue":e[73]||(e[73]=s=>t(r).whatsapp_sender_phone=s),id:"whatsapp_sender_phone",type:"text",placeholder:"+52551234567",class:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent"},null,512),[[c,t(r).whatsapp_sender_phone]]),e[206]||(e[206]=o("p",{class:"mt-1 text-xs text-gray-500"},"Formato E.164 con código de país",-1))]),o("div",null,[e[208]||(e[208]=o("label",{for:"whatsapp_default_language",class:"block text-sm font-medium text-gray-700 mb-2"}," Idioma por Defecto ",-1)),l(o("select",{"onUpdate:modelValue":e[74]||(e[74]=s=>t(r).whatsapp_default_language=s),id:"whatsapp_default_language",class:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent"},e[207]||(e[207]=[o("option",{value:"es_MX"},"Español (México)",-1),o("option",{value:"en_US"},"English (US)",-1)]),512),[[x,t(r).whatsapp_default_language]])])])]),o("div",$t,[e[219]||(e[219]=o("h3",{class:"text-lg font-medium text-gray-900 mb-4"},"Credenciales de Seguridad",-1)),o("div",Gt,[o("div",Wt,[e[210]||(e[210]=o("label",{for:"whatsapp_access_token",class:"block text-sm font-medium text-gray-700 mb-2"}," Access Token * ",-1)),l(o("textarea",{"onUpdate:modelValue":e[75]||(e[75]=s=>t(r).whatsapp_access_token=s),id:"whatsapp_access_token",rows:"3",placeholder:"EAAG...",class:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent font-mono text-sm"},null,512),[[c,t(r).whatsapp_access_token]]),e[211]||(e[211]=o("p",{class:"mt-1 text-xs text-gray-500"},"Token de acceso permanente de Facebook",-1))]),o("div",Kt,[e[212]||(e[212]=o("label",{for:"whatsapp_app_secret",class:"block text-sm font-medium text-gray-700 mb-2"}," App Secret * ",-1)),l(o("textarea",{"onUpdate:modelValue":e[76]||(e[76]=s=>t(r).whatsapp_app_secret=s),id:"whatsapp_app_secret",rows:"3",placeholder:"abcd1234...",class:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent font-mono text-sm"},null,512),[[c,t(r).whatsapp_app_secret]]),e[213]||(e[213]=o("p",{class:"mt-1 text-xs text-gray-500"},"Secreto de la aplicación de Facebook",-1))]),o("div",null,[e[214]||(e[214]=o("label",{for:"whatsapp_webhook_verify_token",class:"block text-sm font-medium text-gray-700 mb-2"}," Token de Verificación Webhook * ",-1)),o("div",Xt,[l(o("input",{"onUpdate:modelValue":e[77]||(e[77]=s=>t(r).whatsapp_webhook_verify_token=s),id:"whatsapp_webhook_verify_token",type:"text",placeholder:"token123456",class:"flex-1 px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent"},null,512),[[c,t(r).whatsapp_webhook_verify_token]]),o("button",{type:"button",onClick:e[78]||(e[78]=s=>t(r).whatsapp_webhook_verify_token=Math.random().toString(36).substring(2,15)+Math.random().toString(36).substring(2,15)),class:"px-3 py-2 bg-gray-100 text-gray-700 text-sm rounded-lg hover:bg-gray-200 focus:outline-none focus:ring-2 focus:ring-green-500"}," Generar ")]),e[215]||(e[215]=o("p",{class:"mt-1 text-xs text-gray-500"},"Token personalizado para verificar webhooks",-1))]),o("div",null,[e[217]||(e[217]=o("label",{for:"whatsapp_template_payment_reminder",class:"block text-sm font-medium text-gray-700 mb-2"}," Plantilla de Recordatorio * ",-1)),l(o("select",{"onUpdate:modelValue":e[79]||(e[79]=s=>t(r).whatsapp_template_payment_reminder=s),id:"whatsapp_template_payment_reminder",class:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent"},e[216]||(e[216]=[o("option",{value:""},"Seleccionar plantilla...",-1),o("option",{value:"payment_reminder"},"Recordatorio de Pago",-1),o("option",{value:"welcome_message"},"Mensaje de Bienvenida",-1),o("option",{value:"order_confirmation"},"Confirmación de Pedido",-1)]),512),[[x,t(r).whatsapp_template_payment_reminder]]),e[218]||(e[218]=o("p",{class:"mt-1 text-xs text-gray-500"},"Plantilla aprobada por Meta para recordatorios",-1))])])]),e[226]||(e[226]=k('<div class="bg-blue-50 border border-blue-200 rounded-lg p-4" data-v-04369c5a><h4 class="text-sm font-medium text-blue-900 mb-2" data-v-04369c5a>📋 Configuración Completa</h4><div class="text-sm text-blue-800 space-y-2" data-v-04369c5a><div class="flex items-start gap-2" data-v-04369c5a><span class="text-green-600 mt-0.5" data-v-04369c5a>✅</span><div data-v-04369c5a><p class="font-medium" data-v-04369c5a>1. Credenciales Configuradas</p><p class="text-xs" data-v-04369c5a>Phone Number ID, Business Account ID y Access Token configurados</p></div></div><div class="flex items-start gap-2" data-v-04369c5a><span class="text-green-600 mt-0.5" data-v-04369c5a>✅</span><div data-v-04369c5a><p class="font-medium" data-v-04369c5a>2. Webhook Listo</p><p class="text-xs" data-v-04369c5a>Token de verificación generado y rutas API configuradas</p></div></div><div class="flex items-start gap-2" data-v-04369c5a><span class="text-green-600 mt-0.5" data-v-04369c5a>✅</span><div data-v-04369c5a><p class="font-medium" data-v-04369c5a>3. Plantilla Configurada</p><p class="text-xs" data-v-04369c5a>Plantilla &quot;recordarorio_de_instalacion&quot; configurada y aprobada</p></div></div><div class="flex items-start gap-2" data-v-04369c5a><span class="text-yellow-600 mt-0.5" data-v-04369c5a>⏳</span><div data-v-04369c5a><p class="font-medium" data-v-04369c5a>4. Webhook en Meta</p><p class="text-xs" data-v-04369c5a>Configura el webhook en Facebook Business Manager</p></div></div></div></div>',1)),o("div",{class:"p-4 bg-green-50 border border-green-200 rounded-lg"},[o("div",{class:"flex items-center justify-between"},[e[220]||(e[220]=o("div",null,[o("h4",{class:"text-sm font-medium text-green-800"},"Probar Configuración"),o("p",{class:"text-sm text-green-700 mt-1"}," Valida que todas las credenciales estén configuradas correctamente ")],-1)),o("button",{type:"button",onClick:le,class:"px-4 py-2 bg-green-600 text-white text-sm rounded-lg hover:bg-green-700 transition-colors"}," 🧪 Probar Configuración ")])]),(g=b.empresa)!=null&&g.whatsapp_webhook_verify_token?(n(),a("div",Jt,[e[225]||(e[225]=o("h4",{class:"text-sm font-medium text-purple-900 mb-2"},"🔗 Webhook Configurado",-1)),o("div",Zt,[e[223]||(e[223]=o("p",null,[o("strong",null,"URL del webhook:"),T(),o("code",{class:"bg-purple-100 px-1 rounded"},"https://sudominio.com/api/webhooks/whatsapp")],-1)),o("p",null,[e[221]||(e[221]=o("strong",null,"Token de verificación:",-1)),e[222]||(e[222]=T()),o("code",Qt,u(b.empresa.whatsapp_webhook_verify_token),1)]),e[224]||(e[224]=o("p",null,[o("strong",null,"Estado:"),T(),o("span",{class:"text-green-600 font-medium"},"✅ Configurado en Meta Business")],-1))])])):i("",!0)])):i("",!0)])])):i("",!0),o("div",es,[o("button",{type:"button",onClick:se,disabled:t(r).processing,class:"px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors font-medium"},u(t(r).processing?"Guardando...":"Guardar Configuración"),9,os)])])])])])])],64)}}}),us=pe(ts,[["__scopeId","data-v-04369c5a"]]);export{us as default};
