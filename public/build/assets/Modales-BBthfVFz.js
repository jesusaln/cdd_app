import{c as b,r as T,w as Ye,p as Ze,O as _e,i as a,o as l,g as O,e as q,k as n,q as j,f as e,P as et,n as g,t as o,l as r,F as f,m as tt,I as K}from"./vendor-d19pJyVS.js";import{_ as st}from"./_plugin-vue_export-helper-DlAUqK2U.js";const ot=["aria-label","onKeydown"],at={key:0,class:"text-center"},lt={class:"text-lg font-medium mb-2"},nt={key:1,class:"text-center"},rt={class:"text-base font-medium mb-2"},it={key:0,class:"text-gray-600 mb-3"},dt={class:"mb-1 text-sm"},ct={key:0,class:"text-xs text-gray-500"},ut={key:1,class:"text-xs text-blue-600"},gt={class:"text-gray-500 mb-4 text-xs"},mt={class:"flex gap-2"},xt={key:2,class:"text-center"},bt={class:"text-lg font-medium mb-2"},yt={key:0,class:"text-gray-600 mb-6"},vt={key:1,class:"text-gray-600 mb-6"},ft={key:3,class:"space-y-4"},kt={class:"text-lg font-medium mb-1 flex items-center gap-2"},pt={key:0,class:"text-sm text-gray-500"},wt={key:0,class:"text-sm text-gray-600"},ht={key:1,class:"mt-2 p-4 bg-gray-50 rounded-lg border border-gray-200"},Ct={class:"grid md:grid-cols-3 gap-3 text-sm"},Et={class:"font-medium text-gray-900"},Pt={class:"text-gray-500"},Vt={class:"font-medium text-gray-900"},zt={class:"text-gray-500"},Rt={key:0},St={class:"font-medium text-gray-900"},Nt={class:"text-gray-500"},At={key:2,class:"space-y-4"},Ft={class:"grid grid-cols-1 sm:grid-cols-2 gap-4"},$t={key:0},jt={class:"text-sm text-gray-600"},Mt={key:0,class:"text-sm text-gray-600"},Dt={key:1,class:"text-sm text-gray-600"},Bt={class:"text-sm text-gray-600"},Lt={class:"text-sm text-gray-600"},It={key:1},Tt={class:"text-sm text-gray-600"},Ot={key:0,class:"text-sm text-gray-600"},qt={class:"text-sm text-gray-600"},Kt={key:1,class:"text-sm text-gray-600"},Ht={class:"text-sm text-gray-600"},Gt={key:2},Ut={class:"text-sm text-gray-600"},Xt={key:0,class:"text-sm text-gray-600"},Jt={key:1,class:"text-sm text-gray-600"},Qt={class:"text-sm text-gray-600"},Wt={class:"text-sm text-gray-600"},Yt={key:3},Zt={class:"text-sm text-gray-600"},_t={key:0,class:"text-sm text-gray-600"},es={class:"text-sm text-gray-600"},ts={class:"text-sm text-gray-600"},ss={key:4},os={class:"text-sm text-gray-600"},as={key:0,class:"text-sm text-gray-600"},ls={key:1,class:"text-sm text-gray-600"},ns={class:"text-sm text-gray-600"},rs={class:"text-sm text-gray-600"},is={key:5},ds={class:"text-sm text-gray-600"},cs={key:0,class:"text-sm text-gray-600"},us={key:1,class:"text-sm text-gray-600"},gs={key:2,class:"text-sm text-gray-600"},ms={key:3,class:"text-sm text-gray-600"},xs={key:4,class:"text-sm text-gray-600"},bs={key:5,class:"text-sm text-gray-600"},ys={key:6,class:"text-sm text-gray-600"},vs={key:7,class:"text-sm text-gray-600"},fs={key:8,class:"text-sm text-gray-600"},ks={class:"text-sm text-gray-600"},ps={class:"text-sm text-gray-600"},ws={key:6},hs={class:"text-sm text-gray-600"},Cs={key:0,class:"text-sm text-gray-600"},Es={key:1,class:"text-sm text-gray-600"},Ps={key:2,class:"text-sm text-gray-600"},Vs={class:"text-sm text-gray-600"},zs={class:"text-sm text-gray-600"},Rs={key:7},Ss={class:"text-sm text-gray-600"},Ns={key:0,class:"text-sm text-gray-600"},As={key:1,class:"text-sm text-gray-600"},Fs={key:2,class:"text-sm text-gray-600"},$s={key:3,class:"text-sm text-gray-600"},js={class:"text-sm text-gray-600"},Ms={class:"text-sm text-gray-600"},Ds={key:8},Bs={class:"text-sm text-gray-600"},Ls={key:0,class:"text-sm text-gray-600"},Is={class:"text-sm text-gray-600"},Ts={class:"text-sm text-gray-600"},Os={key:0,class:"text-sm text-gray-600"},qs={key:1,class:"text-sm text-gray-600"},Ks={key:2,class:"text-sm text-gray-600"},Hs={key:0,class:"text-sm text-gray-600"},Gs={key:4,class:"mt-3 pt-3 border-t border-gray-200"},Us={class:"text-sm text-gray-600"},Xs={key:0,class:"mt-4"},Js={class:"overflow-x-auto"},Qs={class:"min-w-full divide-y divide-gray-200"},Ws={class:"bg-gray-50"},Ys={key:0,class:"px-4 py-2 text-left text-xs font-semibold text-gray-500 uppercase tracking-wider"},Zs={key:1,class:"px-4 py-2 text-left text-xs font-semibold text-gray-500 uppercase tracking-wider"},_s={key:2,class:"px-4 py-2 text-left text-xs font-semibold text-gray-500 uppercase tracking-wider"},eo={class:"bg-white divide-y divide-gray-200"},to={class:"px-4 py-2 text-sm text-gray-900"},so={class:"px-4 py-2 text-sm text-gray-600"},oo={class:"px-4 py-2 text-sm text-gray-600"},ao={class:"px-4 py-2 text-sm text-gray-600"},lo={class:"px-4 py-2 text-sm text-gray-600"},no={class:"px-4 py-2 text-sm text-gray-600"},ro={key:0,class:"px-4 py-2 text-sm text-gray-600"},io={class:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-blue-100 text-blue-800"},co={key:1,class:"px-4 py-2 text-sm text-gray-600"},uo={class:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800"},go={key:2,class:"px-4 py-2 text-sm text-gray-600"},mo={key:0,class:"w-3 h-3 mr-1",fill:"currentColor",viewBox:"0 0 20 20"},xo={key:1,class:"w-3 h-3 mr-1",fill:"currentColor",viewBox:"0 0 20 20"},bo={key:1,class:"text-sm text-gray-600"},yo={key:2,class:"mt-4 p-4 bg-gray-50 rounded-lg border border-gray-200"},vo={class:"space-y-2 text-sm"},fo={class:"flex justify-between"},ko={class:"font-medium"},po={key:0,class:"flex justify-between"},wo={class:"font-medium text-red-600"},ho={key:1,class:"flex justify-between"},Co={class:"font-medium text-red-600"},Eo={class:"flex justify-between"},Po={class:"font-medium"},Vo={class:"flex justify-between border-t border-gray-300 pt-2"},zo={class:"text-gray-900 font-bold"},Ro={key:3,class:"mt-4 p-4 bg-gray-50 rounded-lg border border-gray-200"},So={class:"space-y-2 text-sm"},No={class:"flex justify-between"},Ao={class:"font-medium"},Fo={key:0,class:"flex justify-between"},$o={class:"font-medium text-red-600"},jo={key:1,class:"flex justify-between"},Mo={class:"font-medium text-red-600"},Do={class:"flex justify-between"},Bo={class:"font-medium"},Lo={class:"flex justify-between border-t border-gray-300 pt-2"},Io={class:"text-gray-900 font-bold"},To={key:3,class:"text-sm text-gray-600"},Oo={class:"flex flex-wrap justify-end gap-2 mt-6"},qo={key:5,class:"flex gap-2 flex-wrap"},Ko={class:"bg-white rounded-lg shadow-xl w-full max-w-md p-6"},Ho={class:"text-center"},Go={class:"text-gray-600 mb-6"},Uo={class:"flex gap-3"},Xo={class:"bg-white rounded-lg shadow-xl w-full max-w-md p-6"},Jo={class:"text-center"},Qo={class:"text-gray-600 mb-6"},Wo={class:"flex gap-3"},Yo={__name:"Modales",props:{show:{type:Boolean,default:!1},mode:{type:String,default:"details",validator:s=>["confirm","confirm-duplicate","confirm-email","details"].includes(s)},selected:{type:Object,default:null},tipo:{type:String,required:!0,validator:s=>["cotizaciones","pedidos","ventas","compras","ordenescompra","rentas","equipos","clientes","productos","herramientas","servicios"].includes(s)},auditoria:{type:Object,default:null}},emits:["close","confirm-delete","confirm-duplicate","confirm-email","marcar-urgente","recibir-compra","imprimir","editar","enviar-pedido","enviar-a-venta","enviarVenta","enviarCotizacion","confirmar-recepcion","enviarOrden","recibirOrden","renovar","suspender","reactivar","cambiar-estado","programar-mantenimiento","marcar-disponible","marcar-reparacion","marcar-fuera-servicio"],setup(s,{emit:Le}){const c=s,m=Le,M=b(()=>c.tipo==="cotizaciones"),D=b(()=>c.tipo==="pedidos"),H=b(()=>c.tipo==="ventas"),k=b(()=>c.tipo==="compras"),P=b(()=>c.tipo==="ordenescompra"),B=b(()=>c.tipo==="rentas"),z=b(()=>c.tipo==="equipos"),E=b(()=>c.tipo==="clientes"),R=T(!1),S=T(!1),G=T(null),Ie=()=>{var i;try{(i=G.value)==null||i.focus()}catch{}};Ye(()=>c.show,i=>{i&&setTimeout(Ie,0)});const U=i=>{i.key==="Escape"&&c.show&&$()};Ze(()=>window.addEventListener("keydown",U)),_e(()=>window.removeEventListener("keydown",U));const u=b(()=>{const i=v=>v||{},t={cotizaciones:{titulo:"CotizaciÃ³n",mostrarCampoExtra:!0,campoExtra:{key:"numero_cotizacion",label:"NÂ° CotizaciÃ³n"},acciones:{editar:!0,imprimir:!0,enviarPedido:!0,enviarAVenta:!1},estados:i({borrador:{label:"Borrador",classes:"bg-gray-100 text-gray-800",color:"bg-gray-400"},pendiente:{label:"Pendiente",classes:"bg-yellow-100 text-yellow-800",color:"bg-yellow-400"},enviado_pedido:{label:"Enviado a Pedido",classes:"bg-blue-100 text-blue-800",color:"bg-blue-400"},enviado_venta:{label:"Enviado a Venta",classes:"bg-indigo-100 text-indigo-800",color:"bg-indigo-400"},aprobado:{label:"Aprobada",classes:"bg-green-100 text-green-800",color:"bg-green-400"},rechazado:{label:"Rechazada",classes:"bg-red-100 text-red-800",color:"bg-red-400"},cancelado:{label:"Cancelada",classes:"bg-gray-100 text-gray-800",color:"bg-gray-400"}})},pedidos:{titulo:"Pedido",mostrarCampoExtra:!0,campoExtra:{key:"numero_pedido",label:"NÂ° Pedido"},acciones:{editar:!0,imprimir:!0,enviarPedido:!1,enviarAVenta:!0},estados:i({borrador:{label:"Borrador",classes:"bg-gray-100 text-gray-800",color:"bg-gray-400"},pendiente:{label:"Pendiente",classes:"bg-yellow-100 text-yellow-800",color:"bg-yellow-400"},confirmado:{label:"Confirmado",classes:"bg-blue-100 text-blue-800",color:"bg-blue-400"},en_preparacion:{label:"En PreparaciÃ³n",classes:"bg-orange-100 text-orange-800",color:"bg-orange-400"},listo_entrega:{label:"Listo para Entrega",classes:"bg-purple-100 text-purple-800",color:"bg-purple-400"},entregado:{label:"Entregado",classes:"bg-green-100 text-green-800",color:"bg-green-400"},enviado_venta:{label:"Enviado a Venta",classes:"bg-indigo-100 text-indigo-800",color:"bg-indigo-400"},cancelado:{label:"Cancelado",classes:"bg-red-100 text-red-800",color:"bg-red-400"}})},ventas:{titulo:"Venta",mostrarCampoExtra:!0,campoExtra:{key:null,label:"NÂ° Venta/Factura"},acciones:{editar:!1,imprimir:!0,enviarPedido:!1,enviarAVenta:!1},estados:i({borrador:{label:"Borrador",classes:"bg-gray-100 text-gray-800",color:"bg-gray-400"},facturado:{label:"Facturado",classes:"bg-blue-100 text-blue-800",color:"bg-blue-400"},pagado:{label:"Pagado",classes:"bg-green-100 text-green-800",color:"bg-green-400"},vencido:{label:"Vencido",classes:"bg-red-100 text-red-800",color:"bg-red-400"},anulado:{label:"Anulado",classes:"bg-gray-100 text-gray-800",color:"bg-gray-400"}})},rentas:{titulo:"Renta",mostrarCampoExtra:!0,campoExtra:{key:"numero_contrato",label:"NÂ° Contrato"},acciones:{editar:!0,imprimir:!0,enviarPedido:!1,enviarAVenta:!1},estados:i({borrador:{label:"Borrador",classes:"bg-gray-100 text-gray-700",color:"bg-gray-400"},activo:{label:"Activo",classes:"bg-green-100 text-green-700",color:"bg-green-400"},proximo_vencimiento:{label:"PrÃ³ximo Vencimiento",classes:"bg-orange-100 text-orange-700",color:"bg-orange-400"},vencido:{label:"Vencido",classes:"bg-red-100 text-red-700",color:"bg-red-400"},moroso:{label:"Moroso",classes:"bg-red-200 text-red-800",color:"bg-red-500"},suspendido:{label:"Suspendido",classes:"bg-yellow-100 text-yellow-700",color:"bg-yellow-400"},finalizado:{label:"Finalizado",classes:"bg-gray-100 text-gray-600",color:"bg-gray-400"},anulado:{label:"Anulado",classes:"bg-gray-100 text-gray-500",color:"bg-gray-400"},sin_estado:{label:"Sin Estado",classes:"bg-gray-100 text-gray-500",color:"bg-gray-400"}})},equipos:{titulo:"Equipo",mostrarCampoExtra:!0,campoExtra:{key:"numero_serie",label:"Serie"},acciones:{editar:!0,imprimir:!0,enviarPedido:!1,enviarAVenta:!1},estados:i({disponible:{label:"Disponible",classes:"bg-emerald-100 text-emerald-700",color:"bg-emerald-500"},rentado:{label:"Rentado",classes:"bg-indigo-100 text-indigo-700",color:"bg-indigo-500"},mantenimiento:{label:"Mantenimiento",classes:"bg-amber-100 text-amber-700",color:"bg-amber-500"},reparacion:{label:"ReparaciÃ³n",classes:"bg-orange-100 text-orange-700",color:"bg-orange-500"},fuera_servicio:{label:"Fuera de servicio",classes:"bg-rose-100 text-rose-700",color:"bg-rose-500"},sin_estado:{label:"Sin Estado",classes:"bg-gray-100 text-gray-600",color:"bg-gray-400"}})},clientes:{titulo:"Cliente",mostrarCampoExtra:!0,campoExtra:{key:"rfc",label:"RFC"},acciones:{editar:!0,imprimir:!1,enviarPedido:!1,enviarAVenta:!1},estados:i({1:{label:"Activo",classes:"bg-emerald-100 text-emerald-700",color:"bg-emerald-400"},0:{label:"Inactivo",classes:"bg-red-100 text-red-700",color:"bg-red-400"}})},productos:{titulo:"Producto",mostrarCampoExtra:!1,campoExtra:null,acciones:{editar:!0,imprimir:!1,enviarPedido:!1,enviarAVenta:!1},estados:i()},herramientas:{titulo:"Herramienta",mostrarCampoExtra:!0,campoExtra:{key:"numero_serie",label:"NÂ° Serie"},acciones:{editar:!0,imprimir:!1,enviarPedido:!1,enviarAVenta:!1},estados:i({asignada:{label:"Asignada",classes:"bg-green-100 text-green-700",color:"bg-green-400"},sin_asignar:{label:"Sin asignar",classes:"bg-orange-100 text-orange-700",color:"bg-orange-400"}})},servicios:{titulo:"Servicio",mostrarCampoExtra:!0,campoExtra:{key:"codigo",label:"CÃ³digo"},acciones:{editar:!0,imprimir:!1,enviarPedido:!1,enviarAVenta:!1},estados:i({activo:{label:"Activo",classes:"bg-green-100 text-green-700",color:"bg-green-400"},inactivo:{label:"Inactivo",classes:"bg-red-100 text-red-700",color:"bg-red-400"}})},compras:{titulo:"Compra",mostrarCampoExtra:!0,campoExtra:{key:"numero_compra",label:"NÂ° Compra"},acciones:{editar:!0,imprimir:!0,enviarPedido:!1,enviarAVenta:!1,recibirCompra:!1},estados:i({borrador:{label:"Borrador",classes:"bg-gray-100 text-gray-800",color:"bg-gray-400"},pendiente:{label:"Pendiente",classes:"bg-yellow-100 text-yellow-800",color:"bg-yellow-400"},aprobado:{label:"Aprobada",classes:"bg-blue-100 text-blue-800",color:"bg-blue-400"},recibido:{label:"Recibida",classes:"bg-green-100 text-green-800",color:"bg-green-400"},rechazado:{label:"Rechazada",classes:"bg-red-100 text-red-800",color:"bg-red-400"},cancelado:{label:"Cancelada",classes:"bg-gray-100 text-gray-800",color:"bg-gray-400"}})},ordenescompra:{titulo:"Orden de Compra",mostrarCampoExtra:!0,campoExtra:{key:"numero_orden",label:"NÂ° Orden"},acciones:{editar:!0,imprimir:!0,enviarPedido:!1,enviarAVenta:!1,recibirCompra:!1},estados:i({borrador:{label:"Borrador",classes:"bg-gray-100 text-gray-800",color:"bg-gray-400"},pendiente:{label:"Pendiente",classes:"bg-yellow-100 text-yellow-800",color:"bg-yellow-400"},aprobado:{label:"Aprobado",classes:"bg-blue-100 text-blue-800",color:"bg-blue-400"},recibida:{label:"Recibida",classes:"bg-green-100 text-green-800",color:"bg-green-400"},cancelada:{label:"Cancelada",classes:"bg-red-100 text-red-800",color:"bg-red-400"}})}};return t[c.tipo]||t.cotizaciones}),Te=b(()=>M.value?"NÂ° CotizaciÃ³n":D.value?"NÂ° Pedido":P.value?"NÂ° Orden":c.tipo==="ventas"?"NÂ° Venta/Factura":B.value?"NÂ° Contrato":"Folio"),X=b(()=>{const i=c.selected||{};return i.numero_cotizacion||i.numero_pedido||i.numero_orden||i.numero_venta||i.numero_factura||i.numero_contrato||null}),C=b(()=>{var i;return c.auditoria??((i=c.selected)==null?void 0:i.metadata)??null}),Oe=b(()=>!!C.value),A=b(()=>{var i;return["enviado_pedido","convertido_pedido"].includes((i=c.selected)==null?void 0:i.estado)}),F=b(()=>{var i;return["enviado_venta","facturado","pagado","convertido_venta"].includes((i=c.selected)==null?void 0:i.estado)}),L=b(()=>{var i;return["recibido","recibida"].includes((i=c.selected)==null?void 0:i.estado)}),qe=i=>Number.isFinite(parseFloat(i)),y=i=>{if(!i)return"Fecha no disponible";try{const t=new Date(i).getTime();return Number.isNaN(t)?"Fecha invÃ¡lida":new Date(t).toLocaleDateString("es-MX",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"})}catch{return"Fecha invÃ¡lida"}},x=i=>{const t=parseFloat(i),v=Number.isFinite(t)?t:0;return new Intl.NumberFormat("es-MX",{minimumFractionDigits:2,maximumFractionDigits:2}).format(v)},p=i=>{var t;return((t=u.value.estados[i])==null?void 0:t.classes)||"bg-gray-100 text-gray-800"},w=i=>{var t;return((t=u.value.estados[i])==null?void 0:t.color)||"bg-gray-400"},h=i=>{var t;return((t=u.value.estados[i])==null?void 0:t.label)||"Pendiente"},Ke=()=>{A.value?R.value=!0:m("enviar-pedido",c.selected)},He=()=>{F.value?S.value=!0:m("enviar-a-venta",c.selected)},Ge=()=>{R.value=!1,m("enviar-pedido",{...c.selected,forzarReenvio:!0})},Ue=()=>{S.value=!1,m("enviar-a-venta",{...c.selected,forzarReenvio:!0})},Xe=()=>{m("recibir-compra",c.selected)},I=()=>m("close"),Je=()=>m("confirm-delete"),Qe=()=>m("confirm-duplicate"),We=()=>m("confirm-email"),$=()=>m("close"),N=()=>m("imprimir",c.selected),J=()=>{var i;return m("editar",(i=c.selected)==null?void 0:i.id)};return(i,t)=>(l(),a(f,null,[O(K,{name:"modal"},{default:q(()=>{var v,V,Q,W,Y,Z,_,ee,te,se,oe,ae,le,ne,re,ie,de,ce,ue,ge,me,xe,be,ye,ve,fe,ke,pe,we,he,Ce,Ee,Pe,Ve,ze,Re,Se,Ne,Ae,Fe,$e,je,Me,De,Be;return[s.show?(l(),a("div",{key:0,class:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",onClick:j($,["self"])},[e("div",{class:g([{"max-w-sm":s.mode==="confirm-email","max-w-md":s.mode==="confirm"||s.mode==="confirm-duplicate","max-w-4xl":s.mode==="details"},"bg-white rounded-lg shadow-xl w-full max-h-[90vh] overflow-y-auto p-6 outline-none"]),role:"dialog","aria-modal":"true","aria-label":`Modal de ${u.value.titulo}`,tabindex:"-1",ref_key:"modalRef",ref:G,onKeydown:et(j($,["prevent"]),["esc"])},[s.mode==="confirm"?(l(),a("div",at,[t[13]||(t[13]=e("div",{class:"w-12 h-12 mx-auto bg-red-100 rounded-full flex items-center justify-center mb-4"},[e("svg",{class:"w-6 h-6 text-red-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L4.082 16.5c-.77.833.192 2.5 1.732 2.5z"})])],-1)),e("h3",lt," Â¿Eliminar "+o(u.value.titulo.toLowerCase())+"? ",1),t[14]||(t[14]=e("p",{class:"text-gray-600 mb-6"}," Esta acciÃ³n no se puede deshacer. ",-1)),e("div",{class:"flex gap-3"},[e("button",{onClick:I,class:"flex-1 px-4 py-2 bg-gray-200 rounded-lg hover:bg-gray-300 transition-colors"}," Cancelar "),e("button",{onClick:Je,class:"flex-1 px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors"}," Eliminar ")])])):n("",!0),s.mode==="confirm-email"?(l(),a("div",nt,[t[15]||(t[15]=e("div",{class:"w-10 h-10 mx-auto bg-green-100 rounded-full flex items-center justify-center mb-3"},[e("svg",{class:"w-5 h-5 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M3 8l7.89 4.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"})])],-1)),e("h3",rt,o(((v=s.selected)==null?void 0:v.tipo_envio)==="recordatorio_pago"?(V=s.selected)!=null&&V.email_enviado?"Â¿Reenviar recordatorio de pago?":"Â¿Enviar recordatorio de pago?":(Q=s.selected)!=null&&Q.email_enviado?`Â¿Reenviar ${u.value.titulo.toLowerCase()}?`:`Â¿Enviar ${u.value.titulo.toLowerCase()}?`),1),(W=s.selected)!=null&&W.numero_cotizacion||(Y=s.selected)!=null&&Y.numero_pedido||(Z=s.selected)!=null&&Z.numero_venta?(l(),a("div",it,[e("p",dt,[r(o(u.value.titulo)+" ",1),e("strong",null,"#"+o(s.selected.numero_cotizacion||s.selected.numero_pedido||s.selected.numero_venta),1)]),(_=s.selected)!=null&&_.email_destino?(l(),a("p",ct," ðŸ“§ "+o(s.selected.email_destino),1)):n("",!0),(ee=s.selected)!=null&&ee.email_enviado?(l(),a("p",ut," âœ‰ï¸ Enviado: "+o(s.selected.email_enviado_fecha||"N/A"),1)):n("",!0)])):n("",!0),e("p",gt,o(((te=s.selected)==null?void 0:te.tipo_envio)==="recordatorio_pago"?"El cliente recibirÃ¡ el recordatorio de pago con la factura adjunta por email":"El cliente recibirÃ¡ el PDF por email"),1),e("div",mt,[e("button",{onClick:I,class:"flex-1 px-3 py-2 bg-gray-200 rounded-lg hover:bg-gray-300 transition-colors text-xs"}," Cancelar "),e("button",{onClick:We,class:"flex-1 px-3 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors text-xs"},o(((se=s.selected)==null?void 0:se.tipo_envio)==="recordatorio_pago"?(oe=s.selected)!=null&&oe.email_enviado?"Reenviar Recordatorio":"Enviar Recordatorio":(ae=s.selected)!=null&&ae.email_enviado?"Reenviar":"Enviar"),1)])])):n("",!0),s.mode==="confirm-duplicate"?(l(),a("div",xt,[t[17]||(t[17]=e("div",{class:"w-12 h-12 mx-auto bg-blue-100 rounded-full flex items-center justify-center mb-4"},[e("svg",{class:"w-6 h-6 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M8 7v8a2 2 0 002 2h6M8 7V5a2 2 0 012-2h4.586a1 1 0 01.707.293l4.414 4.414a1 1 0 01.293.707V7M8 7H6a2 2 0 00-2 2v10a2 2 0 002 2h8a2 2 0 002-2v-2"})])],-1)),e("h3",bt," Â¿Duplicar "+o(u.value.titulo.toLowerCase())+"? ",1),(le=s.selected)!=null&&le.numero_cotizacion?(l(),a("p",yt,[r(" Se crearÃ¡ una copia de la "+o(u.value.titulo.toLowerCase())+" ",1),e("strong",null,"#"+o(s.selected.numero_cotizacion),1),t[16]||(t[16]=r(' con estado "Borrador". '))])):(l(),a("p",vt," Se crearÃ¡ una copia de esta "+o(u.value.titulo.toLowerCase())+' con estado "Borrador". ',1)),e("div",{class:"flex gap-3"},[e("button",{onClick:I,class:"flex-1 px-4 py-2 bg-gray-200 rounded-lg hover:bg-gray-300 transition-colors"}," Cancelar "),e("button",{onClick:Qe,class:"flex-1 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors"}," Duplicar ")])])):s.mode==="details"?(l(),a("div",ft,[e("h3",kt,[r(" Detalles de "+o(u.value.titulo)+" ",1),(ne=s.selected)!=null&&ne.id?(l(),a("span",pt,"#"+o(s.selected.id),1)):n("",!0)]),X.value?(l(),a("p",wt,[e("strong",null,o(Te.value)+":",1),r(" "+o(X.value),1)])):n("",!0),Oe.value?(l(),a("div",ht,[t[21]||(t[21]=e("h4",{class:"text-sm font-semibold text-gray-800 mb-3"},"AuditorÃ­a",-1)),e("div",Ct,[e("div",null,[t[18]||(t[18]=e("span",{class:"text-gray-500"},"Creado por:",-1)),e("div",Et,o(C.value.creado_por||"â€”"),1),e("div",Pt,o(C.value.creado_en||"â€”"),1)]),e("div",null,[t[19]||(t[19]=e("span",{class:"text-gray-500"},"Actualizado por:",-1)),e("div",Vt,o(C.value.actualizado_por||"â€”"),1),e("div",zt,o(C.value.actualizado_en||"â€”"),1)]),C.value.eliminado_en?(l(),a("div",Rt,[t[20]||(t[20]=e("span",{class:"text-gray-500"},"Eliminado por:",-1)),e("div",St,o(C.value.eliminado_por||"â€”"),1),e("div",Nt,o(C.value.eliminado_en||"â€”"),1)])):n("",!0)])])):n("",!0),s.selected?(l(),a("div",At,[e("div",Ft,[z.value?(l(),a("div",$t,[e("p",jt,[t[22]||(t[22]=e("strong",null,"Equipo:",-1)),r(" "+o(s.selected.nombre||"Sin nombre"),1)]),s.selected.marca||s.selected.modelo?(l(),a("p",Mt,[t[23]||(t[23]=e("strong",null,"Marca/Modelo:",-1)),r(" "+o([s.selected.marca,s.selected.modelo].filter(Boolean).join(" Â· ")),1)])):n("",!0),s.selected.codigo_interno?(l(),a("p",Dt,[t[24]||(t[24]=e("strong",null,"CÃ³digo interno:",-1)),r(" "+o(s.selected.codigo_interno),1)])):n("",!0),e("p",Bt,[t[25]||(t[25]=e("strong",null,"Fecha:",-1)),r(" "+o(y(s.selected.created_at||s.selected.fecha)),1)]),e("p",Lt,[t[26]||(t[26]=e("strong",null,"Estado:",-1)),e("span",{class:g([p(s.selected.estado),"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium"])},[e("span",{class:g(["w-1.5 h-1.5 rounded-full mr-1.5",w(s.selected.estado)])},null,2),r(" "+o(h(s.selected.estado)),1)],2)])])):B.value?(l(),a("div",It,[e("p",Tt,[t[27]||(t[27]=e("strong",null,"Cliente:",-1)),r(" "+o(((re=s.selected.cliente)==null?void 0:re.nombre)||"Sin cliente"),1)]),(ie=s.selected.cliente)!=null&&ie.email?(l(),a("p",Ot,[t[28]||(t[28]=e("strong",null,"Email:",-1)),r(" "+o(s.selected.cliente.email),1)])):n("",!0),e("p",qt,[t[29]||(t[29]=e("strong",null,"Fecha inicio:",-1)),r(" "+o(y(s.selected.fecha_inicio||s.selected.created_at)),1)]),s.selected.fecha_fin?(l(),a("p",Kt,[t[30]||(t[30]=e("strong",null,"Fecha fin:",-1)),r(" "+o(y(s.selected.fecha_fin)),1)])):n("",!0),e("p",Ht,[t[31]||(t[31]=e("strong",null,"Estado:",-1)),e("span",{class:g([p(s.selected.estado),"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium"])},[e("span",{class:g(["w-1.5 h-1.5 rounded-full mr-1.5",w(s.selected.estado)])},null,2),r(" "+o(h(s.selected.estado)),1)],2)])])):P.value?(l(),a("div",Gt,[e("p",Ut,[t[32]||(t[32]=e("strong",null,"Proveedor:",-1)),r(" "+o(((de=s.selected.proveedor)==null?void 0:de.nombre_razon_social)||"Sin proveedor"),1)]),(ce=s.selected.proveedor)!=null&&ce.email?(l(),a("p",Xt,[t[33]||(t[33]=e("strong",null,"Email:",-1)),r(" "+o(s.selected.proveedor.email),1)])):n("",!0),(ue=s.selected.proveedor)!=null&&ue.telefono?(l(),a("p",Jt,[t[34]||(t[34]=e("strong",null,"TelÃ©fono:",-1)),r(" "+o(s.selected.proveedor.telefono),1)])):n("",!0),e("p",Qt,[t[35]||(t[35]=e("strong",null,"Fecha de creaciÃ³n:",-1)),r(" "+o(y(s.selected.created_at)),1)]),e("p",Wt,[t[36]||(t[36]=e("strong",null,"Estado:",-1)),e("span",{class:g([p(s.selected.estado),"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium"])},[e("span",{class:g(["w-1.5 h-1.5 rounded-full mr-1.5",w(s.selected.estado)])},null,2),r(" "+o(h(s.selected.estado)),1)],2)])])):k.value?(l(),a("div",Yt,[e("p",Zt,[t[37]||(t[37]=e("strong",null,"Proveedor:",-1)),r(" "+o(((ge=s.selected.proveedor)==null?void 0:ge.nombre_razon_social)||"Sin proveedor"),1)]),(me=s.selected.proveedor)!=null&&me.email?(l(),a("p",_t,[t[38]||(t[38]=e("strong",null,"Email:",-1)),r(" "+o(s.selected.proveedor.email),1)])):n("",!0),e("p",es,[t[39]||(t[39]=e("strong",null,"Fecha:",-1)),r(" "+o(y(s.selected.created_at||s.selected.fecha)),1)]),e("p",ts,[t[40]||(t[40]=e("strong",null,"Estado:",-1)),e("span",{class:g([p(s.selected.estado),"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium"])},[e("span",{class:g(["w-1.5 h-1.5 rounded-full mr-1.5",w(s.selected.estado)])},null,2),r(" "+o(h(s.selected.estado)),1)],2)])])):E.value?(l(),a("div",ss,[e("p",os,[t[41]||(t[41]=e("strong",null,"Nombre/RazÃ³n Social:",-1)),r(" "+o(s.selected.nombre_razon_social||"Sin nombre"),1)]),s.selected.email?(l(),a("p",as,[t[42]||(t[42]=e("strong",null,"Email:",-1)),r(" "+o(s.selected.email),1)])):n("",!0),s.selected.telefono?(l(),a("p",ls,[t[43]||(t[43]=e("strong",null,"TelÃ©fono:",-1)),r(" "+o(s.selected.telefono),1)])):n("",!0),e("p",ns,[t[44]||(t[44]=e("strong",null,"Fecha de registro:",-1)),r(" "+o(y(s.selected.created_at)),1)]),e("p",rs,[t[45]||(t[45]=e("strong",null,"Estado:",-1)),e("span",{class:g([p(s.selected.activo?"1":"0"),"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium"])},[e("span",{class:g(["w-1.5 h-1.5 rounded-full mr-1.5",w(s.selected.activo?"1":"0")])},null,2),r(" "+o(h(s.selected.activo?"1":"0")),1)],2)])])):c.tipo==="productos"?(l(),a("div",is,[e("p",ds,[t[46]||(t[46]=e("strong",null,"Nombre:",-1)),r(" "+o(s.selected.nombre||"Sin nombre"),1)]),s.selected.descripcion?(l(),a("p",cs,[t[47]||(t[47]=e("strong",null,"DescripciÃ³n:",-1)),r(" "+o(s.selected.descripcion),1)])):n("",!0),s.selected.categoria?(l(),a("p",us,[t[48]||(t[48]=e("strong",null,"CategorÃ­a:",-1)),r(" "+o(((xe=s.selected.categoria)==null?void 0:xe.nombre)||"Sin categorÃ­a"),1)])):n("",!0),s.selected.marca?(l(),a("p",gs,[t[49]||(t[49]=e("strong",null,"Marca:",-1)),r(" "+o(((be=s.selected.marca)==null?void 0:be.nombre)||"Sin marca"),1)])):n("",!0),s.selected.proveedor?(l(),a("p",ms,[t[50]||(t[50]=e("strong",null,"Proveedor:",-1)),r(" "+o(((ye=s.selected.proveedor)==null?void 0:ye.nombre_razon_social)||"Sin proveedor"),1)])):n("",!0),s.selected.precio_venta?(l(),a("p",xs,[t[51]||(t[51]=e("strong",null,"Precio de Venta:",-1)),r(" $"+o(x(s.selected.precio_venta)),1)])):n("",!0),s.selected.stock!==void 0?(l(),a("p",bs,[t[52]||(t[52]=e("strong",null,"Stock:",-1)),r(" "+o(s.selected.stock)+" unidades ",1)])):n("",!0),s.selected.stock_minimo?(l(),a("p",ys,[t[53]||(t[53]=e("strong",null,"Stock MÃ­nimo:",-1)),r(" "+o(s.selected.stock_minimo)+" unidades ",1)])):n("",!0),s.selected.codigo?(l(),a("p",vs,[t[54]||(t[54]=e("strong",null,"CÃ³digo:",-1)),r(" "+o(s.selected.codigo),1)])):n("",!0),s.selected.codigo_barras?(l(),a("p",fs,[t[55]||(t[55]=e("strong",null,"CÃ³digo de Barras:",-1)),r(" "+o(s.selected.codigo_barras),1)])):n("",!0),e("p",ks,[t[56]||(t[56]=e("strong",null,"Fecha de creaciÃ³n:",-1)),r(" "+o(y(s.selected.created_at)),1)]),e("p",ps,[t[57]||(t[57]=e("strong",null,"Estado:",-1)),e("span",{class:g([p(s.selected.estado),"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium"])},[e("span",{class:g(["w-1.5 h-1.5 rounded-full mr-1.5",w(s.selected.estado)])},null,2),r(" "+o(h(s.selected.estado)),1)],2)])])):c.tipo==="herramientas"?(l(),a("div",ws,[e("p",hs,[t[58]||(t[58]=e("strong",null,"Nombre:",-1)),r(" "+o(s.selected.nombre||"Sin nombre"),1)]),s.selected.numero_serie?(l(),a("p",Cs,[t[59]||(t[59]=e("strong",null,"NÃºmero de serie:",-1)),r(" "+o(s.selected.numero_serie),1)])):n("",!0),s.selected.tecnico?(l(),a("p",Es,[t[60]||(t[60]=e("strong",null,"TÃ©cnico asignado:",-1)),r(" "+o(s.selected.tecnico.nombre)+" "+o(s.selected.tecnico.apellido),1)])):(l(),a("p",Ps,t[61]||(t[61]=[e("strong",null,"TÃ©cnico asignado:",-1),r(" Sin asignar ")]))),e("p",Vs,[t[62]||(t[62]=e("strong",null,"Fecha de creaciÃ³n:",-1)),r(" "+o(y(s.selected.created_at)),1)]),e("p",zs,[t[63]||(t[63]=e("strong",null,"Estado:",-1)),e("span",{class:g([p(s.selected.tecnico?"asignada":"sin_asignar"),"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium"])},[e("span",{class:g(["w-1.5 h-1.5 rounded-full mr-1.5",w(s.selected.tecnico?"asignada":"sin_asignar")])},null,2),r(" "+o(h(s.selected.tecnico?"asignada":"sin_asignar")),1)],2)])])):c.tipo==="servicios"?(l(),a("div",Rs,[e("p",Ss,[t[64]||(t[64]=e("strong",null,"Nombre:",-1)),r(" "+o(s.selected.nombre||"Sin nombre"),1)]),s.selected.codigo?(l(),a("p",Ns,[t[65]||(t[65]=e("strong",null,"CÃ³digo:",-1)),r(" "+o(s.selected.codigo),1)])):n("",!0),s.selected.descripcion?(l(),a("p",As,[t[66]||(t[66]=e("strong",null,"DescripciÃ³n:",-1)),r(" "+o(s.selected.descripcion),1)])):n("",!0),s.selected.precio?(l(),a("p",Fs,[t[67]||(t[67]=e("strong",null,"Precio:",-1)),r(" $"+o(x(s.selected.precio)),1)])):n("",!0),s.selected.duracion?(l(),a("p",$s,[t[68]||(t[68]=e("strong",null,"DuraciÃ³n:",-1)),r(" "+o(s.selected.duracion)+" minutos ",1)])):n("",!0),e("p",js,[t[69]||(t[69]=e("strong",null,"Fecha de creaciÃ³n:",-1)),r(" "+o(y(s.selected.created_at)),1)]),e("p",Ms,[t[70]||(t[70]=e("strong",null,"Estado:",-1)),e("span",{class:g([p(s.selected.estado),"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium"])},[e("span",{class:g(["w-1.5 h-1.5 rounded-full mr-1.5",w(s.selected.estado)])},null,2),r(" "+o(h(s.selected.estado)),1)],2)])])):(l(),a("div",Ds,[e("p",Bs,[t[71]||(t[71]=e("strong",null,"Cliente:",-1)),r(" "+o(((ve=s.selected.cliente)==null?void 0:ve.nombre)||"Sin cliente"),1)]),(fe=s.selected.cliente)!=null&&fe.email?(l(),a("p",Ls,[t[72]||(t[72]=e("strong",null,"Email:",-1)),r(" "+o(s.selected.cliente.email),1)])):n("",!0),e("p",Is,[t[73]||(t[73]=e("strong",null,"Fecha:",-1)),r(" "+o(y(s.selected.created_at||s.selected.fecha)),1)]),e("p",Ts,[t[74]||(t[74]=e("strong",null,"Estado:",-1)),e("span",{class:g([p(s.selected.estado),"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium"])},[e("span",{class:g(["w-1.5 h-1.5 rounded-full mr-1.5",w(s.selected.estado)])},null,2),r(" "+o(h(s.selected.estado)),1)],2)])])),e("div",null,[u.value.mostrarCampoExtra&&((ke=u.value.campoExtra)!=null&&ke.key)?(l(),a("p",Os,[e("strong",null,o(u.value.campoExtra.label)+":",1),r(" "+o(s.selected[u.value.campoExtra.key]??"N/A"),1)])):n("",!0),qe(s.selected.total)?(l(),a("p",qs,[t[75]||(t[75]=e("strong",null,"Total:",-1)),r(" $"+o(x(s.selected.total)),1)])):n("",!0),!z.value&&!P.value?(l(),a("p",Ks,[t[76]||(t[76]=e("strong",null,"Productos:",-1)),r(" "+o(((pe=s.selected.productos)==null?void 0:pe.length)||0)+" items ",1)])):(l(),a(f,{key:3},[s.selected.numero_serie?(l(),a("p",Hs,[t[77]||(t[77]=e("strong",null,"NÃºmero de serie:",-1)),r(" "+o(s.selected.numero_serie),1)])):n("",!0)],64)),E.value&&(s.selected.calle||s.selected.colonia||s.selected.municipio)?(l(),a("div",Gs,[t[78]||(t[78]=e("p",{class:"text-sm font-medium text-gray-900 mb-1"},"DirecciÃ³n",-1)),e("p",Us,o([s.selected.calle,s.selected.numero_exterior,s.selected.numero_interior?"Int. "+s.selected.numero_interior:null,s.selected.colonia,s.selected.codigo_postal,s.selected.municipio,s.selected.estado,s.selected.pais].filter(Boolean).join(", ")||"Sin direcciÃ³n"),1)])):n("",!0)])]),!z.value&&!E.value&&((we=s.selected.productos)!=null&&we.length)?(l(),a("div",Xs,[t[87]||(t[87]=e("h4",{class:"text-sm font-medium text-gray-900 mb-2"},"Productos",-1)),e("div",Js,[e("table",Qs,[e("thead",Ws,[e("tr",null,[t[79]||(t[79]=e("th",{class:"px-4 py-2 text-left text-xs font-semibold text-gray-500 uppercase tracking-wider"}," Nombre ",-1)),t[80]||(t[80]=e("th",{class:"px-4 py-2 text-left text-xs font-semibold text-gray-500 uppercase tracking-wider"}," Tipo ",-1)),t[81]||(t[81]=e("th",{class:"px-4 py-2 text-left text-xs font-semibold text-gray-500 uppercase tracking-wider"}," Cantidad ",-1)),t[82]||(t[82]=e("th",{class:"px-4 py-2 text-left text-xs font-semibold text-gray-500 uppercase tracking-wider"}," Precio ",-1)),t[83]||(t[83]=e("th",{class:"px-4 py-2 text-left text-xs font-semibold text-gray-500 uppercase tracking-wider"}," Descuento ",-1)),t[84]||(t[84]=e("th",{class:"px-4 py-2 text-left text-xs font-semibold text-gray-500 uppercase tracking-wider"}," Subtotal ",-1)),k.value?(l(),a("th",Ys," Stock Antes ")):n("",!0),k.value?(l(),a("th",Zs," Stock DespuÃ©s ")):n("",!0),k.value?(l(),a("th",_s," Diferencia ")):n("",!0)])]),e("tbody",eo,[(l(!0),a(f,null,tt(s.selected.productos,d=>(l(),a("tr",{key:d.id||d.nombre},[e("td",to,o(d.nombre||"Sin nombre"),1),e("td",so,o(d.tipo||"N/A"),1),e("td",oo,o(d.cantidad||0),1),e("td",ao," $"+o(x(d.precio)),1),e("td",lo," $"+o(x(d.descuento||0)),1),e("td",no," $"+o(x(d.subtotal||(d.cantidad||0)*(d.precio||0)*(1-(d.descuento||0)/100))),1),k.value?(l(),a("td",ro,[e("span",io,o(d.stock_antes||0),1)])):n("",!0),k.value?(l(),a("td",co,[e("span",uo,o(d.stock_despues||0),1)])):n("",!0),k.value?(l(),a("td",go,[e("span",{class:g(["inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium",{"bg-green-100 text-green-800":(d.diferencia_stock||0)>0,"bg-red-100 text-red-800":(d.diferencia_stock||0)<0,"bg-gray-100 text-gray-800":(d.diferencia_stock||0)===0}])},[(d.diferencia_stock||0)>0?(l(),a("svg",mo,t[85]||(t[85]=[e("path",{"fill-rule":"evenodd",d:"M5.293 7.707a1 1 0 010-1.414l4-4a1 1 0 011.414 0l4 4a1 1 0 01-1.414 1.414L11 5.414V17a1 1 0 11-2 0V5.414L6.707 7.707a1 1 0 01-1.414 0z","clip-rule":"evenodd"},null,-1)]))):(d.diferencia_stock||0)<0?(l(),a("svg",xo,t[86]||(t[86]=[e("path",{"fill-rule":"evenodd",d:"M14.707 12.293a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L9 14.586V3a1 1 0 012 0v11.586l2.293-2.293a1 1 0 011.414 0z","clip-rule":"evenodd"},null,-1)]))):n("",!0),r(" "+o((d.diferencia_stock||0)>0?"+":"")+o(d.diferencia_stock||0),1)],2)])):n("",!0)]))),128))])])])])):!z.value&&!E.value&&!P.value?(l(),a("p",bo,"No hay productos asociados.")):n("",!0),P.value&&((he=s.selected.productos)!=null&&he.length)?(l(),a("div",yo,[t[93]||(t[93]=e("h4",{class:"text-sm font-medium text-gray-900 mb-3"},"Resumen de Orden de Compra",-1)),e("div",vo,[e("div",fo,[t[88]||(t[88]=e("span",{class:"text-gray-600"},"Subtotal:",-1)),e("span",ko,"$"+o(x(s.selected.subtotal||0)),1)]),(s.selected.descuento_items||0)>0?(l(),a("div",po,[t[89]||(t[89]=e("span",{class:"text-gray-600"},"Descuentos por Items:",-1)),e("span",wo,"-$"+o(x(s.selected.descuento_items||0)),1)])):n("",!0),(s.selected.descuento_general||0)>0?(l(),a("div",ho,[t[90]||(t[90]=e("span",{class:"text-gray-600"},"Descuento General:",-1)),e("span",Co,"-$"+o(x(s.selected.descuento_general||0)),1)])):n("",!0),e("div",Eo,[t[91]||(t[91]=e("span",{class:"text-gray-600"},"IVA (16%):",-1)),e("span",Po,"$"+o(x(s.selected.iva||0)),1)]),e("div",Vo,[t[92]||(t[92]=e("span",{class:"text-gray-900 font-semibold"},"Total:",-1)),e("span",zo,"$"+o(x(s.selected.total||0)),1)])])])):n("",!0),k.value&&((Ce=s.selected.productos)!=null&&Ce.length)?(l(),a("div",Ro,[t[99]||(t[99]=e("h4",{class:"text-sm font-medium text-gray-900 mb-3"},"Resumen de Compra",-1)),e("div",So,[e("div",No,[t[94]||(t[94]=e("span",{class:"text-gray-600"},"Subtotal:",-1)),e("span",Ao,"$"+o(x(s.selected.subtotal||0)),1)]),(s.selected.descuento_items||0)>0?(l(),a("div",Fo,[t[95]||(t[95]=e("span",{class:"text-gray-600"},"Descuentos por Items:",-1)),e("span",$o,"-$"+o(x(s.selected.descuento_items||0)),1)])):n("",!0),(s.selected.descuento_general||0)>0?(l(),a("div",jo,[t[96]||(t[96]=e("span",{class:"text-gray-600"},"Descuento General:",-1)),e("span",Mo,"-$"+o(x(s.selected.descuento_general||0)),1)])):n("",!0),e("div",Do,[t[97]||(t[97]=e("span",{class:"text-gray-600"},"IVA (16%):",-1)),e("span",Bo,"$"+o(x(s.selected.iva||0)),1)]),e("div",Lo,[t[98]||(t[98]=e("span",{class:"text-gray-900 font-semibold"},"Total:",-1)),e("span",Io,"$"+o(x(s.selected.total||0)),1)])])])):n("",!0)])):(l(),a("div",To,"No hay datos disponibles.")),e("div",Oo,[M.value?(l(),a(f,{key:0},[u.value.acciones.enviarPedido&&((Ee=s.selected)==null?void 0:Ee.estado)!=="cancelado"?(l(),a("button",{key:0,onClick:Ke,class:g(["px-4 py-2 text-white rounded-lg transition-colors",{"bg-indigo-600 hover:bg-indigo-700":!A.value,"bg-blue-600 hover:bg-blue-700":A.value}])},o(A.value?"Reenviar a Pedido":"Enviar a Pedido"),3)):n("",!0),u.value.acciones.imprimir&&((Pe=s.selected)==null?void 0:Pe.estado)!=="cancelado"?(l(),a("button",{key:1,onClick:N,class:"px-4 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700 transition-colors"}," Imprimir ")):n("",!0)],64)):n("",!0),D.value?(l(),a(f,{key:1},[u.value.acciones.enviarAVenta?(l(),a("button",{key:0,onClick:He,class:g(["px-4 py-2 text-white rounded-lg transition-colors",{"bg-indigo-600 hover:bg-indigo-700":!F.value,"bg-blue-600 hover:bg-blue-700":F.value}])},o(F.value?"Reenviar a Venta":"Enviar a Venta"),3)):n("",!0),u.value.acciones.imprimir&&((Ve=s.selected)==null?void 0:Ve.estado)!=="cancelado"?(l(),a("button",{key:1,onClick:N,class:"px-4 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700 transition-colors"}," Imprimir ")):n("",!0)],64)):n("",!0),k.value?(l(),a(f,{key:2},[u.value.acciones.recibirCompra&&((ze=s.selected)==null?void 0:ze.estado)!=="cancelado"?(l(),a("button",{key:0,onClick:Xe,class:g(["px-4 py-2 text-white rounded-lg transition-colors",{"bg-green-600 hover:bg-green-700":!L.value,"bg-blue-600 hover:bg-blue-700":L.value}])},o(L.value?"Reconfirmar RecepciÃ³n":"Recibir Compra"),3)):n("",!0)],64)):n("",!0),P.value?(l(),a(f,{key:3},[((Re=s.selected)==null?void 0:Re.estado)!=="cancelado"&&((Se=s.selected)==null?void 0:Se.estado)!=="enviada"?(l(),a("button",{key:0,onClick:t[0]||(t[0]=d=>m("confirmar-recepcion",s.selected)),class:"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors"}," Enviar a Compra ")):n("",!0),((Ne=s.selected)==null?void 0:Ne.estado)!=="cancelado"&&!((Ae=s.selected)!=null&&Ae.urgente)?(l(),a("button",{key:1,onClick:t[1]||(t[1]=d=>m("marcar-urgente",s.selected)),class:"px-4 py-2 bg-orange-600 text-white rounded-lg hover:bg-orange-700 transition-colors"}," Marcar como Urgente ")):n("",!0)],64)):n("",!0),B.value?(l(),a(f,{key:4},[["activo","proximo_vencimiento","vencido"].includes((Fe=s.selected)==null?void 0:Fe.estado)?(l(),a("button",{key:0,class:"px-3 py-2 rounded-lg bg-indigo-600 hover:bg-indigo-700 text-white",onClick:t[2]||(t[2]=d=>m("renovar",s.selected)),title:"Renovar"}," Renovar ")):n("",!0),(($e=s.selected)==null?void 0:$e.estado)==="activo"?(l(),a("button",{key:1,class:"px-3 py-2 rounded-lg bg-orange-600 hover:bg-orange-700 text-white",onClick:t[3]||(t[3]=d=>m("suspender",s.selected)),title:"Suspender"}," Suspender ")):n("",!0),((je=s.selected)==null?void 0:je.estado)==="suspendido"?(l(),a("button",{key:2,class:"px-3 py-2 rounded-lg bg-emerald-600 hover:bg-emerald-700 text-white",onClick:t[4]||(t[4]=d=>m("reactivar",s.selected)),title:"Reactivar"}," Reactivar ")):n("",!0)],64)):n("",!0),z.value?(l(),a("div",qo,[e("button",{class:"px-3 py-2 rounded-lg bg-emerald-600 hover:bg-emerald-700 text-white",onClick:t[5]||(t[5]=d=>m("marcar-disponible",s.selected))}," Marcar disponible "),e("button",{class:"px-3 py-2 rounded-lg bg-amber-600 hover:bg-amber-700 text-white",onClick:t[6]||(t[6]=d=>m("marcar-reparacion",s.selected))}," En reparaciÃ³n "),e("button",{class:"px-3 py-2 rounded-lg bg-rose-600 hover:bg-rose-700 text-white",onClick:t[7]||(t[7]=d=>m("marcar-fuera-servicio",s.selected))}," Fuera de servicio "),e("button",{class:"px-3 py-2 rounded-lg bg-blue-600 hover:bg-blue-700 text-white",onClick:t[8]||(t[8]=d=>m("programar-mantenimiento",s.selected))}," Programar mantenimiento ")])):n("",!0),E.value?(l(),a(f,{key:6},[u.value.acciones.imprimir?(l(),a("button",{key:0,onClick:N,class:"px-4 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700 transition-colors"}," Imprimir ")):n("",!0),u.value.acciones.editar?(l(),a("button",{key:1,onClick:J,class:"px-4 py-2 bg-amber-600 text-white rounded-lg hover:bg-amber-700 transition-colors"}," Editar ")):n("",!0)],64)):n("",!0),H.value?(l(),a(f,{key:7},[u.value.acciones.imprimir&&((Me=s.selected)==null?void 0:Me.estado)!=="cancelado"?(l(),a("button",{key:0,onClick:N,class:"px-4 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700 transition-colors"}," Imprimir ")):n("",!0)],64)):n("",!0),!E.value&&!M.value&&!D.value&&!H.value&&u.value.acciones.imprimir&&((De=s.selected)==null?void 0:De.estado)!=="cancelado"?(l(),a("button",{key:8,onClick:N,class:"px-4 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700 transition-colors"}," Imprimir ")):n("",!0),!E.value&&u.value.acciones.editar&&((Be=s.selected)==null?void 0:Be.estado)!=="cancelado"?(l(),a("button",{key:9,onClick:J,class:"px-4 py-2 bg-amber-600 text-white rounded-lg hover:bg-amber-700 transition-colors"}," Editar ")):n("",!0),e("button",{onClick:$,class:"px-4 py-2 bg-gray-300 rounded-lg hover:bg-gray-400 transition-colors"}," Cerrar ")])])):n("",!0)],42,ot)])):n("",!0)]}),_:1}),O(K,{name:"modal"},{default:q(()=>{var v;return[R.value?(l(),a("div",{key:0,class:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",onClick:t[10]||(t[10]=j(V=>R.value=!1,["self"]))},[e("div",Ko,[e("div",Ho,[t[100]||(t[100]=e("div",{class:"w-12 h-12 mx-auto bg-blue-100 rounded-full flex items-center justify-center mb-4"},[e("svg",{class:"w-6 h-6 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L4.082 16.5c-.77.833.192 2.5 1.732 2.5z"})])],-1)),t[101]||(t[101]=e("h3",{class:"text-lg font-medium mb-2"},"Â¿Reenviar a Pedido?",-1)),e("p",Go," Este documento ya fue enviado anteriormente ("+o(y((v=s.selected)==null?void 0:v.updated_at))+"). Â¿Deseas crear un nuevo pedido? ",1),e("div",Uo,[e("button",{onClick:t[9]||(t[9]=V=>R.value=!1),class:"flex-1 px-4 py-2 bg-gray-200 rounded-lg hover:bg-gray-300 transition-colors"}," Cancelar "),e("button",{onClick:Ge,class:"flex-1 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors"}," Reenviar ")])])])])):n("",!0)]}),_:1}),O(K,{name:"modal"},{default:q(()=>{var v;return[S.value?(l(),a("div",{key:0,class:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",onClick:t[12]||(t[12]=j(V=>S.value=!1,["self"]))},[e("div",Xo,[e("div",Jo,[t[102]||(t[102]=e("div",{class:"w-12 h-12 mx-auto bg-emerald-100 rounded-full flex items-center justify-center mb-4"},[e("svg",{class:"w-6 h-6 text-emerald-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M7 16l-4-4m0 0l4-4m-4 4h18"})])],-1)),t[103]||(t[103]=e("h3",{class:"text-lg font-medium mb-2"},"Â¿Reenviar a Venta?",-1)),e("p",Qo," Este pedido ya fue convertido en venta anteriormente ("+o(y((v=s.selected)==null?void 0:v.updated_at))+"). Â¿Deseas crear una nueva venta? ",1),e("div",Wo,[e("button",{onClick:t[11]||(t[11]=V=>S.value=!1),class:"flex-1 px-4 py-2 bg-gray-200 rounded-lg hover:bg-gray-300 transition-colors"}," Cancelar "),e("button",{onClick:Ue,class:"flex-1 px-4 py-2 bg-emerald-600 text-white rounded-lg hover:bg-emerald-700 transition-colors"}," Reenviar ")])])])])):n("",!0)]}),_:1})],64))}},ea=st(Yo,[["__scopeId","data-v-2db403e0"]]);export{ea as M};
