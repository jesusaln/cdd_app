import{B as X,C as F,w as ae,i as n,o as i,f as e,l as z,t as a,v as T,z as le,x as G,s as ne,Q as ie,p as de,r as _,c as N,g as Q,u as ue,Z as ce,k as w,F as V,m as R,n as D,q as pe,N as h}from"./vendor-d19pJyVS.js";import{A as ge}from"./AppLayout-CcnrZQKI.js";import{N as ve}from"./app-BcT2PLJy.js";import{_ as Z}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./utils-Dq7h7Pqt.js";const me={class:"bg-white rounded-xl shadow-sm border border-gray-100 overflow-hidden"},xe={class:"bg-gradient-to-r from-blue-50 to-indigo-50 px-6 py-6 border-b border-gray-200/60"},fe={class:"grid grid-cols-2 md:grid-cols-5 gap-4"},be={class:"bg-white/70 rounded-lg p-4 border border-gray-200/50"},ye={class:"flex items-center justify-between"},he={class:"text-2xl font-bold text-gray-900"},we={class:"bg-white/70 rounded-lg p-4 border border-gray-200/50"},ke={class:"flex items-center justify-between"},_e={class:"text-2xl font-bold text-yellow-600"},Ce={class:"bg-white/70 rounded-lg p-4 border border-gray-200/50"},je={class:"flex items-center justify-between"},Me={class:"text-2xl font-bold text-blue-600"},$e={class:"bg-white/70 rounded-lg p-4 border border-gray-200/50"},Pe={class:"flex items-center justify-between"},Be={class:"text-2xl font-bold text-green-600"},Ee={class:"bg-white/70 rounded-lg p-4 border border-gray-200/50"},Ne={class:"flex items-center justify-between"},Se={class:"text-2xl font-bold text-red-600"},ze={class:"px-6 py-4 bg-gray-50/50 border-b border-gray-200/60"},Le={class:"flex flex-col md:flex-row md:items-center md:justify-between space-y-4 md:space-y-0"},Fe={class:"flex-1 max-w-md"},Te={class:"relative"},Ve={class:"flex items-center space-x-3"},De={__name:"CitasHeader",props:X({total:{type:Number,default:0},pendientes:{type:Number,default:0},enProceso:{type:Number,default:0},completadas:{type:Number,default:0},canceladas:{type:Number,default:0}},{searchTerm:{type:String,default:""},searchTermModifiers:{},sortBy:{type:String,default:"created_at-desc"},sortByModifiers:{},filtroEstadoCita:{type:String,default:""},filtroEstadoCitaModifiers:{}}),emits:X(["crear-nueva","search-change","filtro-estado-cita-change","sort-change","limpiar-filtros"],["update:searchTerm","update:sortBy","update:filtroEstadoCita"]),setup(f,{emit:C}){const j=C,d=F(f,"searchTerm"),x=F(f,"sortBy"),m=F(f,"filtroEstadoCita"),u=()=>j("crear-nueva"),P=()=>j("search-change",d.value),b=()=>j("filtro-estado-cita-change",m.value),c=()=>j("sort-change",x.value),y=()=>j("limpiar-filtros");return ae([d,x,m],()=>{},{immediate:!0}),(M,o)=>(i(),n("div",me,[e("div",xe,[e("div",{class:"flex items-center justify-between mb-6"},[o[4]||(o[4]=e("div",null,[e("h1",{class:"text-2xl font-bold text-gray-900 tracking-tight"},"Citas"),e("p",{class:"text-sm text-gray-600 mt-1"},"Gestiona todas tus citas en un solo lugar")],-1)),e("button",{onClick:u,class:"inline-flex items-center px-4 py-2 bg-blue-600 text-white text-sm font-medium rounded-lg hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 transition-colors duration-200"},o[3]||(o[3]=[e("svg",{class:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 4v16m8-8H4"})],-1),z(" Nueva Cita ")]))]),e("div",fe,[e("div",be,[e("div",ye,[e("div",null,[o[5]||(o[5]=e("p",{class:"text-sm font-medium text-gray-600"},"Total",-1)),e("p",he,a(f.total),1)]),o[6]||(o[6]=e("div",{class:"w-10 h-10 bg-blue-100 rounded-full flex items-center justify-center"},[e("svg",{class:"w-5 h-5 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})])],-1))])]),e("div",we,[e("div",ke,[e("div",null,[o[7]||(o[7]=e("p",{class:"text-sm font-medium text-gray-600"},"Pendientes",-1)),e("p",_e,a(f.pendientes),1)]),o[8]||(o[8]=e("div",{class:"w-10 h-10 bg-yellow-100 rounded-full flex items-center justify-center"},[e("svg",{class:"w-5 h-5 text-yellow-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})])],-1))])]),e("div",Ce,[e("div",je,[e("div",null,[o[9]||(o[9]=e("p",{class:"text-sm font-medium text-gray-600"},"En Proceso",-1)),e("p",Me,a(f.enProceso),1)]),o[10]||(o[10]=e("div",{class:"w-10 h-10 bg-blue-100 rounded-full flex items-center justify-center"},[e("svg",{class:"w-5 h-5 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M13 10V3L4 14h7v7l9-11h-7z"})])],-1))])]),e("div",$e,[e("div",Pe,[e("div",null,[o[11]||(o[11]=e("p",{class:"text-sm font-medium text-gray-600"},"Completadas",-1)),e("p",Be,a(f.completadas),1)]),o[12]||(o[12]=e("div",{class:"w-10 h-10 bg-green-100 rounded-full flex items-center justify-center"},[e("svg",{class:"w-5 h-5 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})])],-1))])]),e("div",Ee,[e("div",Ne,[e("div",null,[o[13]||(o[13]=e("p",{class:"text-sm font-medium text-gray-600"},"Canceladas",-1)),e("p",Se,a(f.canceladas),1)]),o[14]||(o[14]=e("div",{class:"w-10 h-10 bg-red-100 rounded-full flex items-center justify-center"},[e("svg",{class:"w-5 h-5 text-red-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})])],-1))])])])]),e("div",ze,[e("div",Le,[e("div",Fe,[e("div",Te,[o[15]||(o[15]=e("div",{class:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none"},[e("svg",{class:"h-5 w-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})])],-1)),T(e("input",{"onUpdate:modelValue":o[0]||(o[0]=$=>d.value=$),type:"text",placeholder:"Buscar por cliente, técnico o problema...",class:"block w-full pl-10 pr-3 py-2 border border-gray-300 rounded-lg leading-5 bg-white placeholder-gray-500 focus:outline-none focus:placeholder-gray-400 focus:ring-1 focus:ring-blue-500 focus:border-blue-500 text-sm",onInput:P},null,544),[[le,d.value]])])]),e("div",Ve,[T(e("select",{"onUpdate:modelValue":o[1]||(o[1]=$=>m.value=$),onChange:b,class:"block w-48 pl-3 pr-10 py-2 text-sm border border-gray-300 rounded-lg focus:outline-none focus:ring-1 focus:ring-blue-500 focus:border-blue-500 bg-white"},o[16]||(o[16]=[ne('<option value="" data-v-6440d916>Todos los Estados de Cita</option><option value="pendiente" data-v-6440d916>Pendiente</option><option value="en_proceso" data-v-6440d916>En Proceso</option><option value="completado" data-v-6440d916>Completado</option><option value="cancelado" data-v-6440d916>Cancelado</option>',5)]),544),[[G,m.value]]),T(e("select",{"onUpdate:modelValue":o[2]||(o[2]=$=>x.value=$),onChange:c,class:"block w-48 pl-3 pr-10 py-2 text-sm border border-gray-300 rounded-lg focus:outline-none focus:ring-1 focus:ring-blue-500 focus:border-blue-500 bg-white"},o[17]||(o[17]=[e("option",{value:"created_at-desc"},"Fecha (Más reciente)",-1),e("option",{value:"created_at-asc"},"Fecha (Más antiguo)",-1),e("option",{value:"fecha_hora-asc"},"Fecha de Cita ↑",-1),e("option",{value:"fecha_hora-desc"},"Fecha de Cita ↓",-1)]),544),[[G,x.value]]),e("button",{onClick:y,class:"inline-flex items-center px-3 py-2 border border-gray-300 text-sm leading-4 font-medium rounded-lg text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200"},o[18]||(o[18]=[e("svg",{class:"w-4 h-4 mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1),z(" Limpiar ")]))])])])]))}},Ae=Z(De,[["__scopeId","data-v-6440d916"]]),He={class:"citas-index min-h-screen bg-gray-50"},Ue={class:"max-w-8xl mx-auto px-6 py-8"},Ie={class:"bg-white rounded-xl shadow-sm border border-gray-100 overflow-hidden"},Oe={class:"overflow-x-auto"},qe={class:"min-w-full divide-y divide-gray-200"},Xe={class:"bg-white divide-y divide-gray-200"},Ge={class:"px-6 py-4"},Qe={class:"text-sm text-gray-900"},Re={class:"text-xs text-gray-500"},Ze={class:"px-6 py-4"},Je={class:"text-sm font-medium text-gray-900"},Ke={class:"text-xs text-gray-500"},We={class:"px-6 py-4"},Ye={class:"text-sm text-gray-700"},et={class:"px-6 py-4"},tt={class:"text-sm text-gray-700"},st={class:"px-6 py-4"},ot={class:"px-6 py-4 text-right"},rt={class:"flex items-center justify-end space-x-1"},at=["onClick"],lt=["onClick"],nt=["onClick"],it={key:0},dt={key:0,class:"bg-white border-t border-gray-200 px-4 py-3 sm:px-6"},ut={class:"flex flex-col sm:flex-row items-center justify-between gap-4"},ct={class:"flex items-center gap-4"},pt={class:"text-sm text-gray-700"},gt=["value"],vt={class:"relative z-0 inline-flex rounded-md shadow-sm -space-x-px"},mt={key:1,class:"relative inline-flex items-center px-2 py-2 rounded-l-md border border-gray-300 bg-gray-100 text-sm font-medium text-gray-400"},xt=["onClick"],ft={key:3,class:"relative inline-flex items-center px-2 py-2 rounded-r-md border border-gray-300 bg-gray-100 text-sm font-medium text-gray-400"},bt={class:"bg-white rounded-lg shadow-xl w-full max-w-2xl max-h-[90vh] overflow-y-auto"},yt={class:"flex items-center justify-between p-6 border-b border-gray-200"},ht={class:"text-lg font-medium text-gray-900"},wt={class:"p-6"},kt={key:0},_t={class:"space-y-4"},Ct={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},jt={class:"space-y-3"},Mt={class:"mt-1 text-sm text-gray-900 bg-gray-50 px-3 py-2 rounded-md"},$t={class:"mt-1 text-sm text-gray-900 bg-gray-50 px-3 py-2 rounded-md"},Pt={class:"mt-1 text-sm text-gray-900 bg-gray-50 px-3 py-2 rounded-md"},Bt={class:"space-y-3"},Et={class:"mt-1 text-sm text-gray-900 bg-gray-50 px-3 py-2 rounded-md"},Nt={class:"mt-1 text-sm text-gray-900 bg-gray-50 px-3 py-2 rounded-md"},St={class:"mt-1 text-sm text-gray-900 bg-gray-50 px-3 py-2 rounded-md"},zt={key:0},Lt={class:"mt-1 text-sm text-gray-900 bg-gray-50 px-3 py-2 rounded-md whitespace-pre-wrap"},Ft={key:1},Tt={class:"mt-1 text-sm text-gray-900 bg-gray-50 px-3 py-2 rounded-md whitespace-pre-wrap"},Vt={key:1},Dt={class:"text-center"},At={class:"text-sm text-gray-500 mb-4"},Ht={class:"flex justify-end gap-3 px-6 py-4 border-t border-gray-200 bg-gray-50"},Ut={key:0},It=Object.assign({layout:ge},{__name:"Index",props:{citas:{type:[Object,Array],required:!0},stats:{type:Object,default:()=>({})},filters:{type:Object,default:()=>({})},sorting:{type:Object,default:()=>({sort_by:"created_at",sort_direction:"desc"})},pagination:{type:Object,default:()=>({})}},setup(f){var q;const C=new ve({duration:4e3,position:{x:"right",y:"top"},types:[{type:"success",background:"#10b981",icon:!1},{type:"error",background:"#ef4444",icon:!1},{type:"warning",background:"#f59e0b",icon:!1}]}),j=ie();de(()=>{const s=j.props.flash;s!=null&&s.success&&C.success(s.success),s!=null&&s.error&&C.error(s.error)});const d=f,x=_(!1),m=_("details"),u=_(null),P=_(null),b=_(((q=d.filters)==null?void 0:q.search)??""),c=_("created_at-desc"),y=_(""),M=_(10),o=()=>{h.visit(route("citas.create"))},$=()=>{b.value="",c.value="created_at-desc",y.value="",h.visit(route("citas.index")),C.success("Filtros limpiados correctamente")},A=N(()=>d.citas),J=N(()=>{var s;return((s=A.value)==null?void 0:s.data)||[]}),B=N(()=>{var s,t,l,g,v;return{total:((s=d.stats)==null?void 0:s.total)??0,pendientes:((t=d.stats)==null?void 0:t.pendientes)??0,enProceso:((l=d.stats)==null?void 0:l.en_proceso)??0,completadas:((g=d.stats)==null?void 0:g.completadas)??0,canceladas:((v=d.stats)==null?void 0:v.canceladas)??0}}),H=N(()=>{let s=[...J.value];const t={en_proceso:1,pendiente:2,completado:3,cancelado:4};return s.sort((l,g)=>{const v=t[l.estado]||999,r=t[g.estado]||999;if(v!==r)return v-r;const k=new Date(l.fecha_hora),S=new Date(g.fecha_hora);return k-S}),s.map(l=>{var g,v;return{id:l.id,titulo:`Cita #${l.id}`,subtitulo:((g=l.cliente)==null?void 0:g.nombre_razon_social)||"Cliente no disponible",estado:l.activo?"activo":"inactivo",extra:`Técnico: ${((v=l.tecnico)==null?void 0:v.nombre)||"N/A"} | Estado: ${l.estado}`,fecha:l.created_at,raw:l}})});function K(s){b.value=s,h.get(route("citas.index"),{search:s,sort_by:c.value.split("-")[0],sort_direction:c.value.split("-")[1]||"desc",estado:y.value,per_page:M.value,page:1},{preserveState:!0,preserveScroll:!0})}function W(s){y.value=s,h.get(route("citas.index"),{search:b.value,sort_by:c.value.split("-")[0],sort_direction:c.value.split("-")[1]||"desc",estado:s,per_page:M.value,page:1},{preserveState:!0,preserveScroll:!0})}function Y(s){c.value=s,h.get(route("citas.index"),{search:b.value,sort_by:s.split("-")[0],sort_direction:s.split("-")[1]||"desc",estado:y.value,per_page:M.value,page:1},{preserveState:!0,preserveScroll:!0})}const ee=s=>{u.value=s.raw,m.value="details",x.value=!0},U=s=>{h.visit(route("citas.edit",s))},te=s=>{P.value=s,m.value="confirm",x.value=!0},se=()=>{h.delete(route("citas.destroy",P.value),{preserveScroll:!0,onSuccess:()=>{C.success("Cita eliminada correctamente"),x.value=!1,P.value=null,h.reload()},onError:s=>{C.error("No se pudo eliminar la cita")}})},p=N(()=>{var t,l,g,v,r,k;const s=A.value||{};return{currentPage:((t=d.pagination)==null?void 0:t.current_page)||s.current_page||1,lastPage:((l=d.pagination)==null?void 0:l.last_page)||s.last_page||1,perPage:((g=d.pagination)==null?void 0:g.per_page)||s.per_page||10,from:((v=d.pagination)==null?void 0:v.from)||s.from||0,to:((r=d.pagination)==null?void 0:r.to)||s.to||0,total:((k=d.pagination)==null?void 0:k.total)||s.total||0,prevPageUrl:s.prev_page_url??null,nextPageUrl:s.next_page_url??null,links:s.links??[]}}),oe=s=>{M.value=s,h.get(route("citas.index"),{search:b.value,sort_by:c.value.split("-")[0],sort_direction:c.value.split("-")[1]||"desc",estado:y.value,per_page:M.value,page:1},{preserveState:!0,preserveScroll:!0})},L=s=>{h.get(route("citas.index"),{search:b.value,sort_by:c.value.split("-")[0],sort_direction:c.value.split("-")[1]||"desc",estado:y.value,per_page:M.value,page:s},{preserveState:!0,preserveScroll:!0})},E=s=>{if(!s)return"Fecha no disponible";try{return new Date(s).toLocaleDateString("es-MX",{day:"2-digit",month:"2-digit",year:"numeric"})}catch{return"Fecha inválida"}},re=s=>{if(!s)return"Hora no disponible";try{return new Date(s).toLocaleTimeString("es-MX",{hour:"2-digit",minute:"2-digit"})}catch{return"Hora inválida"}},I=s=>({pendiente:"bg-yellow-100 text-yellow-700",en_proceso:"bg-blue-100 text-blue-700",completado:"bg-green-100 text-green-700",cancelado:"bg-red-100 text-red-700"})[s]||"bg-gray-100 text-gray-700",O=s=>({pendiente:"Pendiente",en_proceso:"En Proceso",completado:"Completado",cancelado:"Cancelado"})[s]||"Desconocido";return(s,t)=>{var l,g,v;return i(),n(V,null,[Q(ue(ce),{title:"Citas"}),e("div",He,[e("div",Ue,[Q(Ae,{total:B.value.total,pendientes:B.value.pendientes,enProceso:B.value.enProceso,completadas:B.value.completadas,canceladas:B.value.canceladas,"search-term":b.value,"onUpdate:searchTerm":t[0]||(t[0]=r=>b.value=r),"sort-by":c.value,"onUpdate:sortBy":t[1]||(t[1]=r=>c.value=r),"filtro-estado-cita":y.value,"onUpdate:filtroEstadoCita":t[2]||(t[2]=r=>y.value=r),onCrearNueva:o,onSearchChange:K,onFiltroEstadoCitaChange:W,onSortChange:Y,onLimpiarFiltros:$},null,8,["total","pendientes","enProceso","completadas","canceladas","search-term","sort-by","filtro-estado-cita"]),e("div",Ie,[e("div",Oe,[e("table",qe,[t[14]||(t[14]=e("thead",{class:"bg-gray-50"},[e("tr",null,[e("th",{class:"px-6 py-4 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider"},"Fecha"),e("th",{class:"px-6 py-4 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider"},"Cita"),e("th",{class:"px-6 py-4 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider"},"Cliente"),e("th",{class:"px-6 py-4 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider"},"Técnico"),e("th",{class:"px-6 py-4 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider"},"Estado Cita"),e("th",{class:"px-6 py-4 text-right text-xs font-semibold text-gray-600 uppercase tracking-wider"},"Acciones")])],-1)),e("tbody",Xe,[(i(!0),n(V,null,R(H.value,r=>{var k;return i(),n("tr",{key:r.id,class:"hover:bg-gray-50 transition-colors duration-150"},[e("td",Ge,[e("div",Qe,a(E(r.raw.fecha_hora)),1),e("div",Re,a(re(r.raw.fecha_hora)),1)]),e("td",Ze,[e("div",Je,a(r.titulo),1),e("div",Ke,a(E(r.raw.fecha_hora)),1)]),e("td",We,[e("div",Ye,a(r.subtitulo),1)]),e("td",et,[e("div",tt,a(((k=r.raw.tecnico)==null?void 0:k.nombre)||"N/A"),1)]),e("td",st,[e("span",{class:D([I(r.raw.estado),"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium"])},a(O(r.raw.estado)),3)]),e("td",ot,[e("div",rt,[e("button",{onClick:S=>ee(r),class:"w-8 h-8 bg-blue-50 text-blue-600 rounded-lg hover:bg-blue-100 transition-colors duration-150",title:"Ver detalles"},t[10]||(t[10]=[e("svg",{class:"w-4 h-4 mx-auto",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})],-1)]),8,at),e("button",{onClick:S=>U(r.id),class:"w-8 h-8 bg-amber-50 text-amber-600 rounded-lg hover:bg-amber-100 transition-colors duration-150",title:"Editar"},t[11]||(t[11]=[e("svg",{class:"w-4 h-4 mx-auto",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})],-1)]),8,lt),e("button",{onClick:S=>te(r.id),class:"w-8 h-8 bg-red-50 text-red-600 rounded-lg hover:bg-red-100 transition-colors duration-150",title:"Eliminar"},t[12]||(t[12]=[e("svg",{class:"w-4 h-4 mx-auto",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})],-1)]),8,nt)])])])}),128)),H.value.length===0?(i(),n("tr",it,t[13]||(t[13]=[e("td",{colspan:"6",class:"px-6 py-16 text-center"},[e("div",{class:"flex flex-col items-center space-y-4"},[e("div",{class:"w-16 h-16 bg-gray-100 rounded-full flex items-center justify-center"},[e("svg",{class:"w-8 h-8 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"1.5",d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})])]),e("div",{class:"space-y-1"},[e("p",{class:"text-gray-700 font-medium"},"No hay citas"),e("p",{class:"text-sm text-gray-500"},"Las citas aparecerán aquí cuando se creen")])])],-1)]))):w("",!0)])])]),p.value.lastPage>1?(i(),n("div",dt,[e("div",ut,[e("div",ct,[e("p",pt," Mostrando "+a(p.value.from)+" - "+a(p.value.to)+" de "+a(p.value.total)+" resultados ",1),e("select",{value:p.value.perPage,onChange:t[3]||(t[3]=r=>oe(parseInt(r.target.value))),class:"border border-gray-300 rounded-md text-sm py-1 px-2 bg-white"},t[15]||(t[15]=[e("option",{value:"10"},"10",-1),e("option",{value:"15"},"15",-1),e("option",{value:"25"},"25",-1),e("option",{value:"50"},"50",-1)]),40,gt)]),e("nav",vt,[p.value.prevPageUrl?(i(),n("button",{key:0,onClick:t[4]||(t[4]=r=>L(p.value.currentPage-1)),class:"relative inline-flex items-center px-2 py-2 rounded-l-md border border-gray-300 bg-white text-sm font-medium text-gray-500 hover:bg-gray-50"},t[16]||(t[16]=[e("svg",{class:"h-5 w-5",fill:"currentColor",viewBox:"0 0 20 20"},[e("path",{"fill-rule":"evenodd",d:"M12.707 5.293a1 1 0 010 1.414L9.414 10l3.293 3.293a1 1 0 01-1.414 1.414l-4-4a1 1 0 010-1.414l4-4a1 1 0 011.414 0z","clip-rule":"evenodd"})],-1)]))):(i(),n("span",mt,t[17]||(t[17]=[e("svg",{class:"h-5 w-5",fill:"currentColor",viewBox:"0 0 20 20"},[e("path",{"fill-rule":"evenodd",d:"M12.707 5.293a1 1 0 010 1.414L9.414 10l3.293 3.293a1 1 0 01-1.414 1.414l-4-4a1 1 0 010-1.414l4-4a1 1 0 011.414 0z","clip-rule":"evenodd"})],-1)]))),(i(!0),n(V,null,R([p.value.currentPage-1,p.value.currentPage,p.value.currentPage+1].filter(r=>r>0&&r<=p.value.lastPage),r=>(i(),n("button",{key:r,onClick:k=>L(r),class:D([r===p.value.currentPage?"bg-blue-50 border-blue-500 text-blue-600":"bg-white border-gray-300 text-gray-500 hover:bg-gray-50","relative inline-flex items-center px-4 py-2 border text-sm font-medium"])},a(r),11,xt))),128)),p.value.nextPageUrl?(i(),n("button",{key:2,onClick:t[5]||(t[5]=r=>L(p.value.currentPage+1)),class:"relative inline-flex items-center px-2 py-2 rounded-r-md border border-gray-300 bg-white text-sm font-medium text-gray-500 hover:bg-gray-50"},t[18]||(t[18]=[e("svg",{class:"h-5 w-5",fill:"currentColor",viewBox:"0 0 20 20"},[e("path",{"fill-rule":"evenodd",d:"M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z","clip-rule":"evenodd"})],-1)]))):(i(),n("span",ft,t[19]||(t[19]=[e("svg",{class:"h-5 w-5",fill:"currentColor",viewBox:"0 0 20 20"},[e("path",{"fill-rule":"evenodd",d:"M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z","clip-rule":"evenodd"})],-1)])))])])])):w("",!0)]),x.value?(i(),n("div",{key:0,class:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",onClick:t[9]||(t[9]=pe(r=>x.value=!1,["self"]))},[e("div",bt,[e("div",yt,[e("h3",ht,a(m.value==="details"?"Detalles de la Cita":"Confirmar Eliminación"),1),e("button",{onClick:t[6]||(t[6]=r=>x.value=!1),class:"text-gray-400 hover:text-gray-600 transition-colors"},t[20]||(t[20]=[e("svg",{class:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)]))]),e("div",wt,[m.value==="details"&&u.value?(i(),n("div",kt,[e("div",_t,[e("div",Ct,[e("div",jt,[e("div",null,[t[21]||(t[21]=e("label",{class:"block text-sm font-medium text-gray-700"},"Cliente",-1)),e("p",Mt,a(((l=u.value.cliente)==null?void 0:l.nombre_razon_social)||"N/A"),1)]),e("div",null,[t[22]||(t[22]=e("label",{class:"block text-sm font-medium text-gray-700"},"Técnico",-1)),e("p",$t,a(((g=u.value.tecnico)==null?void 0:g.nombre)||"N/A"),1)]),e("div",null,[t[23]||(t[23]=e("label",{class:"block text-sm font-medium text-gray-700"},"Tipo de Servicio",-1)),e("p",Pt,a(u.value.tipo_servicio||"N/A"),1)]),e("div",null,[t[24]||(t[24]=e("label",{class:"block text-sm font-medium text-gray-700"},"Estado de Cita",-1)),e("span",{class:D([I(u.value.estado),"inline-flex items-center px-2.5 py-1 rounded-full text-xs font-medium mt-1"])},a(O(u.value.estado)),3)])]),e("div",Bt,[e("div",null,[t[25]||(t[25]=e("label",{class:"block text-sm font-medium text-gray-700"},"Fecha y Hora",-1)),e("p",Et,a(E(u.value.fecha_hora)),1)]),e("div",null,[t[26]||(t[26]=e("label",{class:"block text-sm font-medium text-gray-700"},"Fecha de creación",-1)),e("p",Nt,a(E(u.value.created_at)),1)]),e("div",null,[t[27]||(t[27]=e("label",{class:"block text-sm font-medium text-gray-700"},"Última actualización",-1)),e("p",St,a(E(u.value.updated_at)),1)])])]),u.value.descripcion?(i(),n("div",zt,[t[28]||(t[28]=e("label",{class:"block text-sm font-medium text-gray-700"},"Descripción",-1)),e("p",Lt,a(u.value.descripcion),1)])):w("",!0),u.value.problema_reportado?(i(),n("div",Ft,[t[29]||(t[29]=e("label",{class:"block text-sm font-medium text-gray-700"},"Problema Reportado",-1)),e("p",Tt,a(u.value.problema_reportado),1)])):w("",!0)])])):w("",!0),m.value==="confirm"?(i(),n("div",Vt,[e("div",Dt,[t[32]||(t[32]=e("div",{class:"w-12 h-12 mx-auto bg-red-100 rounded-full flex items-center justify-center mb-4"},[e("svg",{class:"w-6 h-6 text-red-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L4.082 16.5c-.77.833.192 2.5 1.732 2.5z"})])],-1)),t[33]||(t[33]=e("h3",{class:"text-lg font-medium text-gray-900 mb-2"},"¿Eliminar Cita?",-1)),e("p",At,[t[30]||(t[30]=z(" ¿Estás seguro de que deseas eliminar la cita ")),e("strong",null,"#"+a((v=u.value)==null?void 0:v.id),1),t[31]||(t[31]=z("? Esta acción no se puede deshacer. "))])])])):w("",!0)]),e("div",Ht,[e("button",{onClick:t[7]||(t[7]=r=>x.value=!1),class:"px-4 py-2 bg-gray-300 text-gray-700 rounded-lg hover:bg-gray-400 transition-colors"},a(m.value==="details"?"Cerrar":"Cancelar"),1),m.value==="details"?(i(),n("div",Ut,[e("button",{onClick:t[8]||(t[8]=r=>U(u.value.id)),class:"px-4 py-2 bg-amber-600 text-white rounded-lg hover:bg-amber-700 transition-colors"}," Editar ")])):w("",!0),m.value==="confirm"?(i(),n("button",{key:1,onClick:se,class:"px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors"}," Eliminar ")):w("",!0)])])])):w("",!0)])])],64)}}}),Rt=Z(It,[["__scopeId","data-v-e0a2ca58"]]);export{Rt as default};
