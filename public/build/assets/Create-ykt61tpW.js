import{r as S,T as le,c as v,w as L,i as a,o as i,g as ae,f as s,u as r,Z as ie,k as d,l as p,F as w,m as k,t as n,s as ne,q as de,v as b,z as y,n as m,x as F}from"./vendor-d19pJyVS.js";import{A as ue}from"./AppLayout-CcnrZQKI.js";import"./utils-Dq7h7Pqt.js";import"./app-BcT2PLJy.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";const ce={class:"max-w-4xl mx-auto p-4"},me={class:"bg-white shadow-sm rounded-lg p-6"},pe={key:0,class:"mb-6 p-4 bg-red-50 border border-red-200 rounded-md"},be={class:"flex"},ge={class:"ml-3"},fe={class:"mt-2 text-sm text-red-700"},xe={class:"list-disc list-inside space-y-1"},ve={key:1,class:"mb-6 p-4 bg-green-50 border border-green-200 rounded-md","aria-live":"polite"},_e={key:2,class:"mb-6 p-4 bg-blue-50 border border-blue-200 rounded-md","aria-live":"polite"},ye={class:"border-b border-gray-200 pb-6"},we={class:"grid grid-cols-1 md:grid-cols-2 gap-6"},ke={class:"md:col-span-2"},he={class:"mb-4"},Ce={key:0,class:"mt-2 text-sm text-red-600"},Ee={class:"mb-4"},Fe={key:0,class:"mt-2 text-sm text-red-600"},Se={class:"mb-4"},Ue={key:0,class:"mt-2 text-sm text-red-600"},ze={class:"border-b border-gray-200 pb-6"},Me={class:"grid grid-cols-1 md:grid-cols-2 gap-6"},Ve={class:"mb-4"},qe={key:0,class:"mt-2 text-sm text-red-600"},Ae={class:"mb-4"},De=["maxlength","placeholder","value","disabled"],Be={key:0,class:"mt-2 text-sm text-red-600"},Ie={key:1,class:"mt-1 text-xs text-gray-500"},Pe={class:"mb-4"},$e={for:"curp",class:"block text-sm font-medium text-gray-700"},je={key:0,class:"text-gray-400"},Ne=["placeholder","value","disabled"],Te={key:0,class:"mt-2 text-sm text-red-600"},Xe={class:"mt-1 text-xs text-gray-500"},Le={class:"mb-4"},Oe=["disabled"],Re=["value"],Ge={key:0,class:"mt-2 text-sm text-red-600"},He={key:1,class:"mt-1 text-xs text-gray-500"},Ze={class:"mb-4"},Je=["value"],Ke={key:0,class:"mt-2 text-sm text-red-600"},Qe={class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6"},We={class:"md:col-span-2"},Ye={class:"mb-4"},eo={key:0,class:"mt-2 text-sm text-red-600"},oo={class:"mb-4"},so={key:0,class:"mt-2 text-sm text-red-600"},ro={class:"mb-4"},to={key:0,class:"mt-2 text-sm text-red-600"},lo={class:"mb-4"},ao=["disabled"],io={value:""},no=["value"],uo={key:0,class:"mt-2 text-sm text-red-600"},co={key:1,class:"mt-1 text-xs text-gray-500"},mo={class:"mb-4"},po=["value"],bo={key:0,class:"mt-2 text-sm text-red-600"},go={class:"mb-4"},fo={key:0,class:"mt-2 text-sm text-red-600"},xo={class:"mb-4"},vo=["value"],_o={key:0,class:"mt-2 text-sm text-red-600"},yo={class:"mb-4"},wo={key:0,class:"mt-2 text-sm text-red-600"},ko={key:0,class:"bg-gray-50 p-4 rounded-md text-xs"},ho={class:"mt-2"},Co={class:"ml-4 list-disc"},Eo={class:"flex justify-end space-x-4 pt-6 border-t border-gray-200"},Fo=["disabled"],So=["disabled"],Uo={key:0,class:"flex items-center"},zo={key:1},Bo=Object.assign({layout:ue},{__name:"Create",props:{catalogs:{type:Object,required:!0},cliente:{type:Object,required:!0}},setup(O){const u=O,h=S(!1),R=S(!1),_=S([]),C=S(!1),M=()=>{var l,o,t,g,f,x,c,I,P,$,j,N,T,X;return{nombre_razon_social:((l=u.cliente)==null?void 0:l.nombre_razon_social)||"",email:((o=u.cliente)==null?void 0:o.email)||"",telefono:((t=u.cliente)==null?void 0:t.telefono)||"",tipo_persona:"",rfc:((g=u.cliente)==null?void 0:g.rfc)||"",curp:((f=u.cliente)==null?void 0:f.curp)||"",regimen_fiscal:((x=u.cliente)==null?void 0:x.regimen_fiscal)||"",uso_cfdi:((c=u.cliente)==null?void 0:c.uso_cfdi)||"G03",calle:((I=u.cliente)==null?void 0:I.calle)||"",numero_exterior:((P=u.cliente)==null?void 0:P.numero_exterior)||"",numero_interior:(($=u.cliente)==null?void 0:$.numero_interior)||"",colonia:((j=u.cliente)==null?void 0:j.colonia)||"",codigo_postal:((N=u.cliente)==null?void 0:N.codigo_postal)||"",municipio:((T=u.cliente)==null?void 0:T.municipio)||"",estado:((X=u.cliente)==null?void 0:X.estado)||"SON",pais:"MX"}},e=le(M()),U=v(()=>Object.keys(e.errors).length>0),V=["nombre_razon_social","email","tipo_persona","rfc","regimen_fiscal","uso_cfdi","calle","numero_exterior","colonia","codigo_postal","municipio"],q=v(()=>V.every(l=>{const o=e[l];return o!=null&&String(o).trim()!==""&&String(o).trim()!=="null"&&String(o).trim()!=="undefined"})),z=v(()=>q.value&&!U.value&&!e.processing),A=v(()=>{var l;return((l=e.rfc)==null?void 0:l.toUpperCase())==="XEXX010101000"}),G=l=>{const o={...l};return A.value||(o.pais="MX"),o},H=v(()=>{var l,o,t,g;return Array.isArray((l=u.catalogs)==null?void 0:l.estados)&&((o=u.catalogs.estados[0])!=null&&o.value)?u.catalogs.estados:Array.isArray((t=u.catalogs)==null?void 0:t.estados)&&((g=u.catalogs.estados[0])!=null&&g.clave)?u.catalogs.estados.map(f=>({value:f.clave,text:`${f.clave} — ${f.nombre}`})):Object.entries(estadoMapping).map(([f,x])=>({value:x,text:`${x} — ${f}`}))}),Z=v(()=>{var l;return e.tipo_persona?(((l=u.catalogs)==null?void 0:l.regimenesFiscales)||[]).filter(o=>e.tipo_persona==="moral"?o.persona_moral:o.persona_fisica).map(o=>({value:o.clave,text:`${o.clave} — ${o.descripcion}`})):[]}),J=v(()=>{var l;return(((l=u.catalogs)==null?void 0:l.usosCFDI)||[]).map(o=>({value:o.value||o.clave,text:o.text||`${o.clave} — ${o.descripcion}`}))}),D=v(()=>e.tipo_persona==="fisica"?13:12),K=v(()=>e.tipo_persona==="fisica"?"ABCD123456EFG":"ABC123456EF"),Q=v(()=>e.tipo_persona==="moral"?"CURP no aplica para Personas Morales.":"Formato CURP: 18 caracteres (solo A–Z y 0–9).");L(()=>e.tipo_persona,(l,o)=>{l!==o&&(e.rfc="",e.regimen_fiscal="",e.clearErrors(["rfc","regimen_fiscal"]),l==="moral"&&(e.curp="",e.clearErrors("curp")))}),L(A,l=>{l||(e.pais="MX")});const W=()=>{e.rfc="",e.regimen_fiscal="",e.clearErrors(["rfc","regimen_fiscal"])},Y=l=>{const o=l.target?l.target.value:l,t=String(o).toUpperCase().replace(/[^A-ZÑ&0-9]/g,""),g=D.value;e.rfc=t.slice(0,g),e.rfc&&e.errors.rfc&&e.clearErrors("rfc")},ee=l=>{const o=l.target?l.target.value:l;e.curp=String(o).toUpperCase().replace(/[^A-Z0-9]/g,"").slice(0,18),e.curp&&e.errors.curp&&e.clearErrors("curp")},oe=async l=>{var g,f;const o=l.target?l.target.value:l,t=String(o).replace(/\D/g,"");if(e.codigo_postal=t.slice(0,5),e.codigo_postal&&e.errors.codigo_postal&&e.clearErrors("codigo_postal"),e.codigo_postal.length===5)try{const c=(await axios.get(`/api/cp/${e.codigo_postal}`)).data;c.estado&&(e.estado=c.estado,console.log("Estado autocompletado:",c.estado)),c.municipio&&(e.municipio=c.municipio,console.log("Municipio autocompletado:",c.municipio)),(!e.pais||e.pais.trim()==="")&&(e.pais=c.pais),_.value=c.colonias||[],c.colonias&&c.colonias.length===1?e.colonia=c.colonias[0]:c.colonias&&c.colonias.length>1&&(e.colonia=""),e.clearErrors(["estado","municipio","pais"]),(c.estado||c.municipio)&&(C.value=!0,console.log("✅ Dirección autocompletada desde código postal"),setTimeout(()=>{C.value=!1},3e3))}catch(x){console.warn("Error al consultar código postal:",x),((g=x.response)==null?void 0:g.status)===404?console.warn("Código postal no encontrado en la base de datos"):((f=x.response)==null?void 0:f.status)===500?console.error("Error interno del servidor al consultar código postal"):console.error("Error de red al consultar código postal:",x.message),_.value=[],e.colonia=""}else _.value=[],e.colonia=""},E=l=>{e[l]&&typeof e[l]=="string"&&(e[l]=e[l].toUpperCase().trim(),e[l]&&e.errors[l]&&e.clearErrors(l))},se=()=>{e.email&&typeof e.email=="string"&&(e.email=e.email.toLowerCase().trim(),e.email&&e.errors.email&&e.clearErrors("email"))},re=l=>{const o=l.target?l.target.value:l,t=String(o).replace(/\D/g,"").slice(0,10);e.telefono=t,e.telefono&&e.errors.telefono&&e.clearErrors("telefono")},B=()=>{const l=M();Object.keys(l).forEach(o=>{e[o]=l[o]}),e.clearErrors(),h.value=!1,C.value=!1,_.value=[]},te=()=>{if(h.value=!1,!z.value){console.warn("Formulario no válido, evitando envío");return}const l=G(e.data());e.post(route("clientes.store"),{data:l,preserveScroll:!0,onSuccess:()=>{h.value=!0,C.value=!1,setTimeout(()=>{h.value=!1,B()},3e3)},onError:o=>{console.error("Errores de validación:",o),window.scrollTo({top:0,behavior:"smooth"})}})};return(l,o)=>(i(),a(w,null,[ae(r(ie),{title:"Crear Cliente"}),s("div",ce,[s("div",me,[o[50]||(o[50]=s("div",{class:"flex items-center justify-between mb-6"},[s("h1",{class:"text-2xl font-semibold text-gray-800"},"Crear Nuevo Cliente"),s("div",{class:"text-sm text-gray-500"},[p(" Campos obligatorios marcados con "),s("span",{class:"text-red-500"},"*")])],-1)),U.value?(i(),a("div",pe,[s("div",be,[s("div",ge,[o[18]||(o[18]=s("h3",{class:"text-sm font-medium text-red-800"},"Error en el formulario",-1)),s("div",fe,[s("ul",xe,[(i(!0),a(w,null,k(r(e).errors,(t,g)=>(i(),a("li",{key:g},n(Array.isArray(t)?t[0]:t),1))),128))])])])])])):d("",!0),h.value?(i(),a("div",ve,o[19]||(o[19]=[s("p",{class:"text-sm font-medium text-green-800"},"Cliente creado exitosamente",-1)]))):d("",!0),C.value?(i(),a("div",_e,o[20]||(o[20]=[ne('<div class="flex"><div class="flex-shrink-0"><svg class="h-5 w-5 text-blue-400" viewBox="0 0 20 20" fill="currentColor"><path fill-rule="evenodd" d="M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z" clip-rule="evenodd"></path></svg></div><div class="ml-3"><p class="text-sm font-medium text-blue-800">Dirección autocompletada</p><p class="text-sm text-blue-700">Los campos de estado y municipio se han completado automáticamente.</p></div></div>',1)]))):d("",!0),s("form",{onSubmit:de(te,["prevent"]),class:"space-y-8"},[s("div",ye,[o[24]||(o[24]=s("h2",{class:"text-lg font-medium text-gray-900 mb-4"},"Información General",-1)),s("div",we,[s("div",ke,[s("div",he,[o[21]||(o[21]=s("label",{for:"nombre_razon_social",class:"block text-sm font-medium text-gray-700"},[p(" Nombre/Razón Social "),s("span",{class:"text-red-500"},"*")],-1)),b(s("input",{type:"text",id:"nombre_razon_social","onUpdate:modelValue":o[0]||(o[0]=t=>r(e).nombre_razon_social=t),onBlur:o[1]||(o[1]=t=>E("nombre_razon_social")),autocomplete:"off",class:m(["mt-1 block w-full rounded-md shadow-sm focus:border-blue-500 focus:ring-blue-500 sm:text-sm",r(e).errors.nombre_razon_social?"border-red-300 bg-red-50":"border-gray-300"]),required:""},null,34),[[y,r(e).nombre_razon_social]]),r(e).errors.nombre_razon_social?(i(),a("div",Ce,n(r(e).errors.nombre_razon_social),1)):d("",!0)])]),s("div",Ee,[o[22]||(o[22]=s("label",{for:"email",class:"block text-sm font-medium text-gray-700"},[p(" Email "),s("span",{class:"text-red-500"},"*")],-1)),b(s("input",{type:"email",id:"email","onUpdate:modelValue":o[2]||(o[2]=t=>r(e).email=t),onBlur:se,autocomplete:"new-password",placeholder:"correo@ejemplo.com",class:m(["mt-1 block w-full rounded-md shadow-sm focus:border-blue-500 focus:ring-blue-500 sm:text-sm",r(e).errors.email?"border-red-300 bg-red-50":"border-gray-300"]),required:""},null,34),[[y,r(e).email]]),r(e).errors.email?(i(),a("div",Fe,n(r(e).errors.email),1)):d("",!0)]),s("div",Se,[o[23]||(o[23]=s("label",{for:"telefono",class:"block text-sm font-medium text-gray-700"}," Teléfono ",-1)),b(s("input",{type:"tel",id:"telefono",autocomplete:"new-password","onUpdate:modelValue":o[3]||(o[3]=t=>r(e).telefono=t),onInput:re,maxlength:"10",placeholder:"10 dígitos (opcional)",pattern:"[0-9]{10}",class:m(["mt-1 block w-full rounded-md shadow-sm focus:border-blue-500 focus:ring-blue-500 sm:text-sm",r(e).errors.telefono?"border-red-300 bg-red-50":"border-gray-300"])},null,34),[[y,r(e).telefono]]),r(e).errors.telefono?(i(),a("div",Ue,n(r(e).errors.telefono),1)):d("",!0)])])]),s("div",ze,[o[33]||(o[33]=s("h2",{class:"text-lg font-medium text-gray-900 mb-4"},"Información Fiscal",-1)),s("div",Me,[s("div",Ve,[o[26]||(o[26]=s("label",{for:"tipo_persona",class:"block text-sm font-medium text-gray-700"},[p(" Tipo de Persona "),s("span",{class:"text-red-500"},"*")],-1)),b(s("select",{id:"tipo_persona","onUpdate:modelValue":o[4]||(o[4]=t=>r(e).tipo_persona=t),onChange:W,class:m(["mt-1 block w-full rounded-md shadow-sm focus:border-blue-500 focus:ring-blue-500 sm:text-sm",r(e).errors.tipo_persona?"border-red-300 bg-red-50":"border-gray-300"]),required:""},o[25]||(o[25]=[s("option",{value:""},"Selecciona una opción",-1),s("option",{value:"fisica"},"Persona Física",-1),s("option",{value:"moral"},"Persona Moral",-1)]),34),[[F,r(e).tipo_persona]]),r(e).errors.tipo_persona?(i(),a("div",qe,n(r(e).errors.tipo_persona),1)):d("",!0)]),s("div",Ae,[o[27]||(o[27]=s("label",{for:"rfc",class:"block text-sm font-medium text-gray-700"},[p(" RFC "),s("span",{class:"text-red-500"},"*")],-1)),s("input",{type:"text",id:"rfc",maxlength:D.value,placeholder:K.value,value:r(e).rfc,onInput:Y,disabled:!r(e).tipo_persona,autocomplete:"off",class:m(["mt-1 block w-full rounded-md shadow-sm focus:border-blue-500 focus:ring-blue-500 sm:text-sm",r(e).errors.rfc?"border-red-300 bg-red-50":"border-gray-300",r(e).tipo_persona?"":"bg-gray-100 text-gray-400"]),required:""},null,42,De),r(e).errors.rfc?(i(),a("div",Be,n(r(e).errors.rfc),1)):d("",!0),r(e).tipo_persona?d("",!0):(i(),a("div",Ie," Primero selecciona el tipo de persona "))]),s("div",Pe,[s("label",$e,[o[28]||(o[28]=p(" CURP ")),r(e).tipo_persona==="fisica"?(i(),a("span",je,"(opcional)")):d("",!0)]),s("input",{type:"text",id:"curp",maxlength:18,placeholder:r(e).tipo_persona==="fisica"?"ABCD880321HXXLRN09":"No aplica para Persona Moral",value:r(e).curp,onInput:ee,disabled:r(e).tipo_persona==="moral"||!r(e).tipo_persona,autocomplete:"off",class:m(["mt-1 block w-full rounded-md shadow-sm focus:border-blue-500 focus:ring-blue-500 sm:text-sm",r(e).errors.curp?"border-red-300 bg-red-50":"border-gray-300",r(e).tipo_persona==="moral"||!r(e).tipo_persona?"bg-gray-100 text-gray-400":""])},null,42,Ne),r(e).errors.curp?(i(),a("div",Te,n(r(e).errors.curp),1)):d("",!0),s("div",Xe,n(Q.value),1)]),s("div",Le,[o[30]||(o[30]=s("label",{for:"regimen_fiscal",class:"block text-sm font-medium text-gray-700"},[p(" Régimen Fiscal "),s("span",{class:"text-red-500"},"*")],-1)),b(s("select",{id:"regimen_fiscal","onUpdate:modelValue":o[5]||(o[5]=t=>r(e).regimen_fiscal=t),disabled:!r(e).tipo_persona,class:m(["mt-1 block w-full rounded-md shadow-sm focus:border-blue-500 focus:ring-blue-500 sm:text-sm",r(e).errors.regimen_fiscal?"border-red-300 bg-red-50":"border-gray-300",r(e).tipo_persona?"":"bg-gray-100 text-gray-400"]),required:""},[o[29]||(o[29]=s("option",{value:""},"Selecciona una opción",-1)),(i(!0),a(w,null,k(Z.value,t=>(i(),a("option",{key:t.value,value:t.value},n(t.text),9,Re))),128))],10,Oe),[[F,r(e).regimen_fiscal]]),r(e).errors.regimen_fiscal?(i(),a("div",Ge,n(r(e).errors.regimen_fiscal),1)):d("",!0),r(e).tipo_persona?d("",!0):(i(),a("div",He," Primero selecciona el tipo de persona "))]),s("div",Ze,[o[32]||(o[32]=s("label",{for:"uso_cfdi",class:"block text-sm font-medium text-gray-700"},[p(" Uso CFDI "),s("span",{class:"text-red-500"},"*")],-1)),b(s("select",{id:"uso_cfdi","onUpdate:modelValue":o[6]||(o[6]=t=>r(e).uso_cfdi=t),class:m(["mt-1 block w-full rounded-md shadow-sm focus:border-blue-500 focus:ring-blue-500 sm:text-sm",r(e).errors.uso_cfdi?"border-red-300 bg-red-50":"border-gray-300"]),required:""},[o[31]||(o[31]=s("option",{value:""},"Selecciona una opción",-1)),(i(!0),a(w,null,k(J.value,t=>(i(),a("option",{key:t.value,value:t.value},n(t.text),9,Je))),128))],2),[[F,r(e).uso_cfdi]]),r(e).errors.uso_cfdi?(i(),a("div",Ke,n(r(e).errors.uso_cfdi),1)):d("",!0)])])]),s("div",null,[o[46]||(o[46]=s("h2",{class:"text-lg font-medium text-gray-900 mb-4"},"Dirección",-1)),s("div",Qe,[s("div",We,[s("div",Ye,[o[34]||(o[34]=s("label",{for:"calle",class:"block text-sm font-medium text-gray-700"},[p(" Calle "),s("span",{class:"text-red-500"},"*")],-1)),b(s("input",{type:"text",id:"calle","onUpdate:modelValue":o[7]||(o[7]=t=>r(e).calle=t),onBlur:o[8]||(o[8]=t=>E("calle")),autocomplete:"new-password",class:m(["mt-1 block w-full rounded-md shadow-sm focus:border-blue-500 focus:ring-blue-500 sm:text-sm",r(e).errors.calle?"border-red-300 bg-red-50":"border-gray-300"]),required:""},null,34),[[y,r(e).calle]]),r(e).errors.calle?(i(),a("div",eo,n(r(e).errors.calle),1)):d("",!0)])]),s("div",oo,[o[35]||(o[35]=s("label",{for:"numero_exterior",class:"block text-sm font-medium text-gray-700"},[p(" Número Exterior "),s("span",{class:"text-red-500"},"*")],-1)),b(s("input",{type:"text",id:"numero_exterior","onUpdate:modelValue":o[9]||(o[9]=t=>r(e).numero_exterior=t),onBlur:o[10]||(o[10]=t=>E("numero_exterior")),autocomplete:"new-password",class:m(["mt-1 block w-full rounded-md shadow-sm focus:border-blue-500 focus:ring-blue-500 sm:text-sm",r(e).errors.numero_exterior?"border-red-300 bg-red-50":"border-gray-300"]),required:""},null,34),[[y,r(e).numero_exterior]]),r(e).errors.numero_exterior?(i(),a("div",so,n(r(e).errors.numero_exterior),1)):d("",!0)]),s("div",ro,[o[36]||(o[36]=s("label",{for:"numero_interior",class:"block text-sm font-medium text-gray-700"}," Número Interior ",-1)),b(s("input",{type:"text",id:"numero_interior","onUpdate:modelValue":o[11]||(o[11]=t=>r(e).numero_interior=t),onBlur:o[12]||(o[12]=t=>E("numero_interior")),autocomplete:"new-password",class:m(["mt-1 block w-full rounded-md shadow-sm focus:border-blue-500 focus:ring-blue-500 sm:text-sm",r(e).errors.numero_interior?"border-red-300 bg-red-50":"border-gray-300"])},null,34),[[y,r(e).numero_interior]]),r(e).errors.numero_interior?(i(),a("div",to,n(r(e).errors.numero_interior),1)):d("",!0)]),s("div",lo,[o[37]||(o[37]=s("label",{for:"colonia",class:"block text-sm font-medium text-gray-700"},[p(" Colonia "),s("span",{class:"text-red-500"},"*")],-1)),b(s("select",{id:"colonia","onUpdate:modelValue":o[13]||(o[13]=t=>r(e).colonia=t),disabled:_.value.length===0,class:m(["mt-1 block w-full rounded-md shadow-sm focus:border-blue-500 focus:ring-blue-500 sm:text-sm",r(e).errors.colonia?"border-red-300 bg-red-50":"border-gray-300",_.value.length===0?"bg-gray-100 text-gray-400":""]),required:""},[s("option",io,n(_.value.length===0?"Ingresa un código postal primero":"Selecciona una colonia"),1),(i(!0),a(w,null,k(_.value,t=>(i(),a("option",{key:t,value:t},n(t),9,no))),128))],10,ao),[[F,r(e).colonia]]),r(e).errors.colonia?(i(),a("div",uo,n(r(e).errors.colonia),1)):d("",!0),_.value.length===0?(i(),a("div",co," Primero ingresa un código postal válido para cargar las colonias disponibles ")):d("",!0)]),s("div",mo,[o[38]||(o[38]=s("label",{for:"codigo_postal",class:"block text-sm font-medium text-gray-700"},[p(" Código Postal "),s("span",{class:"text-red-500"},"*")],-1)),s("input",{type:"text",id:"codigo_postal",maxlength:"5",pattern:"[0-9]{5}",value:r(e).codigo_postal,onInput:oe,placeholder:"12345",autocomplete:"new-password",class:m(["mt-1 block w-full rounded-md shadow-sm focus:border-blue-500 focus:ring-blue-500 sm:text-sm",r(e).errors.codigo_postal?"border-red-300 bg-red-50":"border-gray-300"]),required:""},null,42,po),r(e).errors.codigo_postal?(i(),a("div",bo,n(r(e).errors.codigo_postal),1)):d("",!0),o[39]||(o[39]=s("div",{class:"mt-1 text-xs text-gray-500"}," Al ingresar un código postal válido, se autocompletarán automáticamente el estado y municipio. ",-1))]),s("div",go,[o[40]||(o[40]=s("label",{for:"municipio",class:"block text-sm font-medium text-gray-700"},[p(" Municipio "),s("span",{class:"text-red-500"},"*")],-1)),b(s("input",{type:"text",id:"municipio","onUpdate:modelValue":o[14]||(o[14]=t=>r(e).municipio=t),autocomplete:"new-password",class:m(["mt-1 block w-full rounded-md shadow-sm focus:border-blue-500 focus:ring-blue-500 sm:text-sm",r(e).errors.municipio?"border-red-300 bg-red-50":"border-gray-300"]),required:""},null,2),[[y,r(e).municipio]]),r(e).errors.municipio?(i(),a("div",fo,n(r(e).errors.municipio),1)):d("",!0)]),s("div",xo,[o[42]||(o[42]=s("label",{for:"estado",class:"block text-sm font-medium text-gray-700"}," Estado ",-1)),b(s("select",{id:"estado","onUpdate:modelValue":o[15]||(o[15]=t=>r(e).estado=t),class:"mt-1 block w-full rounded-md shadow-sm focus:border-blue-500 focus:ring-blue-500 sm:text-sm border-gray-300"},[o[41]||(o[41]=s("option",{value:""},"Selecciona una opción",-1)),(i(!0),a(w,null,k(H.value,t=>(i(),a("option",{key:t.value,value:t.value},n(t.text||t.label),9,vo))),128))],512),[[F,r(e).estado]]),r(e).errors.estado?(i(),a("div",_o,n(r(e).errors.estado),1)):d("",!0),o[43]||(o[43]=s("div",{class:"mt-1 text-xs text-gray-500"}," Opcional para clientes extranjeros ",-1))]),s("div",yo,[o[44]||(o[44]=s("label",{for:"pais",class:"block text-sm font-medium text-gray-700"}," País ",-1)),b(s("input",{type:"text",id:"pais","onUpdate:modelValue":o[16]||(o[16]=t=>r(e).pais=t),onBlur:o[17]||(o[17]=t=>E("pais")),placeholder:"MX (México por defecto)",autocomplete:"new-password",class:m(["mt-1 block w-full rounded-md shadow-sm focus:border-blue-500 focus:ring-blue-500 sm:text-sm",r(e).errors.pais?"border-red-300 bg-red-50":"border-gray-300"])},null,34),[[y,r(e).pais]]),r(e).errors.pais?(i(),a("div",wo,n(r(e).errors.pais),1)):d("",!0),o[45]||(o[45]=s("div",{class:"mt-1 text-xs text-gray-500"}," Código de país (2-3 letras). México por defecto, cambia para clientes extranjeros. ",-1))])])]),R.value?(i(),a("div",ko,[o[48]||(o[48]=s("h3",{class:"font-semibold mb-2"},"Debug Info:",-1)),s("p",null,"Formulario válido: "+n(z.value),1),s("p",null,"Campos requeridos llenos: "+n(q.value),1),s("p",null,"Sin errores: "+n(!U.value),1),s("div",ho,[o[47]||(o[47]=s("strong",null,"Valores actuales:",-1)),s("ul",Co,[(i(),a(w,null,k(V,t=>s("li",{key:t},n(t)+': "'+n(r(e)[t])+'" ('+n(typeof r(e)[t])+") ",1)),64))])])])):d("",!0),s("div",Eo,[s("button",{type:"button",onClick:B,disabled:r(e).processing,class:"px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-md hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed"}," Limpiar ",8,Fo),s("button",{type:"submit",disabled:r(e).processing||!z.value,class:"px-4 py-2 text-sm font-medium text-white bg-blue-600 rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed"},[r(e).processing?(i(),a("span",Uo,o[49]||(o[49]=[s("svg",{class:"animate-spin -ml-1 mr-3 h-4 w-4 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},[s("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"}),s("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})],-1),p(" Guardando... ")]))):(i(),a("span",zo,"Crear Cliente"))],8,So)])],32)])])],64))}});export{Bo as default};
