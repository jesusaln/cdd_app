import{c as _,i,o as r,g as m,f as t,u as x,Z as v,e as f,l as u,A as w,t as o,F as c,m as p,k}from"./vendor-d19pJyVS.js";import{A as b}from"./AppLayout-CcnrZQKI.js";import{_ as j}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./utils-Dq7h7Pqt.js";import"./app-BcT2PLJy.js";const B={class:"min-h-screen bg-gradient-to-br from-slate-50 to-red-50 p-6"},M={class:"max-w-7xl mx-auto"},P={class:"mb-8"},C={class:"flex items-center justify-between"},S={class:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-6"},V={class:"bg-white rounded-xl border border-gray-200 shadow-sm p-6"},L={class:"flex items-center"},D={class:"ml-4"},N={class:"text-2xl font-bold text-red-600"},A={class:"bg-white rounded-xl border border-gray-200 shadow-sm p-6"},T={class:"flex items-center"},z={class:"ml-4"},E={class:"text-2xl font-bold text-yellow-600"},F={class:"bg-white rounded-xl border border-gray-200 shadow-sm p-6"},X={class:"flex items-center"},$={class:"ml-4"},I={class:"text-2xl font-bold text-blue-600"},q={key:0,class:"bg-white rounded-xl border border-gray-200 shadow-sm overflow-hidden"},O={class:"overflow-x-auto"},Z={class:"min-w-full divide-y divide-gray-200"},G={class:"bg-white divide-y divide-gray-200"},H={class:"px-6 py-4"},J={class:"flex items-center"},K={class:"ml-4"},Q={class:"text-sm font-medium text-gray-900"},R={class:"text-sm text-gray-500"},U={class:"text-xs text-gray-400"},W={class:"px-6 py-4 whitespace-nowrap"},Y={class:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-red-100 text-red-800"},tt={class:"px-6 py-4 whitespace-nowrap"},et={class:"text-sm text-gray-900"},st={class:"px-6 py-4 whitespace-nowrap"},ot={class:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-orange-100 text-orange-800"},it={class:"px-6 py-4 whitespace-nowrap"},rt={class:"text-sm text-gray-900"},nt={class:"px-6 py-4 whitespace-nowrap"},at={class:"text-sm font-medium text-red-600"},dt={class:"px-6 py-4 whitespace-nowrap"},lt={key:0,class:"text-sm text-gray-900"},ct={class:"text-xs text-gray-500"},mt={key:1,class:"text-sm text-gray-500"},xt={class:"px-6 py-4"},ut={class:"space-y-1"},pt={class:"font-medium"},gt={key:0,class:"text-xs text-gray-500"},ht={key:1,class:"bg-white rounded-xl border border-gray-200 shadow-sm p-12 text-center"},yt=Object.assign({layout:b},{__name:"ProductosBajoStock",props:{productos:{type:Array,default:()=>[]}},setup(a){const g=a,h=_(()=>g.productos.reduce((n,e)=>n+e.deficit*e.precio_venta,0)),d=n=>new Intl.NumberFormat("es-MX",{style:"currency",currency:"MXN"}).format(n||0),y=n=>new Date(n).toLocaleDateString("es-MX",{day:"2-digit",month:"2-digit",year:"numeric"});return(n,e)=>(r(),i(c,null,[m(x(v),{title:"Productos Bajo Stock"}),t("div",B,[t("div",M,[t("div",P,[t("div",C,[e[1]||(e[1]=t("div",null,[t("h1",{class:"text-3xl font-bold text-gray-900"},"Productos Bajo Stock"),t("p",{class:"text-gray-600 mt-1"},"Productos que necesitan reposición inmediata")],-1)),m(x(w),{href:n.route("reportes.inventario.dashboard"),class:"inline-flex items-center px-4 py-2 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 transition-colors"},{default:f(()=>e[0]||(e[0]=[t("svg",{class:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M10 19l-7-7m0 0l7-7m-7 7h18"})],-1),u(" Volver ")])),_:1},8,["href"])])]),t("div",S,[t("div",V,[t("div",L,[e[3]||(e[3]=t("div",{class:"p-3 bg-red-100 rounded-lg"},[t("svg",{class:"w-6 h-6 text-red-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L4.082 16.5c-.77.833.192 2.5 1.732 2.5z"})])],-1)),t("div",D,[e[2]||(e[2]=t("p",{class:"text-sm font-medium text-gray-600"},"Productos Críticos",-1)),t("p",N,o(a.productos.filter(s=>s.deficit>10).length),1)])])]),t("div",A,[t("div",T,[e[5]||(e[5]=t("div",{class:"p-3 bg-yellow-100 rounded-lg"},[t("svg",{class:"w-6 h-6 text-yellow-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L4.082 16.5c-.77.833.192 2.5 1.732 2.5z"})])],-1)),t("div",z,[e[4]||(e[4]=t("p",{class:"text-sm font-medium text-gray-600"},"Total Productos",-1)),t("p",E,o(a.productos.length),1)])])]),t("div",F,[t("div",X,[e[7]||(e[7]=t("div",{class:"p-3 bg-blue-100 rounded-lg"},[t("svg",{class:"w-6 h-6 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1"})])],-1)),t("div",$,[e[6]||(e[6]=t("p",{class:"text-sm font-medium text-gray-600"},"Valor Total Perdido",-1)),t("p",I,"$"+o(d(h.value)),1)])])])]),a.productos.length>0?(r(),i("div",q,[t("div",O,[t("table",Z,[e[9]||(e[9]=t("thead",{class:"bg-gray-50"},[t("tr",null,[t("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Producto"),t("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Stock Actual"),t("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Stock Mínimo"),t("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Déficit"),t("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Precio Venta"),t("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Valor Perdido"),t("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Último Movimiento"),t("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Distribución")])],-1)),t("tbody",G,[(r(!0),i(c,null,p(a.productos,s=>(r(),i("tr",{key:s.id,class:"hover:bg-gray-50"},[t("td",H,[t("div",J,[e[8]||(e[8]=t("div",{class:"flex-shrink-0 h-10 w-10"},[t("div",{class:"h-10 w-10 rounded-full bg-gray-200 flex items-center justify-center"},[t("svg",{class:"h-5 w-5 text-gray-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M20 7l-8-4-8 4m16 0l-8 4m8-4v10l-8 4m0-10L4 7m8 4v10M4 7v10l8 4"})])])],-1)),t("div",K,[t("div",Q,o(s.nombre),1),t("div",R,o(s.categoria)+" • "+o(s.marca),1),t("div",U,"Código: "+o(s.codigo),1)])])]),t("td",W,[t("span",Y,o(s.stock_actual),1)]),t("td",tt,[t("div",et,o(s.stock_minimo),1)]),t("td",st,[t("span",ot," -"+o(s.deficit),1)]),t("td",it,[t("div",rt,"$"+o(d(s.precio_venta)),1)]),t("td",nt,[t("div",at,"$"+o(d(s.deficit*s.precio_venta)),1)]),t("td",dt,[s.ultimo_movimiento?(r(),i("div",lt,[t("div",null,o(s.ultimo_movimiento.tipo==="entrada"?"Entrada":"Salida"),1),t("div",ct,o(y(s.ultimo_movimiento.fecha)),1)])):(r(),i("div",mt,"Sin movimientos"))]),t("td",xt,[t("div",ut,[(r(!0),i(c,null,p(s.distribucion_almacenes.slice(0,2),l=>(r(),i("div",{key:l.almacen,class:"text-xs"},[t("span",pt,o(l.almacen)+":",1),u(" "+o(l.cantidad),1)]))),128)),s.distribucion_almacenes.length>2?(r(),i("div",gt," +"+o(s.distribucion_almacenes.length-2)+" más... ",1)):k("",!0)])])]))),128))])])])])):(r(),i("div",ht,e[10]||(e[10]=[t("svg",{class:"mx-auto h-12 w-12 text-green-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})],-1),t("h3",{class:"mt-2 text-sm font-medium text-gray-900"},"¡Excelente!",-1),t("p",{class:"mt-1 text-sm text-gray-500"},"Todos los productos están por encima del stock mínimo.",-1)])))])])],64))}}),bt=j(yt,[["__scopeId","data-v-9c363011"]]);export{bt as default};
