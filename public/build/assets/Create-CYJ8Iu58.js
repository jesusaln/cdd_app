import{r as C,T as S,i,o as a,g as V,f as e,u as t,Z as w,n as b,q as U,v as n,L as g,k as u,l as c,z as m,t as l,F as v,m as $,x,y}from"./vendor-d19pJyVS.js";import{A as q}from"./AppLayout-CcnrZQKI.js";import{_ as D}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./utils-Dq7h7Pqt.js";import"./app-BcT2PLJy.js";const I={class:"max-w-4xl mx-auto"},M={class:"bg-white shadow-sm rounded-lg"},A={class:"border-b border-gray-200"},N={class:"flex space-x-8 px-6","aria-label":"Tabs"},T={class:"space-y-6"},F={class:"grid grid-cols-1 md:grid-cols-2 gap-6"},j={key:0,class:"error-message"},z={key:0,class:"error-message"},B=["value"],E={key:0,class:"error-message"},G={class:"space-y-6"},L={class:"grid grid-cols-1 md:grid-cols-2 gap-6"},P={class:"relative"},R={key:0,class:"error-message"},Z={key:0,class:"error-message"},O={class:"relative"},H={key:0,class:"error-message"},J={key:0,class:"bg-gray-50 p-4 rounded-lg"},K={class:"grid grid-cols-1 md:grid-cols-2 gap-4 text-sm"},Q={class:"font-medium text-blue-600 ml-2"},W={class:"font-medium text-gray-900 ml-2"},X={class:"space-y-6"},Y={class:"grid grid-cols-1 md:grid-cols-2 gap-6"},h={key:0,class:"error-message"},ee={class:"flex items-center space-x-4"},oe={class:"flex items-center"},se={class:"flex items-center"},te={key:0,class:"error-message"},re={class:"flex items-center justify-end space-x-3 pt-6 border-t border-gray-200"},ie=["disabled"],ae={key:0},ne={key:1},le=Object.assign({layout:q},{__name:"Create",props:{categorias:Array},setup(f){const d=C("general"),s=S({nombre:"",descripcion:"",codigo:"",categoria_id:"",precio:"",duracion:"",estado:"activo",es_instalacion:!1,comision_vendedor:""}),_=()=>{if(!s.codigo&&s.nombre){const p=s.nombre.toUpperCase().replace(/[^A-Z0-9]/g,"-").replace(/-+/g,"-").replace(/^-|-$/g,"").substring(0,10)+"-"+Math.floor(Math.random()*100).toString().padStart(3,"0");s.codigo=p}},k=()=>{s.post(route("servicios.store"),{onSuccess:()=>{s.reset()}})};return(p,o)=>(a(),i(v,null,[V(t(w),{title:"Crear Servicio"}),e("div",I,[e("div",M,[o[32]||(o[32]=e("div",{class:"border-b border-gray-200 px-6 py-4"},[e("h1",{class:"text-2xl font-semibold text-gray-900"},"Crear Servicio"),e("p",{class:"text-sm text-gray-600 mt-1"},"Complete la información del servicio")],-1)),e("div",A,[e("nav",N,[e("button",{onClick:o[0]||(o[0]=r=>d.value="general"),class:b(["py-4 px-1 border-b-2 font-medium text-sm",d.value==="general"?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"]),type:"button"}," Información General ",2),e("button",{onClick:o[1]||(o[1]=r=>d.value="pricing"),class:b(["py-4 px-1 border-b-2 font-medium text-sm",d.value==="pricing"?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"]),type:"button"}," Precios y Duración ",2),e("button",{onClick:o[2]||(o[2]=r=>d.value="additional"),class:b(["py-4 px-1 border-b-2 font-medium text-sm",d.value==="additional"?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"]),type:"button"}," Información Adicional ",2)])]),e("form",{onSubmit:U(k,["prevent"]),class:"p-6"},[n(e("div",T,[e("div",F,[e("div",null,[o[14]||(o[14]=e("label",{for:"nombre",class:"block text-sm font-medium text-gray-700 mb-2"},[c(" Nombre del Servicio "),e("span",{class:"text-red-500"},"*")],-1)),n(e("input",{"onUpdate:modelValue":o[3]||(o[3]=r=>t(s).nombre=r),type:"text",id:"nombre",placeholder:"Ingrese el nombre del servicio",class:"input-field",required:"",onInput:_},null,544),[[m,t(s).nombre]]),t(s).errors.nombre?(a(),i("div",j,l(t(s).errors.nombre),1)):u("",!0)]),e("div",null,[o[15]||(o[15]=e("label",{for:"codigo",class:"block text-sm font-medium text-gray-700 mb-2"},[c(" Código "),e("span",{class:"text-red-500"},"*")],-1)),n(e("input",{"onUpdate:modelValue":o[4]||(o[4]=r=>t(s).codigo=r),type:"text",id:"codigo",placeholder:"Código único del servicio",class:"input-field",required:""},null,512),[[m,t(s).codigo]]),t(s).errors.codigo?(a(),i("div",z,l(t(s).errors.codigo),1)):u("",!0)]),e("div",null,[o[17]||(o[17]=e("label",{for:"categoria_id",class:"block text-sm font-medium text-gray-700 mb-2"},[c(" Categoría "),e("span",{class:"text-red-500"},"*")],-1)),n(e("select",{"onUpdate:modelValue":o[5]||(o[5]=r=>t(s).categoria_id=r),id:"categoria_id",class:"input-field",required:""},[o[16]||(o[16]=e("option",{value:""},"Seleccione una categoría",-1)),(a(!0),i(v,null,$(f.categorias,r=>(a(),i("option",{key:r.id,value:r.id},l(r.nombre),9,B))),128))],512),[[x,t(s).categoria_id]]),t(s).errors.categoria_id?(a(),i("div",E,l(t(s).errors.categoria_id),1)):u("",!0)])]),e("div",null,[o[18]||(o[18]=e("label",{for:"descripcion",class:"block text-sm font-medium text-gray-700 mb-2"}," Descripción ",-1)),n(e("textarea",{"onUpdate:modelValue":o[6]||(o[6]=r=>t(s).descripcion=r),id:"descripcion",rows:"4",placeholder:"Descripción detallada del servicio",class:"input-field resize-none"},null,512),[[m,t(s).descripcion]])])],512),[[g,d.value==="general"]]),n(e("div",G,[e("div",L,[e("div",null,[o[19]||(o[19]=e("label",{for:"precio",class:"block text-sm font-medium text-gray-700 mb-2"},[c(" Precio "),e("span",{class:"text-red-500"},"*")],-1)),e("div",P,[n(e("input",{"onUpdate:modelValue":o[7]||(o[7]=r=>t(s).precio=r),type:"number",step:"0.01",id:"precio",placeholder:"$ 0.00",class:"input-field",min:"0",required:""},null,512),[[m,t(s).precio]])]),t(s).errors.precio?(a(),i("div",R,l(t(s).errors.precio),1)):u("",!0)]),e("div",null,[o[20]||(o[20]=e("label",{for:"duracion",class:"block text-sm font-medium text-gray-700 mb-2"},[c(" Duración (minutos) "),e("span",{class:"text-red-500"},"*")],-1)),n(e("input",{"onUpdate:modelValue":o[8]||(o[8]=r=>t(s).duracion=r),type:"number",id:"duracion",placeholder:"60",class:"input-field",min:"1",required:""},null,512),[[m,t(s).duracion]]),t(s).errors.duracion?(a(),i("div",Z,l(t(s).errors.duracion),1)):u("",!0)]),e("div",null,[o[21]||(o[21]=e("label",{for:"comision_vendedor",class:"block text-sm font-medium text-gray-700 mb-2"}," Comisión Vendedor ($) ",-1)),e("div",O,[n(e("input",{"onUpdate:modelValue":o[9]||(o[9]=r=>t(s).comision_vendedor=r),type:"number",step:"0.01",id:"comision_vendedor",placeholder:"$ 0.00",class:"input-field",min:"0"},null,512),[[m,t(s).comision_vendedor]])]),o[22]||(o[22]=e("p",{class:"text-xs text-gray-500 mt-1"}," Monto fijo que recibe el vendedor por cada prestación de este servicio ",-1)),t(s).errors.comision_vendedor?(a(),i("div",H,l(t(s).errors.comision_vendedor),1)):u("",!0)])]),t(s).precio&&t(s).duracion?(a(),i("div",J,[o[25]||(o[25]=e("h4",{class:"text-sm font-medium text-gray-700 mb-2"},"Resumen del Servicio",-1)),e("div",K,[e("div",null,[o[23]||(o[23]=e("span",{class:"text-gray-600"},"Precio por minuto:",-1)),e("span",Q," $"+l((parseFloat(t(s).precio)/parseInt(t(s).duracion)).toFixed(2))+"/min ",1)]),e("div",null,[o[24]||(o[24]=e("span",{class:"text-gray-600"},"Duración estimada:",-1)),e("span",W,l(t(s).duracion)+" minutos ",1)])])])):u("",!0)],512),[[g,d.value==="pricing"]]),n(e("div",X,[e("div",Y,[e("div",null,[o[27]||(o[27]=e("label",{for:"estado",class:"block text-sm font-medium text-gray-700 mb-2"},[c(" Estado "),e("span",{class:"text-red-500"},"*")],-1)),n(e("select",{"onUpdate:modelValue":o[10]||(o[10]=r=>t(s).estado=r),id:"estado",class:"input-field",required:""},o[26]||(o[26]=[e("option",{value:"activo"},"Activo",-1),e("option",{value:"inactivo"},"Inactivo",-1)]),512),[[x,t(s).estado]]),t(s).errors.estado?(a(),i("div",h,l(t(s).errors.estado),1)):u("",!0)]),e("div",null,[o[30]||(o[30]=e("label",{for:"es_instalacion",class:"block text-sm font-medium text-gray-700 mb-2"}," ¿Es servicio de instalación? ",-1)),e("div",ee,[e("label",oe,[n(e("input",{"onUpdate:modelValue":o[11]||(o[11]=r=>t(s).es_instalacion=r),type:"radio",name:"es_instalacion",value:!0,class:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300"},null,512),[[y,t(s).es_instalacion]]),o[28]||(o[28]=e("span",{class:"ml-2 text-sm text-gray-700"},"Sí",-1))]),e("label",se,[n(e("input",{"onUpdate:modelValue":o[12]||(o[12]=r=>t(s).es_instalacion=r),type:"radio",name:"es_instalacion",value:!1,class:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300"},null,512),[[y,t(s).es_instalacion]]),o[29]||(o[29]=e("span",{class:"ml-2 text-sm text-gray-700"},"No",-1))])]),o[31]||(o[31]=e("p",{class:"text-xs text-gray-500 mt-1"}," Si es instalación, se aplicará comisión adicional al técnico ",-1)),t(s).errors.es_instalacion?(a(),i("div",te,l(t(s).errors.es_instalacion),1)):u("",!0)])])],512),[[g,d.value==="additional"]]),e("div",re,[e("button",{type:"button",onClick:o[13]||(o[13]=r=>p.$inertia.visit(p.route("servicios.index"))),class:"px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-md hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors"}," Cancelar "),e("button",{type:"submit",disabled:t(s).processing,class:"px-4 py-2 text-sm font-medium text-white bg-blue-600 border border-transparent rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed transition-colors"},[t(s).processing?(a(),i("span",ae,"Guardando...")):(a(),i("span",ne,"Guardar Servicio"))],8,ie)])],32)])])],64))}}),be=D(le,[["__scopeId","data-v-94bdce21"]]);export{be as default};
