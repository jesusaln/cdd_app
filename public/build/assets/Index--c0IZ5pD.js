import{B as Y,C as z,w as ge,i as n,o as d,f as e,l as R,t as a,v as P,z as pe,x as L,s as O,Q as fe,p as me,r as C,c as E,g as ee,u as xe,Z as be,k as B,F as Z,m as te,n as q,q as ye,N as v}from"./vendor-d19pJyVS.js";import{A as he}from"./AppLayout-CcnrZQKI.js";import{N as we}from"./app-BcT2PLJy.js";import{_ as oe}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./utils-Dq7h7Pqt.js";const ke={class:"bg-white rounded-xl shadow-sm border border-gray-100 overflow-hidden"},_e={class:"bg-gradient-to-r from-blue-50 to-indigo-50 px-6 py-6 border-b border-gray-200/60"},Ce={class:"grid grid-cols-2 md:grid-cols-5 gap-4"},je={class:"bg-white/70 rounded-lg p-4 border border-gray-200/50"},Me={class:"flex items-center justify-between"},$e={class:"text-2xl font-bold text-gray-900"},Se={class:"bg-white/70 rounded-lg p-4 border border-gray-200/50"},Ee={class:"flex items-center justify-between"},Be={class:"text-2xl font-bold text-green-600"},Ve={class:"bg-white/70 rounded-lg p-4 border border-gray-200/50"},Ue={class:"flex items-center justify-between"},Ne={class:"text-2xl font-bold text-red-600"},Fe={class:"bg-white/70 rounded-lg p-4 border border-gray-200/50"},Ae={class:"flex items-center justify-between"},ze={class:"text-2xl font-bold text-purple-600"},Pe={class:"bg-white/70 rounded-lg p-4 border border-gray-200/50"},Le={class:"flex items-center justify-between"},Re={class:"text-2xl font-bold text-indigo-600"},Te={class:"px-6 py-4 bg-gray-50/50 border-b border-gray-200/60"},He={class:"flex flex-col md:flex-row md:items-center md:justify-between space-y-4 md:space-y-0"},Ie={class:"flex-1 max-w-md"},De={class:"relative"},Oe={class:"flex items-center space-x-3"},Ze={__name:"UsuariosHeader",props:Y({total:{type:Number,default:0},activos:{type:Number,default:0},inactivos:{type:Number,default:0},administradores:{type:Number,default:0},con2FA:{type:Number,default:0}},{searchTerm:{type:String,default:""},searchTermModifiers:{},sortBy:{type:String,default:"created_at-desc"},sortByModifiers:{},filtroEstado:{type:String,default:""},filtroEstadoModifiers:{},filtroRol:{type:String,default:""},filtroRolModifiers:{},filtroVerificacion:{type:String,default:""},filtroVerificacionModifiers:{}}),emits:Y(["crear-nueva","search-change","filtro-estado-change","filtro-rol-change","filtro-verificacion-change","sort-change","limpiar-filtros"],["update:searchTerm","update:sortBy","update:filtroEstado","update:filtroRol","update:filtroVerificacion"]),setup(p,{emit:y}){const j=y,l=z(p,"searchTerm"),f=z(p,"sortBy"),g=z(p,"filtroEstado"),i=z(p,"filtroRol"),M=z(p,"filtroVerificacion"),h=()=>j("crear-nueva"),u=()=>j("search-change",l.value),w=()=>j("filtro-estado-change",g.value),V=()=>j("filtro-rol-change",i.value),U=()=>j("filtro-verificacion-change",M.value),S=()=>j("sort-change",f.value),T=()=>j("limpiar-filtros");return ge([l,f,g,i,M],()=>{},{immediate:!0}),(G,s)=>(d(),n("div",ke,[e("div",_e,[e("div",{class:"flex items-center justify-between mb-6"},[s[6]||(s[6]=e("div",null,[e("h1",{class:"text-2xl font-bold text-gray-900 tracking-tight"},"Usuarios"),e("p",{class:"text-sm text-gray-600 mt-1"},"Gestiona todos los usuarios del sistema")],-1)),e("button",{onClick:h,class:"inline-flex items-center px-4 py-2 bg-blue-600 text-white text-sm font-medium rounded-lg hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 transition-colors duration-200"},s[5]||(s[5]=[e("svg",{class:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 4v16m8-8H4"})],-1),R(" Nuevo Usuario ")]))]),e("div",Ce,[e("div",je,[e("div",Me,[e("div",null,[s[7]||(s[7]=e("p",{class:"text-sm font-medium text-gray-600"},"Total",-1)),e("p",$e,a(p.total),1)]),s[8]||(s[8]=e("div",{class:"w-10 h-10 bg-blue-100 rounded-full flex items-center justify-center"},[e("svg",{class:"w-5 h-5 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})])],-1))])]),e("div",Se,[e("div",Ee,[e("div",null,[s[9]||(s[9]=e("p",{class:"text-sm font-medium text-gray-600"},"Activos",-1)),e("p",Be,a(p.activos),1)]),s[10]||(s[10]=e("div",{class:"w-10 h-10 bg-green-100 rounded-full flex items-center justify-center"},[e("svg",{class:"w-5 h-5 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})])],-1))])]),e("div",Ve,[e("div",Ue,[e("div",null,[s[11]||(s[11]=e("p",{class:"text-sm font-medium text-gray-600"},"Inactivos",-1)),e("p",Ne,a(p.inactivos),1)]),s[12]||(s[12]=e("div",{class:"w-10 h-10 bg-red-100 rounded-full flex items-center justify-center"},[e("svg",{class:"w-5 h-5 text-red-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M10 14l2-2m0 0l2-2m-2 2l-2-2m2 2l2 2m7-2a9 9 0 11-18 0 9 9 0 0118 0z"})])],-1))])]),e("div",Fe,[e("div",Ae,[e("div",null,[s[13]||(s[13]=e("p",{class:"text-sm font-medium text-gray-600"},"Administradores",-1)),e("p",ze,a(p.administradores),1)]),s[14]||(s[14]=e("div",{class:"w-10 h-10 bg-purple-100 rounded-full flex items-center justify-center"},[e("svg",{class:"w-5 h-5 text-purple-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})])],-1))])]),e("div",Pe,[e("div",Le,[e("div",null,[s[15]||(s[15]=e("p",{class:"text-sm font-medium text-gray-600"},"Con 2FA",-1)),e("p",Re,a(p.con2FA),1)]),s[16]||(s[16]=e("div",{class:"w-10 h-10 bg-indigo-100 rounded-full flex items-center justify-center"},[e("svg",{class:"w-5 h-5 text-indigo-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"})])],-1))])])])]),e("div",Te,[e("div",He,[e("div",Ie,[e("div",De,[s[17]||(s[17]=e("div",{class:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none"},[e("svg",{class:"h-5 w-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})])],-1)),P(e("input",{"onUpdate:modelValue":s[0]||(s[0]=x=>l.value=x),type:"text",placeholder:"Buscar por nombre, email o rol...",class:"block w-full pl-10 pr-3 py-2 border border-gray-300 rounded-lg leading-5 bg-white placeholder-gray-500 focus:outline-none focus:placeholder-gray-400 focus:ring-1 focus:ring-blue-500 focus:border-blue-500 text-sm",onInput:u},null,544),[[pe,l.value]])])]),e("div",Oe,[P(e("select",{"onUpdate:modelValue":s[1]||(s[1]=x=>g.value=x),onChange:w,class:"block w-48 pl-3 pr-10 py-2 text-sm border border-gray-300 rounded-lg focus:outline-none focus:ring-1 focus:ring-blue-500 focus:border-blue-500 bg-white"},s[18]||(s[18]=[e("option",{value:""},"Todos los Estados",-1),e("option",{value:"activo"},"Activos",-1),e("option",{value:"inactivo"},"Inactivos",-1)]),544),[[L,g.value]]),P(e("select",{"onUpdate:modelValue":s[2]||(s[2]=x=>i.value=x),onChange:V,class:"block w-48 pl-3 pr-10 py-2 text-sm border border-gray-300 rounded-lg focus:outline-none focus:ring-1 focus:ring-blue-500 focus:border-blue-500 bg-white"},s[19]||(s[19]=[O('<option value="" data-v-ef6df4de>Todos los Roles</option><option value="admin" data-v-ef6df4de>Administrador</option><option value="tecnico" data-v-ef6df4de>Técnico</option><option value="ventas" data-v-ef6df4de>Ventas</option><option value="almacen" data-v-ef6df4de>Almacén</option><option value="contabilidad" data-v-ef6df4de>Contabilidad</option>',6)]),544),[[L,i.value]]),P(e("select",{"onUpdate:modelValue":s[3]||(s[3]=x=>M.value=x),onChange:U,class:"block w-48 pl-3 pr-10 py-2 text-sm border border-gray-300 rounded-lg focus:outline-none focus:ring-1 focus:ring-blue-500 focus:border-blue-500 bg-white"},s[20]||(s[20]=[O('<option value="" data-v-ef6df4de>Todas las Verificaciones</option><option value="verificado" data-v-ef6df4de>Verificado</option><option value="no_verificado" data-v-ef6df4de>No Verificado</option><option value="con_2fa" data-v-ef6df4de>Con 2FA</option><option value="sin_2fa" data-v-ef6df4de>Sin 2FA</option>',5)]),544),[[L,M.value]]),P(e("select",{"onUpdate:modelValue":s[4]||(s[4]=x=>f.value=x),onChange:S,class:"block w-48 pl-3 pr-10 py-2 text-sm border border-gray-300 rounded-lg focus:outline-none focus:ring-1 focus:ring-blue-500 focus:border-blue-500 bg-white"},s[21]||(s[21]=[O('<option value="created_at-desc" data-v-ef6df4de>Fecha (Más reciente)</option><option value="created_at-asc" data-v-ef6df4de>Fecha (Más antiguo)</option><option value="name-asc" data-v-ef6df4de>Nombre (A-Z)</option><option value="name-desc" data-v-ef6df4de>Nombre (Z-A)</option><option value="email-asc" data-v-ef6df4de>Email (A-Z)</option><option value="email-desc" data-v-ef6df4de>Email (Z-A)</option>',6)]),544),[[L,f.value]]),e("button",{onClick:T,class:"inline-flex items-center px-3 py-2 border border-gray-300 text-sm leading-4 font-medium rounded-lg text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200"},s[22]||(s[22]=[e("svg",{class:"w-4 h-4 mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1),R(" Limpiar ")]))])])])]))}},qe=oe(Ze,[["__scopeId","data-v-ef6df4de"]]),Ge={class:"usuarios-index min-h-screen bg-gray-50"},Qe={class:"max-w-8xl mx-auto px-6 py-8"},Xe={class:"bg-white rounded-xl shadow-sm border border-gray-100 overflow-hidden"},Je={class:"overflow-x-auto"},Ke={class:"min-w-full divide-y divide-gray-200"},We={class:"bg-white divide-y divide-gray-200"},Ye={class:"px-6 py-4"},et={class:"text-sm text-gray-900"},tt={class:"px-6 py-4"},ot={class:"text-sm font-medium text-gray-900"},st={class:"px-6 py-4"},rt={class:"text-sm text-gray-700"},at={class:"px-6 py-4"},lt={class:"text-sm text-gray-700"},it={class:"px-6 py-4"},nt={class:"px-6 py-4 text-right"},dt={class:"flex items-center justify-end space-x-1"},ut=["onClick"],ct=["onClick"],vt=["onClick"],gt=["onClick"],pt={key:0},ft={key:0,class:"bg-white border-t border-gray-200 px-4 py-3 sm:px-6"},mt={class:"flex flex-col sm:flex-row items-center justify-between gap-4"},xt={class:"flex items-center gap-4"},bt={class:"text-sm text-gray-700"},yt=["value"],ht={class:"relative z-0 inline-flex rounded-md shadow-sm -space-x-px"},wt={key:1,class:"relative inline-flex items-center px-2 py-2 rounded-l-md border border-gray-300 bg-gray-100 text-sm font-medium text-gray-400"},kt=["onClick"],_t={key:3,class:"relative inline-flex items-center px-2 py-2 rounded-r-md border border-gray-300 bg-gray-100 text-sm font-medium text-gray-400"},Ct={class:"bg-white rounded-lg shadow-xl w-full max-w-2xl max-h-[90vh] overflow-y-auto"},jt={class:"flex items-center justify-between p-6 border-b border-gray-200"},Mt={class:"text-lg font-medium text-gray-900"},$t={class:"p-6"},St={key:0},Et={class:"space-y-4"},Bt={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},Vt={class:"space-y-3"},Ut={class:"mt-1 text-sm text-gray-900 bg-gray-50 px-3 py-2 rounded-md"},Nt={class:"mt-1 text-sm text-gray-900 bg-gray-50 px-3 py-2 rounded-md"},Ft={class:"space-y-3"},At={class:"mt-1 text-sm text-gray-900 bg-gray-50 px-3 py-2 rounded-md"},zt={class:"mt-1 text-sm text-gray-900 bg-gray-50 px-3 py-2 rounded-md"},Pt={class:"mt-1 text-sm text-gray-900 bg-gray-50 px-3 py-2 rounded-md"},Lt={key:1},Rt={class:"text-center"},Tt={class:"text-sm text-gray-500 mb-4"},Ht={class:"flex justify-end gap-3 px-6 py-4 border-t border-gray-200 bg-gray-50"},It={key:0,class:"flex gap-2"},Dt=Object.assign({layout:he},{__name:"Index",props:{usuarios:{type:[Object,Array],required:!0},stats:{type:Object,default:()=>({})},filters:{type:Object,default:()=>({})},sorting:{type:Object,default:()=>({sort_by:"created_at",sort_direction:"desc"})}},setup(p){var W;const y=new we({duration:4e3,position:{x:"right",y:"top"},types:[{type:"success",background:"#10b981",icon:!1},{type:"error",background:"#ef4444",icon:!1},{type:"warning",background:"#f59e0b",icon:!1}]}),j=fe();me(()=>{const o=j.props.flash;o!=null&&o.success&&y.success(o.success),o!=null&&o.error&&y.error(o.error)});const l=p,f=C(!1),g=C("details"),i=C(null),M=C(null),h=C(((W=l.filters)==null?void 0:W.search)??""),u=C("created_at-desc"),w=C(""),V=C(""),U=C(""),S=C(10),T=()=>{v.visit(route("usuarios.create"))},G=()=>{h.value="",u.value="created_at-desc",w.value="",V.value="",U.value="",v.visit(route("usuarios.index")),y.success("Filtros limpiados correctamente")},s=E(()=>$.value&&$.value.length>0?$.value.filter(o=>o.roles&&o.roles.some(t=>t.name==="admin"||t.name==="administrador")).length:0),x=E(()=>$.value&&$.value.length>0?$.value.filter(o=>o.two_factor_enabled||o.has_two_factor).length:0),se=o=>{V.value=o,v.get(route("usuarios.index"),{search:h.value,sort_by:u.value.split("-")[0],sort_direction:u.value.split("-")[1]||"desc",activo:w.value,role:o,per_page:S.value,page:1},{preserveState:!0,preserveScroll:!0})},re=o=>{U.value=o,v.get(route("usuarios.index"),{search:h.value,sort_by:u.value.split("-")[0],sort_direction:u.value.split("-")[1]||"desc",activo:w.value,verificacion:o,per_page:S.value,page:1},{preserveState:!0,preserveScroll:!0})},k=E(()=>l.usuarios),$=E(()=>{var o;return((o=k.value)==null?void 0:o.data)||[]}),H=E(()=>{var o,t,m,_,b;return{total:((o=l.stats)==null?void 0:o.total)??0,activos:((t=l.stats)==null?void 0:t.activos)??0,inactivos:((m=l.stats)==null?void 0:m.inactivos)??0,activosPorcentaje:((_=l.stats)==null?void 0:_.activos)>0?Math.round(l.stats.activos/l.stats.total*100):0,inactivosPorcentaje:((b=l.stats)==null?void 0:b.inactivos)>0?Math.round(l.stats.inactivos/l.stats.total*100):0}}),Q=E(()=>$.value.map(o=>{var t,m;return{id:o.id,titulo:o.name,subtitulo:o.email||"",estado:o.activo?"activo":"inactivo",extra:`Rol: ${((m=(t=o.roles)==null?void 0:t[0])==null?void 0:m.name)||"Sin rol"}`,fecha:o.created_at,raw:o}}));function ae(o){h.value=o,v.get(route("usuarios.index"),{search:o,sort_by:u.value.split("-")[0],sort_direction:u.value.split("-")[1]||"desc",activo:w.value,per_page:S.value,page:1},{preserveState:!0,preserveScroll:!0})}function le(o){w.value=o,v.get(route("usuarios.index"),{search:h.value,sort_by:u.value.split("-")[0],sort_direction:u.value.split("-")[1]||"desc",activo:o,per_page:S.value,page:1},{preserveState:!0,preserveScroll:!0})}function ie(o){u.value=o,v.get(route("usuarios.index"),{search:h.value,sort_by:o.split("-")[0],sort_direction:o.split("-")[1]||"desc",activo:w.value,per_page:S.value,page:1},{preserveState:!0,preserveScroll:!0})}const ne=o=>{i.value=o.raw,g.value="details",f.value=!0},X=o=>{v.visit(route("usuarios.edit",o))},de=o=>{M.value=o,g.value="confirm",f.value=!0},ue=()=>{v.delete(route("usuarios.destroy",M.value),{preserveScroll:!0,onSuccess:()=>{y.success("Usuario eliminado correctamente"),f.value=!1,M.value=null,v.reload()},onError:o=>{y.error("No se pudo eliminar el usuario")}})},J=o=>{const t=$.value.find(b=>b.id===o);if(!t)return y.error("Usuario no encontrado");const _=(t.activo?"inactivo":"activo")==="activo"?"Usuario activado correctamente":"Usuario desactivado correctamente";v.put(route("usuarios.toggle",o),{preserveScroll:!0,onSuccess:()=>{y.success(_),v.reload()},onError:b=>{y.error("No se pudo cambiar el estado del usuario")}})},c=E(()=>{var o,t,m,_,b,r,N,A,F;return{current_page:((o=k.value)==null?void 0:o.current_page)||1,last_page:((t=k.value)==null?void 0:t.last_page)||1,per_page:((m=k.value)==null?void 0:m.per_page)||10,from:((_=k.value)==null?void 0:_.from)||0,to:((b=k.value)==null?void 0:b.to)||0,total:((r=k.value)==null?void 0:r.total)||0,prev_page_url:(N=k.value)==null?void 0:N.prev_page_url,next_page_url:(A=k.value)==null?void 0:A.next_page_url,links:((F=k.value)==null?void 0:F.links)||[]}}),ce=o=>{v.get(route("usuarios.index"),{...l.filters,...l.sorting,per_page:o,page:1},{preserveState:!0,preserveScroll:!0})},I=o=>{v.get(route("usuarios.index"),{...l.filters,...l.sorting,page:o},{preserveState:!0,preserveScroll:!0})},D=o=>{if(!o)return"Fecha no disponible";try{return new Date(o).toLocaleDateString("es-MX",{day:"2-digit",month:"2-digit",year:"numeric"})}catch{return"Fecha inválida"}},K=o=>({activo:"bg-green-100 text-green-700",inactivo:"bg-red-100 text-red-700"})[o]||"bg-gray-100 text-gray-700",ve=o=>({activo:"Activo",inactivo:"Inactivo"})[o]||"Pendiente";return(o,t)=>{var m,_,b;return d(),n(Z,null,[ee(xe(be),{title:"Usuarios"}),e("div",Ge,[e("div",Qe,[ee(qe,{total:H.value.total,activos:H.value.activos,inactivos:H.value.inactivos,administradores:s.value,"con-2fa":x.value,"search-term":h.value,"onUpdate:searchTerm":t[0]||(t[0]=r=>h.value=r),"sort-by":u.value,"onUpdate:sortBy":t[1]||(t[1]=r=>u.value=r),"filtro-estado":w.value,"onUpdate:filtroEstado":t[2]||(t[2]=r=>w.value=r),"filtro-rol":V.value,"onUpdate:filtroRol":t[3]||(t[3]=r=>V.value=r),"filtro-verificacion":U.value,"onUpdate:filtroVerificacion":t[4]||(t[4]=r=>U.value=r),onCrearNueva:T,onSearchChange:ae,onFiltroEstadoChange:le,onFiltroRolChange:se,onFiltroVerificacionChange:re,onSortChange:ie,onLimpiarFiltros:G},null,8,["total","activos","inactivos","administradores","con-2fa","search-term","sort-by","filtro-estado","filtro-rol","filtro-verificacion"]),e("div",Xe,[e("div",Je,[e("table",Ke,[t[18]||(t[18]=e("thead",{class:"bg-gray-50"},[e("tr",null,[e("th",{class:"px-6 py-4 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider"},"Fecha"),e("th",{class:"px-6 py-4 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider"},"Usuario"),e("th",{class:"px-6 py-4 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider"},"Email"),e("th",{class:"px-6 py-4 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider"},"Rol"),e("th",{class:"px-6 py-4 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider"},"Estado"),e("th",{class:"px-6 py-4 text-right text-xs font-semibold text-gray-600 uppercase tracking-wider"},"Acciones")])],-1)),e("tbody",We,[(d(!0),n(Z,null,te(Q.value,r=>{var N,A;return d(),n("tr",{key:r.id,class:"hover:bg-gray-50 transition-colors duration-150"},[e("td",Ye,[e("div",et,a(D(r.fecha)),1)]),e("td",tt,[e("div",ot,a(r.titulo),1)]),e("td",st,[e("div",rt,a(r.subtitulo),1)]),e("td",at,[e("div",lt,a(((A=(N=r.raw.roles)==null?void 0:N[0])==null?void 0:A.name)||"Sin rol"),1)]),e("td",it,[e("span",{class:q([K(r.estado),"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium"])},a(ve(r.estado)),3)]),e("td",nt,[e("div",dt,[e("button",{onClick:F=>ne(r),class:"w-8 h-8 bg-blue-50 text-blue-600 rounded-lg hover:bg-blue-100 transition-colors duration-150",title:"Ver detalles"},t[13]||(t[13]=[e("svg",{class:"w-4 h-4 mx-auto",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})],-1)]),8,ut),e("button",{onClick:F=>X(r.id),class:"w-8 h-8 bg-amber-50 text-amber-600 rounded-lg hover:bg-amber-100 transition-colors duration-150",title:"Editar"},t[14]||(t[14]=[e("svg",{class:"w-4 h-4 mx-auto",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})],-1)]),8,ct),e("button",{onClick:F=>J(r.id),class:"w-8 h-8 bg-green-50 text-green-600 rounded-lg hover:bg-green-100 transition-colors duration-150",title:"Cambiar estado"},t[15]||(t[15]=[e("svg",{class:"w-4 h-4 mx-auto",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})],-1)]),8,vt),e("button",{onClick:F=>de(r.id),class:"w-8 h-8 bg-red-50 text-red-600 rounded-lg hover:bg-red-100 transition-colors duration-150",title:"Eliminar"},t[16]||(t[16]=[e("svg",{class:"w-4 h-4 mx-auto",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})],-1)]),8,gt)])])])}),128)),Q.value.length===0?(d(),n("tr",pt,t[17]||(t[17]=[e("td",{colspan:"6",class:"px-6 py-16 text-center"},[e("div",{class:"flex flex-col items-center space-y-4"},[e("div",{class:"w-16 h-16 bg-gray-100 rounded-full flex items-center justify-center"},[e("svg",{class:"w-8 h-8 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"1.5",d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})])]),e("div",{class:"space-y-1"},[e("p",{class:"text-gray-700 font-medium"},"No hay usuarios"),e("p",{class:"text-sm text-gray-500"},"Los usuarios aparecerán aquí cuando se creen")])])],-1)]))):B("",!0)])])]),c.value.lastPage>1?(d(),n("div",ft,[e("div",mt,[e("div",xt,[e("p",bt," Mostrando "+a(c.value.from)+" - "+a(c.value.to)+" de "+a(c.value.total)+" resultados ",1),e("select",{value:c.value.perPage,onChange:t[5]||(t[5]=r=>ce(parseInt(r.target.value))),class:"border border-gray-300 rounded-md text-sm py-1 px-2 bg-white"},t[19]||(t[19]=[e("option",{value:"10"},"10",-1),e("option",{value:"15"},"15",-1),e("option",{value:"25"},"25",-1),e("option",{value:"50"},"50",-1)]),40,yt)]),e("nav",ht,[c.value.prevPageUrl?(d(),n("button",{key:0,onClick:t[6]||(t[6]=r=>I(c.value.currentPage-1)),class:"relative inline-flex items-center px-2 py-2 rounded-l-md border border-gray-300 bg-white text-sm font-medium text-gray-500 hover:bg-gray-50"},t[20]||(t[20]=[e("svg",{class:"h-5 w-5",fill:"currentColor",viewBox:"0 0 20 20"},[e("path",{"fill-rule":"evenodd",d:"M12.707 5.293a1 1 0 010 1.414L9.414 10l3.293 3.293a1 1 0 01-1.414 1.414l-4-4a1 1 0 010-1.414l4-4a1 1 0 011.414 0z","clip-rule":"evenodd"})],-1)]))):(d(),n("span",wt,t[21]||(t[21]=[e("svg",{class:"h-5 w-5",fill:"currentColor",viewBox:"0 0 20 20"},[e("path",{"fill-rule":"evenodd",d:"M12.707 5.293a1 1 0 010 1.414L9.414 10l3.293 3.293a1 1 0 01-1.414 1.414l-4-4a1 1 0 010-1.414l4-4a1 1 0 011.414 0z","clip-rule":"evenodd"})],-1)]))),(d(!0),n(Z,null,te([c.value.currentPage-1,c.value.currentPage,c.value.currentPage+1].filter(r=>r>0&&r<=c.value.lastPage),r=>(d(),n("button",{key:r,onClick:N=>I(r),class:q([r===c.value.currentPage?"bg-blue-50 border-blue-500 text-blue-600":"bg-white border-gray-300 text-gray-500 hover:bg-gray-50","relative inline-flex items-center px-4 py-2 border text-sm font-medium"])},a(r),11,kt))),128)),c.value.nextPageUrl?(d(),n("button",{key:2,onClick:t[7]||(t[7]=r=>I(c.value.currentPage+1)),class:"relative inline-flex items-center px-2 py-2 rounded-r-md border border-gray-300 bg-white text-sm font-medium text-gray-500 hover:bg-gray-50"},t[22]||(t[22]=[e("svg",{class:"h-5 w-5",fill:"currentColor",viewBox:"0 0 20 20"},[e("path",{"fill-rule":"evenodd",d:"M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z","clip-rule":"evenodd"})],-1)]))):(d(),n("span",_t,t[23]||(t[23]=[e("svg",{class:"h-5 w-5",fill:"currentColor",viewBox:"0 0 20 20"},[e("path",{"fill-rule":"evenodd",d:"M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z","clip-rule":"evenodd"})],-1)])))])])])):B("",!0)]),f.value?(d(),n("div",{key:0,class:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",onClick:t[12]||(t[12]=ye(r=>f.value=!1,["self"]))},[e("div",Ct,[e("div",jt,[e("h3",Mt,a(g.value==="details"?"Detalles del Usuario":"Confirmar Eliminación"),1),e("button",{onClick:t[8]||(t[8]=r=>f.value=!1),class:"text-gray-400 hover:text-gray-600 transition-colors"},t[24]||(t[24]=[e("svg",{class:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)]))]),e("div",$t,[g.value==="details"&&i.value?(d(),n("div",St,[e("div",Et,[e("div",Bt,[e("div",Vt,[e("div",null,[t[25]||(t[25]=e("label",{class:"block text-sm font-medium text-gray-700"},"Nombre",-1)),e("p",Ut,a(i.value.name),1)]),e("div",null,[t[26]||(t[26]=e("label",{class:"block text-sm font-medium text-gray-700"},"Email",-1)),e("p",Nt,a(i.value.email||"N/A"),1)]),e("div",null,[t[27]||(t[27]=e("label",{class:"block text-sm font-medium text-gray-700"},"Estado",-1)),e("span",{class:q([K(i.value.activo?"activo":"inactivo"),"inline-flex items-center px-2.5 py-1 rounded-full text-xs font-medium mt-1"])},a(i.value.activo?"Activo":"Inactivo"),3)])]),e("div",Ft,[e("div",null,[t[28]||(t[28]=e("label",{class:"block text-sm font-medium text-gray-700"},"Rol",-1)),e("p",At,a(((_=(m=i.value.roles)==null?void 0:m[0])==null?void 0:_.name)||"Sin rol"),1)]),e("div",null,[t[29]||(t[29]=e("label",{class:"block text-sm font-medium text-gray-700"},"Fecha de creación",-1)),e("p",zt,a(D(i.value.created_at)),1)]),e("div",null,[t[30]||(t[30]=e("label",{class:"block text-sm font-medium text-gray-700"},"Última actualización",-1)),e("p",Pt,a(D(i.value.updated_at)),1)])])])])])):B("",!0),g.value==="confirm"?(d(),n("div",Lt,[e("div",Rt,[t[33]||(t[33]=e("div",{class:"w-12 h-12 mx-auto bg-red-100 rounded-full flex items-center justify-center mb-4"},[e("svg",{class:"w-6 h-6 text-red-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L4.082 16.5c-.77.833.192 2.5 1.732 2.5z"})])],-1)),t[34]||(t[34]=e("h3",{class:"text-lg font-medium text-gray-900 mb-2"},"¿Eliminar Usuario?",-1)),e("p",Tt,[t[31]||(t[31]=R(" ¿Estás seguro de que deseas eliminar el usuario ")),e("strong",null,a((b=i.value)==null?void 0:b.name),1),t[32]||(t[32]=R("? Esta acción no se puede deshacer. "))])])])):B("",!0)]),e("div",Ht,[e("button",{onClick:t[9]||(t[9]=r=>f.value=!1),class:"px-4 py-2 bg-gray-300 text-gray-700 rounded-lg hover:bg-gray-400 transition-colors"},a(g.value==="details"?"Cerrar":"Cancelar"),1),g.value==="details"?(d(),n("div",It,[e("button",{onClick:t[10]||(t[10]=r=>J(i.value.id)),class:"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors"}," Cambiar Estado "),e("button",{onClick:t[11]||(t[11]=r=>X(i.value.id)),class:"px-4 py-2 bg-amber-600 text-white rounded-lg hover:bg-amber-700 transition-colors"}," Editar ")])):B("",!0),g.value==="confirm"?(d(),n("button",{key:1,onClick:ue,class:"px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors"}," Eliminar ")):B("",!0)])])])):B("",!0)])])],64)}}}),Xt=oe(Dt,[["__scopeId","data-v-7332acba"]]);export{Xt as default};
