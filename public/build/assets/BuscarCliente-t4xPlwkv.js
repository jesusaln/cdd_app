import{r as c,c as J,w as K,D as N,p as ae,H as de,i,o as s,k as r,b as Y,f as e,l as m,t as a,v as ue,z as ce,n as y,F as $,m as U,U as ve,J as G,M as me}from"./vendor-d19pJyVS.js";const fe={class:"relative"},be={key:0,class:"buscar-cliente"},he={class:"mb-6"},xe={class:"block text-sm font-medium text-gray-700 mb-2"},ge={key:0,class:"text-red-500"},ye={class:"relative"},ke=["placeholder","disabled"],pe={key:0,class:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none"},we={class:"absolute inset-y-0 right-0 pr-3 flex items-center"},Ce={key:1,class:"animate-spin w-5 h-5 border-2 border-blue-500 border-t-transparent rounded-full"},Be={key:2,class:"w-5 h-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},Se={key:0,class:"mt-2 text-sm text-red-600"},Me={key:1,class:"mt-2 text-sm text-gray-500"},je={key:2,class:"mt-2 text-sm text-gray-500"},ze={key:3,class:"mt-3 flex flex-wrap gap-2"},Te=["onClick"],Le={key:1,class:"mt-6 p-6 bg-gradient-to-r from-blue-50 to-indigo-50 border-2 border-blue-200 rounded-lg shadow-sm"},He={class:"flex items-start justify-between mb-4"},qe={class:"text-lg font-semibold text-blue-900 flex items-center"},Ve={class:"flex items-center space-x-2"},Ee={key:0,class:"flex items-center"},Re={class:"text-xs font-medium text-gray-600 capitalize"},Ne=["title"],_e={class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6"},De={class:"space-y-2"},Fe={class:"text-lg font-semibold text-gray-900"},Ie={key:0,class:"space-y-2"},Ae={class:"text-gray-900"},$e={key:1,class:"space-y-2"},Ue={class:"text-gray-900"},Oe={key:2,class:"space-y-2"},Pe={class:"text-gray-900 font-mono"},Xe={key:3,class:"space-y-2"},We={class:"text-gray-900 font-semibold"},Je={key:4,class:"space-y-2"},Ke={key:0,class:"mt-4 space-y-2"},Ye={key:2,class:"mt-6 p-6 border-2 border-dashed border-gray-300 rounded-lg text-center"},Ge={class:"text-gray-500 text-lg font-medium"},Qe={class:"text-gray-400 text-sm mt-1"},Ze={key:0,class:"mt-4"},et={class:"p-2"},tt={class:"text-xs text-gray-500 mb-2 px-2 flex items-center justify-between"},ot={key:0,class:"text-gray-400"},lt=["onClick","onMouseenter"],st={class:"flex items-center justify-between"},nt={class:"flex-1"},it={class:"font-medium text-gray-900 mb-1 flex items-center"},rt=["innerHTML"],at={class:"ml-2 flex items-center space-x-1"},dt=["title"],ut={key:1,class:"w-3 h-3 text-red-500",fill:"currentColor",viewBox:"0 0 20 20",title:"Sin crédito disponible"},ct={class:"text-sm text-gray-500 space-y-1"},vt=["innerHTML"],mt=["innerHTML"],ft=["innerHTML"],bt={key:3,class:"text-xs text-green-600"},ht={key:0,class:"ml-3"},xt=["innerHTML"],gt={key:0,class:"border-t border-gray-200 p-3 bg-gray-50"},kt={__name:"BuscarCliente",props:{clientes:{type:Array,required:!0,default:()=>[]},clienteSeleccionado:{type:Object,default:null},mostrarOpcionNuevoCliente:{type:Boolean,default:!0},labelBusqueda:{type:String,default:"Buscar Cliente"},placeholderBusqueda:{type:String,default:"Escribe para buscar clientes..."},requerido:{type:Boolean,default:!1},iconoBusqueda:{type:Boolean,default:!0},deshabilitado:{type:Boolean,default:!1},mensajeAyuda:{type:String,default:""},tipoDocumento:{type:String,default:"Cliente"},tituloClienteSeleccionado:{type:String,default:"Cliente Seleccionado"},mensajeVacio:{type:String,default:"No hay cliente seleccionado"},submensajeVacio:{type:String,default:"Busca y selecciona un cliente para continuar"},mostrarAccionRapida:{type:Boolean,default:!0},mostrarEstadoCliente:{type:Boolean,default:!0},mostrarHistorial:{type:Boolean,default:!1},mostrarEditar:{type:Boolean,default:!1},mostrarInfoComercial:{type:Boolean,default:!0},mostrarFiltrosRapidos:{type:Boolean,default:!1},filtrosRapidos:{type:Array,default:()=>[]}},emits:["cliente-seleccionado","crear-nuevo-cliente","ver-historial","editar-cliente"],setup(o,{expose:Q,emit:Z}){const k=o,S=Z,p=c(null),ee=c(null),te=c(null),d=c(""),w=c(""),v=c(!1),b=c(-1),M=c(!1),j=c(""),z=c(""),T=c(null),L=c(null),_=c(0),g=c({top:0,left:0,height:0}),D=c(null),F=c(null),C=l=>l?l.toString().toLowerCase().normalize("NFD").replace(/[\u0300-\u036f]/g,"").replace(/[^\w\s@.-]/g,"").trim():"",O=l=>l.split(/\s+/).filter(t=>t.length>0).map(t=>C(t)),h=J(()=>{if(!w.value||w.value.length<1)return[];const l=performance.now(),t=O(w.value);if(t.length===0)return[];const x=k.clientes.filter(u=>{const f=C([u.nombre_razon_social,u.email,u.telefono,u.rfc,u.empresa,u.calle].join(" "));return t.every(R=>f.includes(R))}).map(u=>{let f=0;const R=C(u.nombre_razon_social||"");return t.forEach(V=>{R.startsWith(V)?f+=100:R.includes(V)?f+=50:C(u.email||"").includes(V)?f+=30:C(u.rfc||"").includes(V)?f+=40:C(u.telefono||"").includes(V)&&(f+=20)}),{...u,_score:f}}).sort((u,f)=>f._score-u._score),B=performance.now();return F.value=Math.round(B-l),x}),P=J(()=>{if(!k.clienteSeleccionado)return[];const l=[],t=k.clienteSeleccionado;return t.credito_disponible<=0?l.push({id:"credito-agotado",tipo:"error",mensaje:"Cliente sin crédito disponible"}):t.credito_disponible<t.limite_credito*.2&&l.push({id:"credito-bajo",tipo:"warning",mensaje:"Cliente con crédito limitado"}),t.estado==="inactivo"?l.push({id:"cliente-inactivo",tipo:"error",mensaje:"Cliente inactivo"}):t.estado==="suspendido"&&l.push({id:"cliente-suspendido",tipo:"warning",mensaje:"Cliente suspendido"}),l}),X=()=>{j.value="",z.value="",L.value&&clearTimeout(L.value),L.value=setTimeout(()=>{M.value=!0,w.value=d.value,setTimeout(()=>{M.value=!1},200),v.value=!0,b.value=-1},300)},W=l=>{T.value&&clearTimeout(T.value),S("cliente-seleccionado",l),v.value=!1},oe=()=>{S("cliente-seleccionado",null),E(),N(()=>{var l;(l=p.value)==null||l.focus()})},le=()=>{T.value=setTimeout(()=>{v.value=!1},150)},se=l=>{if(!v.value||h.value.length===0)return;const t=h.value.length-1;switch(l.key){case"ArrowDown":l.preventDefault(),b.value=Math.min(b.value+1,t);break;case"ArrowUp":l.preventDefault(),b.value=Math.max(b.value-1,-1);break;case"Enter":l.preventDefault(),b.value>=0&&W(h.value[b.value]);break;case"Escape":v.value=!1;break}},H=(l,t)=>{if(!l||!t)return l||"";const n=O(t);if(n.length===0)return l;let x=l.toString();return n.forEach(B=>{if(B.length>0){const u=B.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),f=new RegExp(`(${u})`,"gi");x=x.replace(f,'<mark class="resaltar">$1</mark>')}}),x},I=()=>{v.value=!1,S("crear-nuevo-cliente",d.value)},E=()=>{d.value="",w.value="",v.value=!1,b.value=-1,j.value="",z.value=""},ne=()=>{S("ver-historial",k.clienteSeleccionado)},ie=()=>{S("editar-cliente",k.clienteSeleccionado)},re=l=>{D.value=D.value===l.value?null:l.value,d.value=l.termino||"",X()},A=l=>l?new Intl.NumberFormat("es-MX",{style:"currency",currency:"MXN"}).format(l):"$0.00",q=()=>{if(!p.value)return;const l=p.value.getBoundingClientRect();_.value=l.width,g.value={top:l.top+window.scrollY,left:l.left+window.scrollX,height:l.height}};return K(()=>k.clienteSeleccionado,l=>{l?(d.value=l.nombre_razon_social||"",v.value=!1):(E(),N(()=>{var t;(t=p.value)==null||t.focus()}))}),K(v,l=>{l&&N(q)}),ae(()=>{window.addEventListener("resize",q),window.addEventListener("scroll",q)}),de(()=>{window.removeEventListener("resize",q),window.removeEventListener("scroll",q),T.value&&clearTimeout(T.value),L.value&&clearTimeout(L.value)}),Q({limpiarBusqueda:E,focus:()=>N(()=>{var l;return(l=p.value)==null?void 0:l.focus()})}),(l,t)=>(s(),i("div",fe,[o.clienteSeleccionado?r("",!0):(s(),i("div",be,[e("div",he,[e("label",xe,[m(a(o.labelBusqueda)+" ",1),o.requerido?(s(),i("span",ge,"*")):r("",!0)]),e("div",ye,[ue(e("input",{ref_key:"inputBusqueda",ref:p,type:"text","onUpdate:modelValue":t[0]||(t[0]=n=>d.value=n),onInput:X,onFocus:t[1]||(t[1]=n=>v.value=!0),onBlur:le,onKeydown:se,placeholder:o.placeholderBusqueda,class:y(["w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 text-sm transition-all duration-200",{"border-red-300 focus:ring-red-500 focus:border-red-500":j.value||o.requerido&&z.value,"pl-10":o.iconoBusqueda}]),autocomplete:"new-password",disabled:o.deshabilitado},null,42,ke),[[ce,d.value]]),o.iconoBusqueda?(s(),i("div",pe,t[2]||(t[2]=[e("svg",{class:"w-5 h-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})],-1)]))):r("",!0),e("div",we,[d.value&&!M.value?(s(),i("button",{key:0,onClick:E,type:"button",class:"text-gray-400 hover:text-gray-600 p-1 rounded-full hover:bg-gray-100 transition-colors duration-200",title:"Limpiar búsqueda"},t[3]||(t[3]=[e("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)]))):M.value?(s(),i("div",Ce)):(s(),i("svg",Be,t[4]||(t[4]=[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"},null,-1)])))])]),j.value||o.requerido&&z.value?(s(),i("div",Se,a(j.value||z.value),1)):o.mensajeAyuda&&!d.value?(s(),i("div",Me,a(o.mensajeAyuda),1)):r("",!0),d.value&&!v.value&&h.value.length===0&&!M.value?(s(),i("div",je,' No se encontraron clientes que coincidan con "'+a(d.value)+'" ',1)):r("",!0),o.mostrarFiltrosRapidos&&!o.clienteSeleccionado?(s(),i("div",ze,[(s(!0),i($,null,U(o.filtrosRapidos,n=>(s(),i("button",{key:n.value,onClick:x=>re(n),class:y(["inline-flex items-center px-3 py-1 rounded-full text-xs font-medium transition-colors duration-200",D.value===n.value?"bg-blue-100 text-blue-800 border border-blue-300":"bg-gray-100 text-gray-700 border border-gray-300 hover:bg-gray-200"])},[n.icon?(s(),Y(ve(n.icon),{key:0,class:"w-3 h-3 mr-1"})):r("",!0),m(" "+a(n.label),1)],10,Te))),128))])):r("",!0)])])),o.clienteSeleccionado?(s(),i("div",Le,[e("div",He,[e("h3",qe,[t[5]||(t[5]=e("svg",{class:"w-5 h-5 mr-2 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})],-1)),m(" "+a(o.tituloClienteSeleccionado),1)]),e("div",Ve,[o.mostrarEstadoCliente?(s(),i("div",Ee,[e("div",{class:y(["w-2 h-2 rounded-full mr-2",{"bg-green-500":o.clienteSeleccionado.estado==="activo","bg-yellow-500":o.clienteSeleccionado.estado==="suspendido","bg-red-500":o.clienteSeleccionado.estado==="inactivo","bg-gray-500":!o.clienteSeleccionado.estado}])},null,2),e("span",Re,a(o.clienteSeleccionado.estado||"Pendiente"),1)])):r("",!0),o.mostrarHistorial?(s(),i("button",{key:1,onClick:ne,type:"button",class:"text-blue-500 hover:text-blue-700 hover:bg-blue-100 p-1 rounded-full transition-colors duration-200",title:"Ver historial"},t[6]||(t[6]=[e("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})],-1)]))):r("",!0),o.mostrarEditar?(s(),i("button",{key:2,onClick:ie,type:"button",class:"text-green-500 hover:text-green-700 hover:bg-green-100 p-1 rounded-full transition-colors duration-200",title:"Editar cliente"},t[7]||(t[7]=[e("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})],-1)]))):r("",!0),e("button",{type:"button",onClick:oe,class:"text-red-500 hover:text-red-700 hover:bg-red-100 p-1 rounded-full transition-colors duration-200",title:`Cambiar ${o.tipoDocumento.toLowerCase()}`},t[8]||(t[8]=[e("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)]),8,Ne)])]),e("div",_e,[e("div",De,[t[9]||(t[9]=e("div",{class:"flex items-center text-sm font-medium text-blue-700"},[e("svg",{class:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})]),m(" Nombre ")],-1)),e("div",Fe,a(o.clienteSeleccionado.nombre_razon_social),1)]),o.clienteSeleccionado.email?(s(),i("div",Ie,[t[10]||(t[10]=e("div",{class:"flex items-center text-sm font-medium text-blue-700"},[e("svg",{class:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M3 8l7.89 4.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"})]),m(" Email ")],-1)),e("div",Ae,a(o.clienteSeleccionado.email),1)])):r("",!0),o.clienteSeleccionado.telefono?(s(),i("div",$e,[t[11]||(t[11]=e("div",{class:"flex items-center text-sm font-medium text-blue-700"},[e("svg",{class:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z"})]),m(" Teléfono ")],-1)),e("div",Ue,a(o.clienteSeleccionado.telefono),1)])):r("",!0),o.clienteSeleccionado.rfc?(s(),i("div",Oe,[t[12]||(t[12]=e("div",{class:"flex items-center text-sm font-medium text-blue-700"},[e("svg",{class:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})]),m(" RFC ")],-1)),e("div",Pe,a(o.clienteSeleccionado.rfc),1)])):r("",!0),o.clienteSeleccionado.limite_credito&&o.mostrarInfoComercial?(s(),i("div",Xe,[t[13]||(t[13]=e("div",{class:"flex items-center text-sm font-medium text-blue-700"},[e("svg",{class:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1"})]),m(" Límite de Crédito ")],-1)),e("div",We,a(A(o.clienteSeleccionado.limite_credito)),1)])):r("",!0),o.clienteSeleccionado.credito_disponible&&o.mostrarInfoComercial?(s(),i("div",Je,[t[14]||(t[14]=e("div",{class:"flex items-center text-sm font-medium text-blue-700"},[e("svg",{class:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})]),m(" Crédito Disponible ")],-1)),e("div",{class:y(["text-gray-900 font-semibold",{"text-red-600":o.clienteSeleccionado.credito_disponible<=0,"text-yellow-600":o.clienteSeleccionado.credito_disponible>0&&o.clienteSeleccionado.credito_disponible<o.clienteSeleccionado.limite_credito*.2,"text-green-600":o.clienteSeleccionado.credito_disponible>=o.clienteSeleccionado.limite_credito*.2}])},a(A(o.clienteSeleccionado.credito_disponible)),3)])):r("",!0)]),P.value.length>0?(s(),i("div",Ke,[(s(!0),i($,null,U(P.value,n=>(s(),i("div",{key:n.id,class:y(["flex items-center p-3 rounded-lg text-sm",{"bg-red-50 text-red-800 border border-red-200":n.tipo==="error","bg-yellow-50 text-yellow-800 border border-yellow-200":n.tipo==="warning","bg-blue-50 text-blue-800 border border-blue-200":n.tipo==="info"}])},[t[15]||(t[15]=e("svg",{class:"w-4 h-4 mr-2 flex-shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L4.082 15.5c-.77.833.192 2.5 1.732 2.5z"})],-1)),m(" "+a(n.mensaje),1)],2))),128))])):r("",!0)])):(s(),i("div",Ye,[t[17]||(t[17]=e("svg",{class:"w-12 h-12 mx-auto text-gray-400 mb-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})],-1)),e("p",Ge,a(o.mensajeVacio),1),e("p",Qe,a(o.submensajeVacio),1),o.mostrarAccionRapida&&d.value?(s(),i("div",Ze,[e("button",{onClick:I,class:"inline-flex items-center px-4 py-2 bg-blue-600 text-white text-sm font-medium rounded-lg hover:bg-blue-700 transition-colors duration-200"},t[16]||(t[16]=[e("svg",{class:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})],-1),m(" Crear Nuevo Cliente ")]))])):r("",!0)])),(s(),Y(me,{to:"#app"},[v.value&&h.value.length>0?(s(),i("div",{key:0,ref_key:"listaClientesRef",ref:ee,class:"z-50 mt-1 bg-white border border-gray-300 rounded-lg shadow-lg max-h-[60vh] overflow-y-auto",style:G({position:"absolute",width:_.value+"px",top:g.value.top+g.value.height+"px",left:g.value.left+"px"})},[e("div",et,[e("div",tt,[e("span",null,a(h.value.length)+" cliente"+a(h.value.length!==1?"s":"")+" encontrado"+a(h.value.length!==1?"s":""),1),F.value?(s(),i("span",ot,"("+a(F.value)+"ms)",1)):r("",!0)])]),(s(!0),i($,null,U(h.value,(n,x)=>(s(),i("div",{key:n.id,onClick:B=>W(n),onMouseenter:B=>b.value=x,class:y(["px-4 py-3 hover:bg-blue-50 cursor-pointer border-b border-gray-100 last:border-b-0 transition-colors duration-150",{"bg-blue-50":b.value===x}])},[e("div",st,[e("div",nt,[e("div",it,[e("span",{innerHTML:H(n.nombre_razon_social,d.value)},null,8,rt),e("div",at,[n.estado?(s(),i("div",{key:0,class:y(["w-2 h-2 rounded-full",{"bg-green-500":n.estado==="activo","bg-yellow-500":n.estado==="suspendido","bg-red-500":n.estado==="inactivo"}]),title:n.estado},null,10,dt)):r("",!0),n.credito_disponible<=0?(s(),i("svg",ut,t[18]||(t[18]=[e("path",{"fill-rule":"evenodd",d:"M8.257 3.099c.765-1.36 2.722-1.36 3.486 0l5.58 9.92c.75 1.334-.213 2.98-1.742 2.98H4.42c-1.53 0-2.493-1.646-1.743-2.98l5.58-9.92zM11 13a1 1 0 11-2 0 1 1 0 012 0zm-1-8a1 1 0 00-1 1v3a1 1 0 002 0V6a1 1 0 00-1-1z"},null,-1)]))):r("",!0)])]),e("div",ct,[n.email?(s(),i("div",{key:0,class:"flex items-center",innerHTML:H(n.email,d.value)},null,8,vt)):r("",!0),n.telefono?(s(),i("div",{key:1,class:"flex items-center",innerHTML:H(n.telefono,d.value)},null,8,mt)):r("",!0),n.rfc?(s(),i("div",{key:2,class:"flex items-center font-mono text-xs",innerHTML:H(n.rfc,d.value)},null,8,ft)):r("",!0),n.limite_credito&&o.mostrarInfoComercial?(s(),i("div",bt," Crédito: "+a(A(n.credito_disponible||n.limite_credito)),1)):r("",!0)])]),n.empresa?(s(),i("div",ht,[e("div",{class:"text-xs text-blue-600 bg-blue-100 px-2 py-1 rounded-full whitespace-nowrap",innerHTML:H(n.empresa,d.value)},null,8,xt)])):r("",!0)])],42,lt))),128)),d.value&&o.mostrarOpcionNuevoCliente?(s(),i("div",gt,[e("button",{onClick:I,class:"w-full text-left px-3 py-2 text-sm text-blue-600 hover:text-blue-800 hover:bg-blue-50 rounded-md transition-colors duration-150 flex items-center"},[t[19]||(t[19]=e("svg",{class:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})],-1)),m(' Crear nuevo cliente: "'+a(d.value)+'" ',1)])])):r("",!0)],4)):r("",!0),v.value&&h.value.length===0&&w.value?(s(),i("div",{key:1,ref_key:"listaVaciaRef",ref:te,class:"z-50 mt-1 bg-white border border-gray-300 rounded-lg shadow-lg p-4",style:G({position:"absolute",width:_.value+"px",top:g.value.top+g.value.height+"px",left:g.value.left+"px"})},[e("div",{class:"text-center text-gray-500"},[t[21]||(t[21]=e("p",{class:"text-sm font-medium mb-1"},"No se encontraron clientes",-1)),t[22]||(t[22]=e("p",{class:"text-xs text-gray-400 mb-3"},"Intenta con otro término de búsqueda",-1)),e("button",{onClick:I,class:"inline-flex items-center px-3 py-2 text-sm text-blue-600 hover:text-blue-800 hover:bg-blue-50 rounded-md transition-colors duration-150"},t[20]||(t[20]=[e("svg",{class:"w-4 h-4 mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})],-1),m(" Crear nuevo cliente ")]))])],4)):r("",!0)]))]))}};export{kt as _};
