import{r as k,T as P,i,o as d,g as F,f as e,u as t,Z as q,n as y,q as M,v as l,L as _,k as n,l as u,z as m,t as a,F as g,m as v,x as c}from"./vendor-d19pJyVS.js";import{A as S}from"./AppLayout-CcnrZQKI.js";import{_ as A}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./utils-Dq7h7Pqt.js";import"./app-BcT2PLJy.js";const I={class:"max-w-4xl mx-auto"},$={class:"bg-white shadow-sm rounded-lg"},N={class:"border-b border-gray-200"},j={class:"flex space-x-8 px-6","aria-label":"Tabs"},G={class:"space-y-6"},L={class:"grid grid-cols-1 md:grid-cols-2 gap-6"},z={key:0,class:"error-message"},B={key:0,class:"error-message"},D={key:0,class:"error-message"},T={key:0,class:"error-message"},R=["value"],E={key:0,class:"error-message"},H=["value"],J={key:0,class:"error-message"},K=["value"],O={key:0,class:"error-message"},Z=["value"],Q={key:0,class:"error-message"},W={class:"space-y-6"},X={class:"grid grid-cols-1 md:grid-cols-2 gap-6"},Y={key:0,class:"error-message"},h={class:"relative"},ee={key:0,class:"error-message"},oe={class:"relative"},re={key:0,class:"error-message"},te={class:"relative"},se={key:0,class:"error-message"},ie=["value"],de={key:0,class:"error-message"},ae={class:"relative"},le={key:0,class:"error-message"},ne={key:0,class:"bg-gray-50 p-4 rounded-lg"},ue={class:"grid grid-cols-1 md:grid-cols-3 gap-4 text-sm"},me={class:"font-medium text-green-600 ml-2"},pe={class:"font-medium text-blue-600 ml-2"},ce={class:"font-medium text-gray-900 ml-2"},ge={class:"space-y-6"},ve={class:"grid grid-cols-1 md:grid-cols-2 gap-6"},be={key:0,class:"error-message"},xe={key:0,class:"error-message"},fe={class:"mt-2 flex justify-center px-6 pt-5 pb-6 border-2 border-gray-300 border-dashed rounded-lg hover:border-gray-400 transition-colors"},ye={class:"space-y-2 text-center"},_e={class:"text-sm text-gray-600"},ke={for:"imagen",class:"relative cursor-pointer bg-white rounded-md font-medium text-blue-600 hover:text-blue-500 focus-within:outline-none focus-within:ring-2 focus-within:ring-offset-2 focus-within:ring-blue-500"},Ve={key:0,class:"mt-4"},Ce=["src"],we={key:0,class:"error-message"},Ue={class:"flex items-center justify-end space-x-3 pt-6 border-t border-gray-200"},Pe=["disabled"],Fe={key:0},qe={key:1},Me=Object.assign({layout:S},{__name:"Create",props:{categorias:Array,marcas:Array,proveedores:Array,almacenes:Array},setup(b){const p=k("general"),x=k(null),V=["Kilogramos","Gramos","Litros","Mililitros","Piezas","Metros","Centímetros","Milímetros","Unidades"],r=P({nombre:"",descripcion:"",codigo:"",codigo_barras:"",numero_serie:"",categoria_id:"",marca_id:"",proveedor_id:"",almacen_id:"",stock_minimo:"",precio_compra:"",precio_venta:"",impuesto:"16",unidad_medida:"Piezas",fecha_vencimiento:"",tipo_producto:"fisico",imagen:null,estado:"activo",comision_vendedor:""}),C=()=>{r.post(route("productos.store"),{onSuccess:()=>{r.reset(),x.value=null}})},w=f=>{const o=f.target.files[0];if(o){r.imagen=o;const s=new FileReader;s.onload=U=>{x.value=U.target.result},s.readAsDataURL(o)}};return(f,o)=>(d(),i(g,null,[F(t(q),{title:"Crear Producto"}),e("div",I,[e("div",$,[o[57]||(o[57]=e("div",{class:"border-b border-gray-200 px-6 py-4"},[e("h1",{class:"text-2xl font-semibold text-gray-900"},"Crear Producto"),e("p",{class:"text-sm text-gray-600 mt-1"},"Complete la información del producto")],-1)),e("div",N,[e("nav",j,[e("button",{onClick:o[0]||(o[0]=s=>p.value="general"),class:y(["py-4 px-1 border-b-2 font-medium text-sm",p.value==="general"?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"]),type:"button"}," Información General ",2),e("button",{onClick:o[1]||(o[1]=s=>p.value="pricing"),class:y(["py-4 px-1 border-b-2 font-medium text-sm",p.value==="pricing"?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"]),type:"button"}," Precios e Inventario ",2),e("button",{onClick:o[2]||(o[2]=s=>p.value="additional"),class:y(["py-4 px-1 border-b-2 font-medium text-sm",p.value==="additional"?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"]),type:"button"}," Información Adicional ",2)])]),e("form",{onSubmit:M(C,["prevent"]),class:"p-6"},[l(e("div",G,[e("div",L,[e("div",null,[o[21]||(o[21]=e("label",{for:"nombre",class:"block text-sm font-medium text-gray-700 mb-2"},[u(" Nombre del Producto "),e("span",{class:"text-red-500"},"*")],-1)),l(e("input",{"onUpdate:modelValue":o[3]||(o[3]=s=>t(r).nombre=s),type:"text",id:"nombre",placeholder:"Ingrese el nombre del producto",class:"input-field",required:""},null,512),[[m,t(r).nombre]]),t(r).errors.nombre?(d(),i("div",z,a(t(r).errors.nombre),1)):n("",!0)]),e("div",null,[o[22]||(o[22]=e("label",{for:"codigo",class:"block text-sm font-medium text-gray-700 mb-2"},[u(" Código "),e("span",{class:"text-red-500"},"*")],-1)),l(e("input",{"onUpdate:modelValue":o[4]||(o[4]=s=>t(r).codigo=s),type:"text",id:"codigo",placeholder:"Código único del producto",class:"input-field",required:""},null,512),[[m,t(r).codigo]]),t(r).errors.codigo?(d(),i("div",B,a(t(r).errors.codigo),1)):n("",!0)]),e("div",null,[o[23]||(o[23]=e("label",{for:"codigo_barras",class:"block text-sm font-medium text-gray-700 mb-2"},[u(" Código de Barras "),e("span",{class:"text-red-500"},"*")],-1)),l(e("input",{"onUpdate:modelValue":o[5]||(o[5]=s=>t(r).codigo_barras=s),type:"text",id:"codigo_barras",placeholder:"Código de barras",class:"input-field",required:""},null,512),[[m,t(r).codigo_barras]]),t(r).errors.codigo_barras?(d(),i("div",D,a(t(r).errors.codigo_barras),1)):n("",!0)]),e("div",null,[o[24]||(o[24]=e("label",{for:"numero_serie",class:"block text-sm font-medium text-gray-700 mb-2"}," Número de Serie ",-1)),l(e("input",{"onUpdate:modelValue":o[6]||(o[6]=s=>t(r).numero_serie=s),type:"text",id:"numero_serie",placeholder:"Número de serie (opcional)",class:"input-field"},null,512),[[m,t(r).numero_serie]]),t(r).errors.numero_serie?(d(),i("div",T,a(t(r).errors.numero_serie),1)):n("",!0)]),e("div",null,[o[26]||(o[26]=e("label",{for:"categoria_id",class:"block text-sm font-medium text-gray-700 mb-2"},[u(" Categoría "),e("span",{class:"text-red-500"},"*")],-1)),l(e("select",{"onUpdate:modelValue":o[7]||(o[7]=s=>t(r).categoria_id=s),id:"categoria_id",class:"input-field",required:""},[o[25]||(o[25]=e("option",{value:""},"Seleccione una categoría",-1)),(d(!0),i(g,null,v(b.categorias,s=>(d(),i("option",{key:s.id,value:s.id},a(s.nombre),9,R))),128))],512),[[c,t(r).categoria_id]]),t(r).errors.categoria_id?(d(),i("div",E,a(t(r).errors.categoria_id),1)):n("",!0)]),e("div",null,[o[28]||(o[28]=e("label",{for:"marca_id",class:"block text-sm font-medium text-gray-700 mb-2"},[u(" Marca "),e("span",{class:"text-red-500"},"*")],-1)),l(e("select",{"onUpdate:modelValue":o[8]||(o[8]=s=>t(r).marca_id=s),id:"marca_id",class:"input-field",required:""},[o[27]||(o[27]=e("option",{value:""},"Seleccione una marca",-1)),(d(!0),i(g,null,v(b.marcas,s=>(d(),i("option",{key:s.id,value:s.id},a(s.nombre),9,H))),128))],512),[[c,t(r).marca_id]]),t(r).errors.marca_id?(d(),i("div",J,a(t(r).errors.marca_id),1)):n("",!0)]),e("div",null,[o[30]||(o[30]=e("label",{for:"proveedor_id",class:"block text-sm font-medium text-gray-700 mb-2"}," Proveedor ",-1)),l(e("select",{"onUpdate:modelValue":o[9]||(o[9]=s=>t(r).proveedor_id=s),id:"proveedor_id",class:"input-field"},[o[29]||(o[29]=e("option",{value:""},"Seleccione un proveedor",-1)),(d(!0),i(g,null,v(b.proveedores,s=>(d(),i("option",{key:s.id,value:s.id},a(s.nombre_razon_social),9,K))),128))],512),[[c,t(r).proveedor_id]]),t(r).errors.proveedor_id?(d(),i("div",O,a(t(r).errors.proveedor_id),1)):n("",!0)]),e("div",null,[o[32]||(o[32]=e("label",{for:"almacen_id",class:"block text-sm font-medium text-gray-700 mb-2"}," Almacén ",-1)),l(e("select",{"onUpdate:modelValue":o[10]||(o[10]=s=>t(r).almacen_id=s),id:"almacen_id",class:"input-field"},[o[31]||(o[31]=e("option",{value:""},"Seleccione un almacén",-1)),(d(!0),i(g,null,v(b.almacenes,s=>(d(),i("option",{key:s.id,value:s.id},a(s.nombre),9,Z))),128))],512),[[c,t(r).almacen_id]]),t(r).errors.almacen_id?(d(),i("div",Q,a(t(r).errors.almacen_id),1)):n("",!0)])]),e("div",null,[o[33]||(o[33]=e("label",{for:"descripcion",class:"block text-sm font-medium text-gray-700 mb-2"}," Descripción ",-1)),l(e("textarea",{"onUpdate:modelValue":o[11]||(o[11]=s=>t(r).descripcion=s),id:"descripcion",rows:"4",placeholder:"Descripción detallada del producto",class:"input-field resize-none"},null,512),[[m,t(r).descripcion]])])],512),[[_,p.value==="general"]]),l(e("div",W,[e("div",X,[e("div",null,[o[34]||(o[34]=e("label",{for:"stock_minimo",class:"block text-sm font-medium text-gray-700 mb-2"},[u(" Stock Mínimo "),e("span",{class:"text-red-500"},"*")],-1)),l(e("input",{"onUpdate:modelValue":o[12]||(o[12]=s=>t(r).stock_minimo=s),type:"number",id:"stock_minimo",placeholder:"Stock mínimo requerido",class:"input-field",min:"0",required:""},null,512),[[m,t(r).stock_minimo]]),t(r).errors.stock_minimo?(d(),i("div",Y,a(t(r).errors.stock_minimo),1)):n("",!0)]),e("div",null,[o[35]||(o[35]=e("label",{for:"precio_compra",class:"block text-sm font-medium text-gray-700 mb-2"},[u(" Precio de Compra "),e("span",{class:"text-red-500"},"*")],-1)),e("div",h,[l(e("input",{"onUpdate:modelValue":o[13]||(o[13]=s=>t(r).precio_compra=s),type:"number",step:"0.01",id:"precio_compra",placeholder:"$ 0.00",class:"input-field",min:"0",required:""},null,512),[[m,t(r).precio_compra]])]),t(r).errors.precio_compra?(d(),i("div",ee,a(t(r).errors.precio_compra),1)):n("",!0)]),e("div",null,[o[36]||(o[36]=e("label",{for:"precio_venta",class:"block text-sm font-medium text-gray-700 mb-2"},[u(" Precio de Venta "),e("span",{class:"text-red-500"},"*")],-1)),e("div",oe,[l(e("input",{"onUpdate:modelValue":o[14]||(o[14]=s=>t(r).precio_venta=s),type:"number",step:"0.01",id:"precio_venta",placeholder:"$ 0.00",class:"input-field",min:"0",required:""},null,512),[[m,t(r).precio_venta]])]),t(r).errors.precio_venta?(d(),i("div",re,a(t(r).errors.precio_venta),1)):n("",!0)]),e("div",null,[o[38]||(o[38]=e("label",{for:"impuesto",class:"block text-sm font-medium text-gray-700 mb-2"},[u(" Impuesto (%) "),e("span",{class:"text-red-500"},"*")],-1)),e("div",te,[l(e("input",{"onUpdate:modelValue":o[15]||(o[15]=s=>t(r).impuesto=s),type:"number",step:"0.01",id:"impuesto",placeholder:"16.00",class:"input-field pr-8",min:"0",max:"100",required:""},null,512),[[m,t(r).impuesto]]),o[37]||(o[37]=e("span",{class:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-500"},"%",-1))]),t(r).errors.impuesto?(d(),i("div",se,a(t(r).errors.impuesto),1)):n("",!0)]),e("div",null,[o[40]||(o[40]=e("label",{for:"unidad_medida",class:"block text-sm font-medium text-gray-700 mb-2"},[u(" Unidad de Medida "),e("span",{class:"text-red-500"},"*")],-1)),l(e("select",{"onUpdate:modelValue":o[16]||(o[16]=s=>t(r).unidad_medida=s),id:"unidad_medida",class:"input-field",required:""},[o[39]||(o[39]=e("option",{value:""},"Seleccione una unidad",-1)),(d(),i(g,null,v(V,s=>e("option",{key:s,value:s},a(s),9,ie)),64))],512),[[c,t(r).unidad_medida]]),t(r).errors.unidad_medida?(d(),i("div",de,a(t(r).errors.unidad_medida),1)):n("",!0)]),e("div",null,[o[42]||(o[42]=e("label",{for:"comision_vendedor",class:"block text-sm font-medium text-gray-700 mb-2"}," Comisión Vendedor (%) ",-1)),e("div",ae,[l(e("input",{"onUpdate:modelValue":o[17]||(o[17]=s=>t(r).comision_vendedor=s),type:"number",step:"0.01",id:"comision_vendedor",placeholder:"0.00",class:"input-field pr-8",min:"0",max:"100"},null,512),[[m,t(r).comision_vendedor]]),o[41]||(o[41]=e("span",{class:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-500"},"%",-1))]),o[43]||(o[43]=e("p",{class:"text-xs text-gray-500 mt-1"}," Porcentaje adicional que recibe el vendedor por cada venta de este producto ",-1)),t(r).errors.comision_vendedor?(d(),i("div",le,a(t(r).errors.comision_vendedor),1)):n("",!0)])]),t(r).precio_compra&&t(r).precio_venta?(d(),i("div",ne,[o[47]||(o[47]=e("h4",{class:"text-sm font-medium text-gray-700 mb-2"},"Análisis de Rentabilidad",-1)),e("div",ue,[e("div",null,[o[44]||(o[44]=e("span",{class:"text-gray-600"},"Margen:",-1)),e("span",me," $"+a((parseFloat(t(r).precio_venta)-parseFloat(t(r).precio_compra)).toFixed(2)),1)]),e("div",null,[o[45]||(o[45]=e("span",{class:"text-gray-600"},"Porcentaje:",-1)),e("span",pe,a(((parseFloat(t(r).precio_venta)-parseFloat(t(r).precio_compra))/parseFloat(t(r).precio_compra)*100).toFixed(1))+"% ",1)]),e("div",null,[o[46]||(o[46]=e("span",{class:"text-gray-600"},"Precio Final:",-1)),e("span",ce," $"+a((parseFloat(t(r).precio_venta)*(1+parseFloat(t(r).impuesto||0)/100)).toFixed(2)),1)])])])):n("",!0)],512),[[_,p.value==="pricing"]]),l(e("div",ge,[e("div",ve,[e("div",null,[o[49]||(o[49]=e("label",{for:"tipo_producto",class:"block text-sm font-medium text-gray-700 mb-2"},[u(" Tipo de Producto "),e("span",{class:"text-red-500"},"*")],-1)),l(e("select",{"onUpdate:modelValue":o[18]||(o[18]=s=>t(r).tipo_producto=s),id:"tipo_producto",class:"input-field",required:""},o[48]||(o[48]=[e("option",{value:"fisico"},"Producto Físico",-1),e("option",{value:"digital"},"Producto Digital",-1)]),512),[[c,t(r).tipo_producto]]),t(r).errors.tipo_producto?(d(),i("div",be,a(t(r).errors.tipo_producto),1)):n("",!0)]),e("div",null,[o[51]||(o[51]=e("label",{for:"estado",class:"block text-sm font-medium text-gray-700 mb-2"},[u(" Estado "),e("span",{class:"text-red-500"},"*")],-1)),l(e("select",{"onUpdate:modelValue":o[19]||(o[19]=s=>t(r).estado=s),id:"estado",class:"input-field",required:""},o[50]||(o[50]=[e("option",{value:"activo"},"Activo",-1),e("option",{value:"inactivo"},"Inactivo",-1)]),512),[[c,t(r).estado]]),t(r).errors.estado?(d(),i("div",xe,a(t(r).errors.estado),1)):n("",!0)])]),e("div",null,[o[56]||(o[56]=e("label",{for:"imagen",class:"block text-sm font-medium text-gray-700 mb-2"}," Imagen del Producto ",-1)),e("div",fe,[e("div",ye,[o[54]||(o[54]=e("svg",{class:"mx-auto h-12 w-12 text-gray-400",stroke:"currentColor",fill:"none",viewBox:"0 0 48 48"},[e("path",{d:"M28 8H12a4 4 0 00-4 4v20m32-12v8m0 0v8a4 4 0 01-4 4H12a4 4 0 01-4-4v-4m32-4l-3.172-3.172a4 4 0 00-5.656 0L28 28M8 32l9.172-9.172a4 4 0 015.656 0L28 28m0 0l4 4m4-24h8m-4-4v8m-12 4h.02","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"})],-1)),e("div",_e,[e("label",ke,[o[52]||(o[52]=e("span",null,"Subir imagen",-1)),e("input",{onChange:w,id:"imagen",name:"imagen",type:"file",accept:"image/*",class:"sr-only"},null,32)]),o[53]||(o[53]=e("p",{class:"pl-1"},"o arrastrar y soltar",-1))]),o[55]||(o[55]=e("p",{class:"text-xs text-gray-500"},"PNG, JPG, GIF hasta 10MB",-1)),x.value?(d(),i("div",Ve,[e("img",{src:x.value,alt:"Vista previa",class:"mx-auto h-32 w-32 object-cover rounded-lg border"},null,8,Ce)])):n("",!0)])]),t(r).errors.imagen?(d(),i("div",we,a(t(r).errors.imagen),1)):n("",!0)])],512),[[_,p.value==="additional"]]),e("div",Ue,[e("button",{type:"button",onClick:o[20]||(o[20]=s=>f.$inertia.visit(f.route("productos.index"))),class:"px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-md hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors"}," Cancelar "),e("button",{type:"submit",disabled:t(r).processing,class:"px-4 py-2 text-sm font-medium text-white bg-blue-600 border border-transparent rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed transition-colors"},[t(r).processing?(d(),i("span",Fe,"Guardando...")):(d(),i("span",qe,"Guardar Producto"))],8,Pe)])],32)])])],64))}}),je=A(Me,[["__scopeId","data-v-0e6a8f74"]]);export{je as default};
