import{Q as I,r as N,i,o as n,g as j,f as e,u as c,Z as S,e as x,l as g,A as v,t as o,v as u,z as T,x as f,F as m,m as y,n as C,k as b,b as M,N as V}from"./vendor-d19pJyVS.js";import{N as O}from"./app-BcT2PLJy.js";import{A as U}from"./AppLayout-CcnrZQKI.js";import{_ as H}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./utils-Dq7h7Pqt.js";const F={class:"min-h-screen bg-gradient-to-br from-slate-50 to-blue-50 p-6"},L={class:"max-w-7xl mx-auto"},P={class:"mb-8"},z={class:"flex items-center justify-between"},E={class:"grid grid-cols-1 md:grid-cols-5 gap-6 mb-8"},q={class:"bg-white rounded-xl border border-gray-200 shadow-sm p-6"},Q={class:"flex items-center"},Z={class:"ml-4"},G={class:"text-2xl font-bold text-gray-900"},J={class:"bg-white rounded-xl border border-gray-200 shadow-sm p-6"},K={class:"flex items-center"},R={class:"ml-4"},W={class:"text-2xl font-bold text-green-700"},X={class:"bg-white rounded-xl border border-gray-200 shadow-sm p-6"},Y={class:"flex items-center"},$={class:"ml-4"},ee={class:"text-2xl font-bold text-red-700"},te={class:"bg-white rounded-xl border border-gray-200 shadow-sm p-6"},se={class:"flex items-center"},oe={class:"ml-4"},re={class:"text-2xl font-bold text-purple-700"},ae={class:"bg-white rounded-xl border border-gray-200 shadow-sm p-6"},ne={class:"flex items-center"},de={class:"ml-4"},ie={class:"text-2xl font-bold text-orange-700"},le={class:"bg-white rounded-xl border border-gray-200 shadow-sm p-6 mb-6"},ce={class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4"},ue=["value"],me=["value"],pe={class:"bg-white rounded-xl border border-gray-200 shadow-sm overflow-hidden"},xe={class:"overflow-x-auto"},ge={class:"min-w-full divide-y divide-gray-200"},ve={class:"bg-white divide-y divide-gray-200"},fe={class:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900"},ye={class:"px-6 py-4 whitespace-nowrap"},be={class:"text-sm font-medium text-gray-900"},he={class:"text-sm text-gray-500"},we={class:"px-6 py-4 whitespace-nowrap"},_e={class:"text-sm text-gray-900"},ke={class:"px-6 py-4 whitespace-nowrap"},Ae={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-900"},je={class:"space-y-1"},Ce={class:"flex items-center gap-2"},Me={class:"font-medium"},Ve={class:"flex items-center gap-2"},Be={class:"flex items-center gap-2"},De={class:"font-medium text-blue-600"},Ie={class:"px-6 py-4"},Ne=["title"],Se=["title"],Te={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-900"},Oe={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-500"},Ue={class:"bg-white px-4 py-3 border-t border-gray-200 sm:px-6"},He={class:"flex items-center justify-between"},Fe={class:"text-sm text-gray-700"},Le={class:"flex space-x-1"},Pe=Object.assign({layout:U},{__name:"Index",props:{ajustes:{type:Object,required:!0},stats:{type:Object,default:()=>({})},filters:{type:Object,default:()=>({})},sorting:{type:Object,default:()=>({})},pagination:{type:Object,default:()=>({})},productos:{type:Array,default:()=>[]},almacenes:{type:Array,default:()=>[]}},setup(r){const h=new O({duration:4e3,position:{x:"right",y:"top"},types:[{type:"success",background:"#10b981",icon:!1},{type:"error",background:"#ef4444",icon:!1},{type:"warning",background:"#f59e0b",icon:!1}]}),d=I().props.flash;d!=null&&d.success&&h.success(d.success),d!=null&&d.error&&h.error(d.error);const a=N({...r.filters}),B=()=>{V.get(route("ajustes-inventario.index"),{search:a.value.search,producto_id:a.value.producto_id,almacen_id:a.value.almacen_id,tipo:a.value.tipo,page:1},{preserveState:!0,preserveScroll:!0})},p=()=>{V.get(route("ajustes-inventario.index"),{search:a.value.search,producto_id:a.value.producto_id,almacen_id:a.value.almacen_id,tipo:a.value.tipo,page:1},{preserveState:!0,preserveScroll:!0})},D=l=>l?new Date(l).toLocaleDateString("es-ES",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}):"N/A";return(l,t)=>(n(),i(m,null,[j(c(S),{title:"Ajustes de Inventario"}),e("div",F,[e("div",L,[e("div",P,[e("div",z,[t[5]||(t[5]=e("div",null,[e("h1",{class:"text-3xl font-bold text-gray-900"},"Ajustes de Inventario"),e("p",{class:"text-gray-600 mt-1"},"Historial completo de ajustes manuales de stock")],-1)),j(c(v),{href:l.route("ajustes-inventario.create"),class:"inline-flex items-center px-4 py-2 bg-gradient-to-r from-orange-600 to-orange-700 text-white font-semibold rounded-lg hover:from-orange-700 hover:to-orange-800 transition-all duration-200 shadow-lg hover:shadow-xl"},{default:x(()=>t[4]||(t[4]=[e("svg",{class:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})],-1),g(" Nuevo Ajuste ")])),_:1},8,["href"])])]),e("div",E,[e("div",q,[e("div",Q,[t[7]||(t[7]=e("div",{class:"p-3 bg-blue-100 rounded-lg"},[e("svg",{class:"w-6 h-6 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})])],-1)),e("div",Z,[t[6]||(t[6]=e("p",{class:"text-sm font-medium text-gray-600"},"Total Ajustes",-1)),e("p",G,o(r.stats.total),1)])])]),e("div",J,[e("div",K,[t[9]||(t[9]=e("div",{class:"p-3 bg-green-100 rounded-lg"},[e("svg",{class:"w-6 h-6 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M13 7h8m0 0v8m0-8l-8 8-4-4-6 6"})])],-1)),e("div",R,[t[8]||(t[8]=e("p",{class:"text-sm font-medium text-gray-600"},"Incrementos",-1)),e("p",W,o(r.stats.incrementos),1)])])]),e("div",X,[e("div",Y,[t[11]||(t[11]=e("div",{class:"p-3 bg-red-100 rounded-lg"},[e("svg",{class:"w-6 h-6 text-red-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M13 17h8m0 0V9m0 8l-8-8-4 4-6-6"})])],-1)),e("div",$,[t[10]||(t[10]=e("p",{class:"text-sm font-medium text-gray-600"},"Decrementos",-1)),e("p",ee,o(r.stats.decrementos),1)])])]),e("div",te,[e("div",se,[t[13]||(t[13]=e("div",{class:"p-3 bg-purple-100 rounded-lg"},[e("svg",{class:"w-6 h-6 text-purple-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M20 7l-8-4-8 4m16 0l-8 4m8-4v10l-8 4m0-10L4 7m8 4v10M4 7v10l8 4"})])],-1)),e("div",oe,[t[12]||(t[12]=e("p",{class:"text-sm font-medium text-gray-600"},"Productos Ajustados",-1)),e("p",re,o(r.stats.productos_ajustados),1)])])]),e("div",ae,[e("div",ne,[t[15]||(t[15]=e("div",{class:"p-3 bg-orange-100 rounded-lg"},[e("svg",{class:"w-6 h-6 text-orange-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4"})])],-1)),e("div",de,[t[14]||(t[14]=e("p",{class:"text-sm font-medium text-gray-600"},"Almacenes Afectados",-1)),e("p",ie,o(r.stats.almacenes_afectados),1)])])])]),e("div",le,[e("div",ce,[e("div",null,[t[16]||(t[16]=e("label",{for:"search",class:"block text-sm font-medium text-gray-700 mb-2"},"Buscar",-1)),u(e("input",{id:"search","onUpdate:modelValue":t[0]||(t[0]=s=>a.value.search=s),type:"text",placeholder:"ID, producto, almacén...",class:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",onInput:B},null,544),[[T,a.value.search]])]),e("div",null,[t[18]||(t[18]=e("label",{for:"producto_id",class:"block text-sm font-medium text-gray-700 mb-2"},"Producto",-1)),u(e("select",{id:"producto_id","onUpdate:modelValue":t[1]||(t[1]=s=>a.value.producto_id=s),class:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",onChange:p},[t[17]||(t[17]=e("option",{value:""},"Todos los productos",-1)),(n(!0),i(m,null,y(r.productos,s=>(n(),i("option",{key:s.id,value:s.id},o(s.nombre),9,ue))),128))],544),[[f,a.value.producto_id]])]),e("div",null,[t[20]||(t[20]=e("label",{for:"almacen_id",class:"block text-sm font-medium text-gray-700 mb-2"},"Almacén",-1)),u(e("select",{id:"almacen_id","onUpdate:modelValue":t[2]||(t[2]=s=>a.value.almacen_id=s),class:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",onChange:p},[t[19]||(t[19]=e("option",{value:""},"Todos los almacenes",-1)),(n(!0),i(m,null,y(r.almacenes,s=>(n(),i("option",{key:s.id,value:s.id},o(s.nombre),9,me))),128))],544),[[f,a.value.almacen_id]])]),e("div",null,[t[22]||(t[22]=e("label",{for:"tipo",class:"block text-sm font-medium text-gray-700 mb-2"},"Tipo de Ajuste",-1)),u(e("select",{id:"tipo","onUpdate:modelValue":t[3]||(t[3]=s=>a.value.tipo=s),class:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",onChange:p},t[21]||(t[21]=[e("option",{value:""},"Todos los tipos",-1),e("option",{value:"incremento"},"Incremento",-1),e("option",{value:"decremento"},"Decremento",-1)]),544),[[f,a.value.tipo]])])])]),e("div",pe,[e("div",xe,[e("table",ge,[t[25]||(t[25]=e("thead",{class:"bg-gray-50"},[e("tr",null,[e("th",{class:"px-6 py-4 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"ID"),e("th",{class:"px-6 py-4 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Producto"),e("th",{class:"px-6 py-4 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Almacén"),e("th",{class:"px-6 py-4 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Tipo"),e("th",{class:"px-6 py-4 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Cantidades"),e("th",{class:"px-6 py-4 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Motivo"),e("th",{class:"px-6 py-4 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Usuario"),e("th",{class:"px-6 py-4 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Fecha")])],-1)),e("tbody",ve,[(n(!0),i(m,null,y(r.ajustes.data,s=>{var w,_,k,A;return n(),i("tr",{key:s.id,class:"hover:bg-gray-50"},[e("td",fe," #"+o(s.id),1),e("td",ye,[e("div",be,o(((w=s.producto)==null?void 0:w.nombre)||"Producto no encontrado"),1),e("div",he,o(((_=s.producto)==null?void 0:_.codigo)||""),1)]),e("td",we,[e("div",_e,o(((k=s.almacen)==null?void 0:k.nombre)||"Almacén no encontrado"),1)]),e("td",ke,[e("span",{class:C([s.tipo==="incremento"?"bg-green-100 text-green-800":"bg-red-100 text-red-800","inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium"])},o(s.tipo==="incremento"?"Incremento":"Decremento"),3)]),e("td",Ae,[e("div",je,[e("div",Ce,[t[23]||(t[23]=e("span",{class:"text-gray-500"},"Antes:",-1)),e("span",Me,o(s.cantidad_anterior),1)]),e("div",Ve,[e("span",{class:C(s.tipo==="incremento"?"text-green-600":"text-red-600")},o(s.tipo==="incremento"?"+":"-")+o(s.cantidad_ajuste),3)]),e("div",Be,[t[24]||(t[24]=e("span",{class:"text-gray-500"},"Después:",-1)),e("span",De,o(s.cantidad_nueva),1)])])]),e("td",Ie,[e("div",{class:"text-sm text-gray-900 max-w-xs truncate",title:s.motivo},o(s.motivo),9,Ne),s.observaciones?(n(),i("div",{key:0,class:"text-xs text-gray-500 max-w-xs truncate",title:s.observaciones},o(s.observaciones),9,Se)):b("",!0)]),e("td",Te,o(((A=s.usuario)==null?void 0:A.name)||"Usuario no encontrado"),1),e("td",Oe,o(D(s.created_at)),1)])}),128))])])]),e("div",Ue,[e("div",He,[e("div",Fe," Mostrando "+o(r.pagination.from)+" a "+o(r.pagination.to)+" de "+o(r.pagination.total)+" resultados ",1),e("div",Le,[r.ajustes.prev_page_url?(n(),M(c(v),{key:0,href:r.ajustes.prev_page_url,class:"relative inline-flex items-center px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-md hover:bg-gray-50"},{default:x(()=>t[26]||(t[26]=[g(" Anterior ")])),_:1},8,["href"])):b("",!0),r.ajustes.next_page_url?(n(),M(c(v),{key:1,href:r.ajustes.next_page_url,class:"relative inline-flex items-center px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-md hover:bg-gray-50"},{default:x(()=>t[27]||(t[27]=[g(" Siguiente ")])),_:1},8,["href"])):b("",!0)])])])])])])],64))}}),Ke=H(Pe,[["__scopeId","data-v-80384200"]]);export{Ke as default};
