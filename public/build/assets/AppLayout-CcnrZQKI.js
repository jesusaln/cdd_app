import{Q as H,c as E,i as b,o as g,g as i,e as u,k as j,u as y,n as v,G as R,A as F,r as A,p as V,R as W,f as t,v as _,L as B,l as c,t as P,F as Q,m as J,q as K,w as X,O as Y,I as Z,N as T}from"./vendor-d19pJyVS.js";import{F as ee,l as te,f as oe,a as se,b as re,c as ae,d as le,e as ie,g as ne,h as de,i as ce,j as ue,k as pe,m as fe,o as me,p as ve,q as be,r as ge,s as he,t as ye,u as ke}from"./app-BcT2PLJy.js";import{_ as $}from"./_plugin-vue_export-helper-DlAUqK2U.js";import{a as D}from"./utils-Dq7h7Pqt.js";const xe={key:0,class:"font-medium truncate transition-opacity duration-300 ease-in-out"},we={__name:"NavLink",props:{href:{type:String,required:!0},icon:{type:[String,Array,Object],default:"circle"},exact:{type:Boolean,default:!1},collapsed:{type:Boolean,default:!1}},emits:["show-tooltip","hide-tooltip"],setup(s,{emit:r}){const a=s,o=H(),p=E(()=>{const h=o.url;return a.exact?h===a.href:a.href==="/"||a.href==="/"?h==="/":h===a.href||h.startsWith(a.href+"/")||(h+"/").startsWith(a.href+"/")}),n=E(()=>typeof a.icon=="object"?a.icon:typeof a.icon=="string"?a.icon.startsWith("fa-")?["fas",a.icon.replace("fa-","")]:["fas",a.icon]:["fas","circle"]),d=r,w=h=>{if(a.collapsed){const M=h.target.querySelector("span")?h.target.querySelector("span").textContent:"";d("show-tooltip",h,M.trim())}},C=()=>{a.collapsed&&d("hide-tooltip")};return(h,M)=>(g(),b("li",null,[i(y(F),{href:s.href,class:v(["group relative flex items-center py-3 text-gray-300 transition-all duration-200 ease-in-out hover:bg-gray-700 hover:text-white focus:bg-gray-700 focus:text-white focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 focus:ring-offset-gray-800",{"bg-gray-700 text-white border-r-2 border-blue-500":p.value,"px-4":!s.collapsed,"px-4 justify-center":s.collapsed,"hover:pl-6":!p.value&&!s.collapsed}]),"aria-current":p.value?"page":void 0,onMouseenter:M[0]||(M[0]=l=>w(l)),onMouseleave:C},{default:u(()=>[i(y(ee),{icon:n.value,class:v(["flex-shrink-0 transition-transform duration-200",{"mr-3 h-5 w-5 group-hover:scale-110":!s.collapsed,"h-6 w-6":s.collapsed,"text-blue-400":p.value}])},null,8,["icon","class"]),s.collapsed?j("",!0):(g(),b("span",xe,[R(h.$slots,"default",{},void 0,!0)]))]),_:3},8,["href","class","aria-current"])]))}},m=$(we,[["__scopeId","data-v-81bf54b6"]]),Ce={class:"flex items-center justify-between p-4 border-b border-gray-700 bg-gray-800/50 backdrop-blur-sm flex-shrink-0"},Se={key:0,class:"ml-3 text-xl font-semibold whitespace-nowrap overflow-hidden"},Me=["title","aria-label"],_e={class:"flex-1 overflow-y-auto pt-4"},Be={class:"px-2 pb-4"},je={class:"mb-4"},Pe={class:"px-3 mb-2 text-xs font-semibold text-gray-400 uppercase tracking-wider flex items-center gap-2"},Ae={class:"px-3 mb-2 flex justify-center"},De={class:"space-y-1"},Ee={class:"mb-4"},ze={class:"mt-2 space-y-1"},Fe={class:"mb-4"},$e={class:"mt-2 space-y-1"},Ne={class:"mb-4"},Ve={class:"mt-2 space-y-1"},Ie={class:"mb-4"},Le={class:"mt-2 space-y-1"},Te={class:"mb-4"},He={class:"mt-2 space-y-1"},Re={class:"mb-4"},qe={class:"mt-2 space-y-1"},Oe={class:"mb-4"},Ue={class:"mt-2 space-y-1"},Ge={class:"mb-4"},We={class:"mt-2 space-y-1"},Qe={class:"mb-4"},Je={class:"mt-2 space-y-1"},Ke={class:"mb-4"},Xe={class:"mt-2 space-y-1"},Ye=["src","alt"],Ze={class:"flex-1 min-w-0"},et={class:"text-sm font-medium text-gray-100 truncate"},tt={class:"text-xs text-gray-400 truncate"},ot={__name:"Sidebar",props:{usuario:{type:Object,required:!0},isSidebarCollapsed:{type:Boolean,default:!1},isMobile:{type:Boolean,default:!1}},emits:["toggleSidebar"],setup(s,{expose:r,emit:a}){const o=s,p=a,n=A({ventas:!1,prestamos:!1,compras:!1,catalogos:!1,inventario:!1,administracion:!1,usuario:!1,clientes_citas:!1,reportes:!1,rentas:!1,taller:!1,gestion_herramientas:!1}),d=l=>{o.isSidebarCollapsed?Object.keys(n.value).forEach(e=>{n.value[e]=e===l}):n.value[l]=!n.value[l]},w=()=>{const l=window.location.pathname;return l.includes("/productos")||l.includes("/traspasos")||l.includes("/movimientos-inventario")||l.includes("/ajustes-inventario")||l.includes("/movimientos-manuales")?"inventario":l.includes("/prestamos")?"prestamos":l.includes("/clientes")||l.includes("/citas")||l.includes("/cotizaciones")||l.includes("/pedidos")||l.includes("/ventas")||l.includes("/cuentas-por-cobrar")||l.includes("/entregas-dinero")?"ventas":l.includes("/compras")||l.includes("/ordenescompra")||l.includes("/proveedores")||l.includes("/cuentas-por-pagar")?"compras":l.includes("/servicios")||l.includes("/categorias")||l.includes("/marcas")||l.includes("/almacenes")?"catalogos":l.includes("/backup")||l.includes("/empresa/configuracion")?"administracion":l.includes("/usuarios")||l.includes("/bitacora")||l.includes("/vacaciones")||l.includes("/mis-vacaciones")?"usuario":l.includes("/reportes")?"reportes":l.includes("/rentas")||l.includes("/equipos")||l.includes("/cobranza")?"rentas":l.includes("/carros")||l.includes("/mantenimientos")?"taller":l.includes("/tecnicos")||l.includes("/herramientas/gestion")||l.includes("/herramientas-dashboard")||l.includes("/herramientas-mantenimiento")||l.includes("/herramientas-alertas")||l.includes("/herramientas-reportes")||l==="/herramientas"?"gestion_herramientas":null},C=()=>{const l=w();l&&(n.value[l]=!0)},h=l=>{try{return typeof route=="function"?route("backup.index"):l}catch{return l}},M=()=>{p("toggleSidebar")};return V(()=>{C()}),r({toggleSidebar:M,toggleAccordion:d,autoExpandCurrentSection:C,isSidebarCollapsed:o.isSidebarCollapsed,accordionStates:n}),(l,e)=>{const f=W("FontAwesomeIcon");return g(),b("aside",{class:v([{"w-64":!o.isSidebarCollapsed,"w-20":o.isSidebarCollapsed},"bg-gradient-to-b from-gray-800 to-gray-900 text-white fixed left-0 top-0 bottom-0 z-20 transition-all duration-300 ease-in-out overflow-y-auto shadow-2xl border-r border-gray-700 flex flex-col"]),role:"navigation","aria-label":"Barra lateral"},[t("div",Ce,[i(y(F),{href:"/panel",class:v(["flex items-center group overflow-hidden",{"justify-center w-full":o.isSidebarCollapsed}]),title:o.isSidebarCollapsed?"Ir al Panel":null},{default:u(()=>[t("img",{src:"/images/logo.png",alt:"Logo",class:v(["h-10 w-auto transition-transform duration-200 group-hover:scale-105",{"mx-auto":o.isSidebarCollapsed}])},null,2),o.isSidebarCollapsed?j("",!0):(g(),b("span",Se))]),_:1},8,["class","title"]),s.isMobile?j("",!0):(g(),b("button",{key:0,onClick:M,class:"p-2 rounded-lg hover:bg-gray-700 transition-colors duration-200 focus:outline-none focus:ring-2 focus:ring-blue-500 ml-auto",title:o.isSidebarCollapsed?"Expandir sidebar":"Contraer sidebar","aria-label":o.isSidebarCollapsed?"Expandir sidebar":"Contraer sidebar"},[i(f,{icon:o.isSidebarCollapsed?"fa-solid fa-chevron-right":"fa-solid fa-chevron-left",class:"text-gray-300 hover:text-white transition-colors duration-200"},null,8,["icon"])],8,Me))]),t("nav",_e,[t("div",Be,[t("div",je,[_(t("h3",Pe,e[10]||(e[10]=[t("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})],-1),c(" Dashboard ")]),512),[[B,!o.isSidebarCollapsed]]),_(t("div",Ae,e[11]||(e[11]=[t("div",{class:"w-8 h-8 flex items-center justify-center text-gray-400 hover:text-white hover:bg-gray-700/50 rounded-md transition-colors duration-200",title:"Dashboard"},[t("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})])],-1)]),512),[[B,o.isSidebarCollapsed]]),t("ul",De,[i(m,{href:"/panel",icon:"tachometer-alt",collapsed:o.isSidebarCollapsed,title:o.isSidebarCollapsed?"Panel":null},{default:u(()=>e[12]||(e[12]=[c(" Panel ")])),_:1},8,["collapsed","title"])])]),t("div",Ee,[t("div",{onClick:e[0]||(e[0]=S=>d("ventas")),class:"flex items-center justify-between px-3 py-2 text-xs font-semibold text-gray-400 uppercase tracking-wider cursor-pointer hover:text-white hover:bg-gray-700/50 rounded-md transition-colors duration-200"},[e[14]||(e[14]=t("div",{class:"flex items-center gap-2"},[t("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})]),t("span",null,"Ventas")],-1)),(g(),b("svg",{class:v([n.value.ventas?"rotate-90":"","w-3 h-3 transition-transform duration-200"]),fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},e[13]||(e[13]=[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 5l7 7-7 7"},null,-1)]),2))]),_(t("div",ze,[i(m,{href:"/clientes",icon:"users",collapsed:o.isSidebarCollapsed,title:o.isSidebarCollapsed?"Clientes":null},{default:u(()=>e[15]||(e[15]=[c(" Clientes ")])),_:1},8,["collapsed","title"]),i(m,{href:"/citas",icon:"calendar-alt",collapsed:o.isSidebarCollapsed,title:o.isSidebarCollapsed?"Citas Agendadas":null},{default:u(()=>e[16]||(e[16]=[c(" Citas Agendadas ")])),_:1},8,["collapsed","title"]),i(m,{href:"/cotizaciones",icon:"file-alt",collapsed:o.isSidebarCollapsed,title:o.isSidebarCollapsed?"Cotizaciones":null},{default:u(()=>e[17]||(e[17]=[c(" Cotizaciones ")])),_:1},8,["collapsed","title"]),i(m,{href:"/pedidos",icon:"truck",collapsed:o.isSidebarCollapsed,title:o.isSidebarCollapsed?"Pedidos":null},{default:u(()=>e[18]||(e[18]=[c(" Pedidos ")])),_:1},8,["collapsed","title"]),i(m,{href:"/ventas",icon:"dollar-sign",collapsed:o.isSidebarCollapsed,title:o.isSidebarCollapsed?"Ventas Realizadas":null},{default:u(()=>e[19]||(e[19]=[c(" Ventas Realizadas ")])),_:1},8,["collapsed","title"]),i(m,{href:"/cuentas-por-cobrar",icon:"file-invoice-dollar",collapsed:o.isSidebarCollapsed,title:o.isSidebarCollapsed?"Cuentas por Cobrar":null},{default:u(()=>e[20]||(e[20]=[c(" Cuentas por Cobrar ")])),_:1},8,["collapsed","title"]),i(m,{href:"/entregas-dinero",icon:"dollar-sign",collapsed:o.isSidebarCollapsed,title:o.isSidebarCollapsed?"Entregas de Dinero":null},{default:u(()=>e[21]||(e[21]=[c(" Entregas de Dinero ")])),_:1},8,["collapsed","title"])],512),[[B,n.value.ventas]])]),t("div",Fe,[t("div",{onClick:e[1]||(e[1]=S=>d("prestamos")),class:"flex items-center justify-between px-3 py-2 text-xs font-semibold text-gray-400 uppercase tracking-wider cursor-pointer hover:text-white hover:bg-gray-700/50 rounded-md transition-colors duration-200"},[e[23]||(e[23]=t("div",{class:"flex items-center gap-2"},[t("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})]),t("span",null,"Préstamos")],-1)),(g(),b("svg",{class:v([n.value.prestamos?"rotate-90":"","w-3 h-3 transition-transform duration-200"]),fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},e[22]||(e[22]=[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 5l7 7-7 7"},null,-1)]),2))]),_(t("div",$e,[i(m,{href:"/prestamos",icon:"money-bill-wave",collapsed:o.isSidebarCollapsed,title:o.isSidebarCollapsed?"Lista de Préstamos":null},{default:u(()=>e[24]||(e[24]=[c(" Lista de Préstamos ")])),_:1},8,["collapsed","title"]),i(m,{href:"/prestamos/create",icon:"plus",collapsed:o.isSidebarCollapsed,title:o.isSidebarCollapsed?"Crear Préstamo":null},{default:u(()=>e[25]||(e[25]=[c(" Crear Préstamo ")])),_:1},8,["collapsed","title"]),i(m,{href:"/pagos",collapsed:o.isSidebarCollapsed,title:o.isSidebarCollapsed?"Pagos de Préstamos":null},{default:u(()=>e[26]||(e[26]=[c(" 💳 Pagos de Préstamos ")])),_:1},8,["collapsed","title"])],512),[[B,n.value.prestamos]])]),t("div",Ne,[t("div",{onClick:e[2]||(e[2]=S=>d("compras")),class:"flex items-center justify-between px-3 py-2 text-xs font-semibold text-gray-400 uppercase tracking-wider cursor-pointer hover:text-white hover:bg-gray-700/50 rounded-md transition-colors duration-200"},[e[28]||(e[28]=t("div",{class:"flex items-center gap-2"},[t("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M16 11V7a4 4 0 00-8 0v4M5 9h14l1 12H4L5 9z"})]),t("span",null,"Compras")],-1)),(g(),b("svg",{class:v([n.value.compras?"rotate-90":"","w-3 h-3 transition-transform duration-200"]),fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},e[27]||(e[27]=[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 5l7 7-7 7"},null,-1)]),2))]),_(t("div",Ve,[i(m,{href:"/proveedores",icon:"truck",collapsed:o.isSidebarCollapsed,title:o.isSidebarCollapsed?"Proveedores":null},{default:u(()=>e[29]||(e[29]=[c(" Proveedores ")])),_:1},8,["collapsed","title"]),i(m,{href:"/ordenescompra",icon:"file-invoice-dollar",collapsed:o.isSidebarCollapsed,title:o.isSidebarCollapsed?"Órdenes de Compra":null},{default:u(()=>e[30]||(e[30]=[c(" Órdenes de Compra ")])),_:1},8,["collapsed","title"]),i(m,{href:"/compras",icon:"cart-shopping",collapsed:o.isSidebarCollapsed,title:o.isSidebarCollapsed?"Compras a Proveedores":null},{default:u(()=>e[31]||(e[31]=[c(" Compras a Proveedores ")])),_:1},8,["collapsed","title"]),i(m,{href:"/cuentas-por-pagar",icon:"file-invoice-dollar",collapsed:o.isSidebarCollapsed,title:o.isSidebarCollapsed?"Cuentas por Pagar":null},{default:u(()=>e[32]||(e[32]=[c(" Cuentas por Pagar ")])),_:1},8,["collapsed","title"])],512),[[B,n.value.compras]])]),t("div",Ie,[t("div",{onClick:e[3]||(e[3]=S=>d("rentas")),class:"flex items-center justify-between px-3 py-2 text-xs font-semibold text-gray-400 uppercase tracking-wider cursor-pointer hover:text-white hover:bg-gray-700/50 rounded-md transition-colors duration-200"},[e[34]||(e[34]=t("div",{class:"flex items-center gap-2"},[t("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})]),t("span",null,"Rentas PDV")],-1)),(g(),b("svg",{class:v([n.value.rentas?"rotate-90":"","w-3 h-3 transition-transform duration-200"]),fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},e[33]||(e[33]=[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 5l7 7-7 7"},null,-1)]),2))]),_(t("div",Le,[i(m,{href:"/rentas",icon:"file-contract",collapsed:o.isSidebarCollapsed,title:o.isSidebarCollapsed?"Rentas":null},{default:u(()=>e[35]||(e[35]=[c(" Rentas ")])),_:1},8,["collapsed","title"]),i(m,{href:"/equipos",icon:"laptop",collapsed:o.isSidebarCollapsed,title:o.isSidebarCollapsed?"Equipos":null},{default:u(()=>e[36]||(e[36]=[c(" Equipos ")])),_:1},8,["collapsed","title"]),i(m,{href:"/cobranza",icon:"dollar-sign",collapsed:o.isSidebarCollapsed,title:o.isSidebarCollapsed?"Cobranza":null},{default:u(()=>e[37]||(e[37]=[c(" Cobranza ")])),_:1},8,["collapsed","title"])],512),[[B,n.value.rentas]])]),t("div",Te,[t("div",{onClick:e[4]||(e[4]=S=>d("inventario")),class:"flex items-center justify-between px-3 py-2 text-xs font-semibold text-gray-400 uppercase tracking-wider cursor-pointer hover:text-white hover:bg-gray-700/50 rounded-md transition-colors duration-200"},[e[39]||(e[39]=t("div",{class:"flex items-center gap-2"},[t("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M20 7l-8-4-8 4m16 0l-8 4m8-4v10l-8 4m0-10L4 7m8 4v10M4 7v10l8 4"})]),t("span",null,"Inventario")],-1)),(g(),b("svg",{class:v([n.value.inventario?"rotate-90":"","w-3 h-3 transition-transform duration-200"]),fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},e[38]||(e[38]=[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 5l7 7-7 7"},null,-1)]),2))]),_(t("div",He,[i(m,{href:"/productos",icon:"box",collapsed:o.isSidebarCollapsed,title:o.isSidebarCollapsed?"Productos":null},{default:u(()=>e[40]||(e[40]=[c(" Productos ")])),_:1},8,["collapsed","title"]),i(m,{href:"/traspasos",icon:"exchange-alt",collapsed:o.isSidebarCollapsed,title:o.isSidebarCollapsed?"Traspasos":null},{default:u(()=>e[41]||(e[41]=[c(" Traspasos ")])),_:1},8,["collapsed","title"]),i(m,{href:"/movimientos-inventario",icon:"history",collapsed:o.isSidebarCollapsed,title:o.isSidebarCollapsed?"Movimientos":null},{default:u(()=>e[42]||(e[42]=[c(" Movimientos ")])),_:1},8,["collapsed","title"]),i(m,{href:"/ajustes-inventario",icon:"cogs",collapsed:o.isSidebarCollapsed,title:o.isSidebarCollapsed?"Ajustes":null},{default:u(()=>e[43]||(e[43]=[c(" Ajustes ")])),_:1},8,["collapsed","title"]),i(m,{href:"/movimientos-manuales",icon:"exchange-alt",collapsed:o.isSidebarCollapsed,title:o.isSidebarCollapsed?"Mov. Manuales":null},{default:u(()=>e[44]||(e[44]=[c(" Mov. Manuales ")])),_:1},8,["collapsed","title"])],512),[[B,n.value.inventario]])]),t("div",Re,[t("div",{onClick:e[5]||(e[5]=S=>d("catalogos")),class:"flex items-center justify-between px-3 py-2 text-xs font-semibold text-gray-400 uppercase tracking-wider cursor-pointer hover:text-white hover:bg-gray-700/50 rounded-md transition-colors duration-200"},[e[46]||(e[46]=t("div",{class:"flex items-center gap-2"},[t("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 11H5m14 0a2 2 0 012 2v6a2 2 0 01-2 2H5a2 2 0 01-2-2v-6a2 2 0 012-2m14 0V9a2 2 0 00-2-2M5 11V9a2 2 0 012-2m0 0V5a2 2 0 012-2h6a2 2 0 012 2v2M7 7h10"})]),t("span",null,"Catálogos")],-1)),(g(),b("svg",{class:v([n.value.catalogos?"rotate-90":"","w-3 h-3 transition-transform duration-200"]),fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},e[45]||(e[45]=[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 5l7 7-7 7"},null,-1)]),2))]),_(t("div",qe,[i(m,{href:"/categorias",icon:"tags",collapsed:o.isSidebarCollapsed,title:o.isSidebarCollapsed?"Categorías":null},{default:u(()=>e[47]||(e[47]=[c(" Categorías ")])),_:1},8,["collapsed","title"]),i(m,{href:"/marcas",icon:"trademark",collapsed:o.isSidebarCollapsed,title:o.isSidebarCollapsed?"Marcas de Productos":null},{default:u(()=>e[48]||(e[48]=[c(" Marcas de Productos ")])),_:1},8,["collapsed","title"]),i(m,{href:"/almacenes",icon:"warehouse",collapsed:o.isSidebarCollapsed,title:o.isSidebarCollapsed?"Almacenes":null},{default:u(()=>e[49]||(e[49]=[c(" Almacenes ")])),_:1},8,["collapsed","title"]),i(m,{href:"/servicios",icon:"wrench",collapsed:o.isSidebarCollapsed,title:o.isSidebarCollapsed?"Servicios":null},{default:u(()=>e[50]||(e[50]=[c(" Servicios ")])),_:1},8,["collapsed","title"])],512),[[B,n.value.catalogos]])]),t("div",Oe,[t("div",{onClick:e[6]||(e[6]=S=>d("reportes")),class:"flex items-center justify-between px-3 py-2 text-xs font-semibold text-gray-400 uppercase tracking-wider cursor-pointer hover:text-white hover:bg-gray-700/50 rounded-md transition-colors duration-200"},[e[52]||(e[52]=t("div",{class:"flex items-center gap-2"},[t("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})]),t("span",null,"Reportes")],-1)),(g(),b("svg",{class:v([n.value.reportes?"rotate-90":"","w-3 h-3 transition-transform duration-200"]),fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},e[51]||(e[51]=[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 5l7 7-7 7"},null,-1)]),2))]),_(t("div",Ue,[i(m,{href:"/reportes",icon:"chart-bar",collapsed:o.isSidebarCollapsed,title:o.isSidebarCollapsed?"Centro de Reportes":null},{default:u(()=>e[53]||(e[53]=[c(" Centro de Reportes ")])),_:1},8,["collapsed","title"])],512),[[B,n.value.reportes]])]),t("div",Ge,[t("div",{onClick:e[7]||(e[7]=S=>d("gestion_herramientas")),class:"flex items-center justify-between px-3 py-2 text-xs font-semibold text-gray-400 uppercase tracking-wider cursor-pointer hover:text-white hover:bg-gray-700/50 rounded-md transition-colors duration-200"},[e[55]||(e[55]=t("div",{class:"flex items-center gap-2"},[t("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M3 7h18M5 7l2 12h10l2-12M10 11h4m-6 0h.01M10 15h4m-6 0h.01"})]),t("span",null,"Gestión de Herramientas")],-1)),(g(),b("svg",{class:v([n.value.gestion_herramientas?"rotate-90":"","w-3 h-3 transition-transform duration-200"]),fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},e[54]||(e[54]=[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 5l7 7-7 7"},null,-1)]),2))]),_(t("div",We,[i(m,{href:"/herramientas",icon:"toolbox",collapsed:o.isSidebarCollapsed,title:o.isSidebarCollapsed?"Catálogo de Herramientas":null},{default:u(()=>e[56]||(e[56]=[c(" Catálogo de Herramientas ")])),_:1},8,["collapsed","title"]),i(m,{href:"/tecnicos",icon:"user-cog",collapsed:o.isSidebarCollapsed,title:o.isSidebarCollapsed?"Catálogo de Técnicos":null},{default:u(()=>e[57]||(e[57]=[c(" Catálogo de Técnicos ")])),_:1},8,["collapsed","title"]),i(m,{href:"/herramientas/gestion",icon:"wrench",collapsed:o.isSidebarCollapsed,title:o.isSidebarCollapsed?"Gestión de Herramientas":null},{default:u(()=>e[58]||(e[58]=[c(" Gestión de Herramientas ")])),_:1},8,["collapsed","title"])],512),[[B,n.value.gestion_herramientas]])]),t("div",Qe,[t("div",{onClick:e[8]||(e[8]=S=>d("administracion")),class:"flex items-center justify-between px-3 py-2 text-xs font-semibold text-gray-400 uppercase tracking-wider cursor-pointer hover:text-white hover:bg-gray-700/50 rounded-md transition-colors duration-200"},[e[60]||(e[60]=t("div",{class:"flex items-center gap-2"},[t("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z M15 12a3 3 0 11-6 0 3 3 0 016 0z"})]),t("span",null,"Administración")],-1)),(g(),b("svg",{class:v([n.value.administracion?"rotate-90":"","w-3 h-3 transition-transform duration-200"]),fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},e[59]||(e[59]=[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 5l7 7-7 7"},null,-1)]),2))]),_(t("div",Je,[i(m,{href:h("/backup"),icon:"database",collapsed:o.isSidebarCollapsed,title:o.isSidebarCollapsed?"Copia de Seguridad":null},{default:u(()=>e[61]||(e[61]=[c(" Copia de Seguridad ")])),_:1},8,["href","collapsed","title"]),i(m,{href:"/empresa/configuracion",icon:"cog",collapsed:o.isSidebarCollapsed,title:o.isSidebarCollapsed?"Configuración de Empresa":null},{default:u(()=>e[62]||(e[62]=[c(" Configuración de Empresa ")])),_:1},8,["collapsed","title"])],512),[[B,n.value.administracion]])]),t("div",Ke,[t("div",{onClick:e[9]||(e[9]=S=>d("usuario")),class:"flex items-center justify-between px-3 py-2 text-xs font-semibold text-gray-400 uppercase tracking-wider cursor-pointer hover:text-white hover:bg-gray-700/50 rounded-md transition-colors duration-200"},[e[64]||(e[64]=t("div",{class:"flex items-center gap-2"},[t("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})]),t("span",null,"Usuario")],-1)),(g(),b("svg",{class:v([n.value.usuario?"rotate-90":"","w-3 h-3 transition-transform duration-200"]),fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},e[63]||(e[63]=[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 5l7 7-7 7"},null,-1)]),2))]),_(t("div",Xe,[i(m,{href:"/usuarios",icon:"user",collapsed:o.isSidebarCollapsed,title:o.isSidebarCollapsed?"Usuarios":null},{default:u(()=>e[65]||(e[65]=[c(" Usuarios ")])),_:1},8,["collapsed","title"]),i(m,{href:"/bitacora",icon:"clipboard-list",collapsed:o.isSidebarCollapsed,title:o.isSidebarCollapsed?"Bitácora":null},{default:u(()=>e[66]||(e[66]=[c(" Bitácora ")])),_:1},8,["collapsed","title"]),i(m,{href:"/mis-vacaciones",collapsed:o.isSidebarCollapsed,title:o.isSidebarCollapsed?"Mis Vacaciones":null},{default:u(()=>e[67]||(e[67]=[c(" Mis Vacaciones ")])),_:1},8,["collapsed","title"]),i(m,{href:"/vacaciones",collapsed:o.isSidebarCollapsed,title:o.isSidebarCollapsed?"Gestión de Vacaciones":null},{default:u(()=>e[68]||(e[68]=[c(" Gestión de Vacaciones ")])),_:1},8,["collapsed","title"]),i(m,{href:"/vacaciones/create",collapsed:o.isSidebarCollapsed,title:o.isSidebarCollapsed?"Nueva Solicitud":null},{default:u(()=>e[69]||(e[69]=[c(" Nueva Solicitud ")])),_:1},8,["collapsed","title"])],512),[[B,n.value.usuario]])])])]),t("div",{class:v(["border-t border-gray-700 p-4 bg-gray-800/50 backdrop-blur-sm flex-shrink-0",{"flex justify-center":o.isSidebarCollapsed}])},[t("div",{class:v(["flex items-center",{"w-full justify-center":o.isSidebarCollapsed,"space-x-3":!o.isSidebarCollapsed}])},[t("img",{src:o.usuario.profile_photo_url,alt:o.usuario.name,class:"w-10 h-10 rounded-full border-2 border-gray-600 object-cover flex-shrink-0"},null,8,Ye),_(t("div",Ze,[t("p",et,P(o.usuario.name),1),t("p",tt,P(o.usuario.email),1)],512),[[B,!o.isSidebarCollapsed]])],2)],2)],2)}}},st=$(ot,[["__scopeId","data-v-8eb00f13"]]),rt={name:"NotificationBell",data(){return{notifications:[],unreadCount:0,showDropdown:!1,loading:!1}},mounted(){this.loadUnreadCount(),this.unreadCountInterval=setInterval(()=>{this.loadUnreadCount()},3e4)},beforeUnmount(){this.unreadCountInterval&&clearInterval(this.unreadCountInterval)},methods:{async toggleDropdown(){this.showDropdown?this.closeDropdown():(this.showDropdown=!0,this.notifications.length===0&&await this.loadNotifications())},closeDropdown(){this.showDropdown=!1},async loadNotifications(){this.loading=!0;try{const s=await D.get("/notifications");this.notifications=s.data.notifications||[],this.unreadCount=s.data.unread_count||0}catch(s){console.error("Error loading notifications:",s),this.handleAuthError(s)}finally{this.loading=!1}},async loadUnreadCount(){try{const s=await D.get("/notifications/unread-count");this.unreadCount=s.data.unread_count||0}catch(s){console.error("Error loading unread count:",s),this.handleAuthError(s)}},async markAsRead(s){try{await D.post("/notifications/mark-as-read",{ids:[s]});const r=this.notifications.find(a=>a.id===s);r&&!r.read&&(r.read=!0,r.read_at=new Date().toISOString(),this.unreadCount=Math.max(0,this.unreadCount-1))}catch(r){console.error("Error marking notification as read:",r),this.handleAuthError(r)}},async markAllAsRead(){try{if(this.notifications.filter(r=>!r.read).length===0)return;await D.post("/notifications/mark-all-as-read"),this.notifications.forEach(r=>{r.read||(r.read=!0,r.read_at=new Date().toISOString())}),this.unreadCount=0}catch(s){console.error("Error marking all notifications as read:",s),this.handleAuthError(s),(!s.response||s.response.status!==401&&s.response.status!==419)&&alert("Error al marcar las notificaciones como leídas")}},async removeNotification(s){var r;try{await D.delete(`/notifications/${s}`);const a=this.notifications.findIndex(o=>o.id===s);a>-1&&(this.notifications[a].read||(this.unreadCount=Math.max(0,this.unreadCount-1)),this.notifications.splice(a,1))}catch(a){((r=a.response)==null?void 0:r.status)===404?alert("La funcionalidad de eliminar notificaciones no está disponible en el servidor"):(console.error("Error removing notification:",a),this.handleAuthError(a),(!a.response||a.response.status!==401&&a.response.status!==419)&&alert("Error al eliminar la notificación"))}},async removeAllNotifications(){if(confirm("¿Estás seguro de que quieres eliminar todas las notificaciones?"))try{const s=this.notifications.map(r=>D.delete(`/notifications/${r.id}`));await Promise.all(s),this.notifications=[],this.unreadCount=0}catch(s){console.error("Error removing all notifications:",s),this.handleAuthError(s),(!s.response||s.response.status!==401&&s.response.status!==419)&&alert("Error al eliminar todas las notificaciones")}},formatTime(s){if(!s)return"";const r=new Date(s),o=new Date-r;if(o<6e4)return"Hace un momento";if(o<36e5){const p=Math.floor(o/6e4);return`Hace ${p} minuto${p>1?"s":""}`}if(o<864e5){const p=Math.floor(o/36e5);return`Hace ${p} hora${p>1?"s":""}`}return r.toLocaleDateString("es-ES",{day:"numeric",month:"short",hour:"2-digit",minute:"2-digit"})},handleAuthError(s){var r,a;((r=s.response)==null?void 0:r.status)===401?(console.warn("Usuario no autenticado, redirigiendo al login..."),window.location.href="/login"):((a=s.response)==null?void 0:a.status)===419&&(console.warn("CSRF token mismatch, refrescando la página..."),window.location.reload())}}},at={class:"notification-bell-container"},lt={key:0,class:"notification-badge"},it={key:0,class:"notifications-dropdown"},nt={class:"dropdown-header"},dt={key:0,class:"loading"},ct={key:1,class:"notifications-list"},ut={key:0,class:"no-notifications"},pt=["onClick"],ft={class:"notification-title"},mt={class:"notification-message"},vt={class:"notification-time"},bt=["onClick"],gt={key:2,class:"dropdown-footer"};function ht(s,r,a,o,p,n){return g(),b("div",at,[t("button",{onClick:r[0]||(r[0]=(...d)=>n.toggleDropdown&&n.toggleDropdown(...d)),class:"notification-bell-btn",type:"button"},[r[5]||(r[5]=c(" 🔔 ")),p.unreadCount>0?(g(),b("span",lt,P(p.unreadCount),1)):j("",!0)]),p.showDropdown?(g(),b("div",it,[t("div",nt,[r[6]||(r[6]=t("h4",null,"Notificaciones",-1)),t("button",{onClick:r[1]||(r[1]=(...d)=>n.closeDropdown&&n.closeDropdown(...d)),class:"close-btn"},"×")]),p.loading?(g(),b("div",dt," Cargando notificaciones... ")):(g(),b("div",ct,[p.notifications.length===0?(g(),b("div",ut," No hay notificaciones ")):j("",!0),(g(!0),b(Q,null,J(p.notifications,d=>(g(),b("div",{key:d.id,class:v(["notification-item",{unread:!d.read}])},[t("div",{class:"notification-content",onClick:w=>n.markAsRead(d.id)},[t("div",ft,P(d.title),1),t("div",mt,P(d.message),1),t("div",vt,P(n.formatTime(d.created_at)),1)],8,pt),t("button",{onClick:K(w=>n.removeNotification(d.id),["stop"]),class:"remove-notification-btn",title:"Eliminar notificación"}," × ",8,bt)],2))),128))])),p.notifications.length>0?(g(),b("div",gt,[t("button",{onClick:r[2]||(r[2]=(...d)=>n.markAllAsRead&&n.markAllAsRead(...d)),class:"mark-all-read-btn"}," Marcar todas como leídas "),t("button",{onClick:r[3]||(r[3]=(...d)=>n.removeAllNotifications&&n.removeAllNotifications(...d)),class:"remove-all-btn"}," Eliminar todas ")])):j("",!0)])):j("",!0),p.showDropdown?(g(),b("div",{key:1,class:"dropdown-overlay",onClick:r[4]||(r[4]=(...d)=>n.closeDropdown&&n.closeDropdown(...d))})):j("",!0)])}const yt=$(rt,[["render",ht],["__scopeId","data-v-8a763279"]]);function kt(s=null){const r=A(!1),a=A(!0),o={primary:(s==null?void 0:s.color_principal)||"#3B82F6",secondary:(s==null?void 0:s.color_secundario)||"#1E40AF",background:"#FFFFFF",surface:"#F9FAFB",text:"#111827",textSecondary:"#6B7280",border:"#E5E7EB",hover:"#F3F4F6"},p={primary:(s==null?void 0:s.dark_mode_primary_color)||"#1E40AF",secondary:(s==null?void 0:s.dark_mode_secondary_color)||"#3B82F6",background:(s==null?void 0:s.dark_mode_background_color)||"#0F172A",surface:(s==null?void 0:s.dark_mode_surface_color)||"#1E293B",text:"#F9FAFB",textSecondary:"#D1D5DB",border:"#374151",hover:"#374151"},n=E(()=>r.value?p:o),d=()=>{const f=document.documentElement;r.value?(f.style.setProperty("--empresa-color-primary",p.primary),f.style.setProperty("--empresa-color-secondary",p.secondary),f.style.setProperty("--empresa-bg-primary",p.background),f.style.setProperty("--empresa-bg-surface",p.surface),f.style.setProperty("--empresa-text-primary",p.text),f.style.setProperty("--empresa-text-secondary",p.textSecondary),f.style.setProperty("--empresa-border-color",p.border),f.style.setProperty("--empresa-hover-color",p.hover),document.body.classList.add("dark"),document.body.classList.remove("light")):(f.style.setProperty("--empresa-color-primary",o.primary),f.style.setProperty("--empresa-color-secondary",o.secondary),f.style.setProperty("--empresa-bg-primary",o.background),f.style.setProperty("--empresa-bg-surface",o.surface),f.style.setProperty("--empresa-text-primary",o.text),f.style.setProperty("--empresa-text-secondary",o.textSecondary),f.style.setProperty("--empresa-border-color",o.border),f.style.setProperty("--empresa-hover-color",o.hover),document.body.classList.add("light"),document.body.classList.remove("dark"))},w=()=>{r.value=!0,a.value=!1,localStorage.setItem("darkMode","true"),localStorage.setItem("darkModePreference","manual"),d()},C=()=>{r.value=!1,a.value=!1,localStorage.setItem("darkMode","false"),localStorage.setItem("darkModePreference","manual"),d()},h=()=>{a.value=!0,localStorage.setItem("darkModePreference","system");const f=window.matchMedia("(prefers-color-scheme: dark)").matches;r.value=f,d()},M=()=>{r.value?C():w()},l=()=>{const f=localStorage.getItem("darkModePreference"),S=localStorage.getItem("darkMode");f==="manual"&&S==="true"?w():f==="manual"&&S==="false"?C():h(),window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",N=>{a.value&&(r.value=N.matches,d())})},e=f=>{f&&(o.primary=f.color_principal||"#3B82F6",o.secondary=f.color_secundario||"#1E40AF",f.dark_mode_enabled&&(p.primary=f.dark_mode_primary_color||"#1E40AF",p.secondary=f.dark_mode_secondary_color||"#3B82F6",p.background=f.dark_mode_background_color||"#0F172A",p.surface=f.dark_mode_surface_color||"#1E293B"),d())};return V(()=>{l()}),s&&X(()=>s,f=>{e(f)},{deep:!0,immediate:!0}),{isDarkMode:E(()=>r.value),isSystemPreference:E(()=>a.value),currentTheme:n,enableDarkMode:w,enableLightMode:C,enableSystemMode:h,toggleDarkMode:M,applyThemeColors:d,updateThemeColors:e}}const xt={class:"px-4 py-3"},wt={class:"flex justify-between items-center"},Ct={key:0,class:"hidden md:flex items-center"},St={class:"text-gray-200 text-sm font-medium"},Mt={class:"text-blue-300 font-semibold"},_t={class:"hidden lg:flex items-center"},Bt={class:"text-gray-300 text-sm"},jt={class:"flex items-center space-x-3"},Pt=["title"],At={key:0,class:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20"},Dt={key:1,class:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20"},Et=["aria-expanded"],zt=["src"],Ft={class:"py-1"},$t={class:"flex flex-1 relative overflow-hidden"},Nt={class:"p-6"},Vt={key:0,class:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50","aria-modal":"true",role:"dialog"},It={__name:"AppLayout",setup(s){var L;const r=A({nombre_empresa:"CDD Sistema",color_principal:"#3B82F6",color_secundario:"#1E40AF",logo_url:null,dark_mode_enabled:!1,dark_mode_primary_color:"#1E40AF",dark_mode_secondary_color:"#3B82F6",dark_mode_background_color:"#0F172A",dark_mode_surface_color:"#1E293B"}),{isDarkMode:a,toggleDarkMode:o,updateThemeColors:p}=kt(r.value);te.add(oe,se,re,ae,le,ie,ne,de,ce,ue,pe,fe,me,ve,be,ge,he,ye,ke);const{props:n}=H(),d=A((L=n.auth)==null?void 0:L.user),w=A(!1),C=A(!1),h=A(!1),M=A(!1),l=async()=>{try{const k=await D.get("/empresa/configuracion/api");r.value=k.data.configuracion,e(),p(r.value)}catch(k){console.error("Error al cargar configuración de empresa:",k)}},e=()=>{p(r.value)},f=A(null),S=()=>{const k=new Date().getHours();return k<12?"Buenos días":k<18?"Buenas tardes":"Buenas noches"},z=()=>{if(h.value=window.innerWidth<=768,h.value)C.value=!0;else{const k=localStorage.getItem("sidebarCollapsed");C.value=k!==null?JSON.parse(k):!1}},N=()=>{w.value=!w.value},q=()=>{C.value=!C.value,h.value||localStorage.setItem("sidebarCollapsed",JSON.stringify(C.value))},O=async()=>{M.value=!0;try{await T.post(route("logout"))}catch(k){console.error("Error al cerrar sesión:",k)}finally{M.value=!1}},U=k=>{console.log("Notificación clickeada:",k),k.action_url&&T.visit(k.action_url)},I=k=>{w.value&&f.value&&!f.value.contains(k.target)&&(w.value=!1)};return V(()=>{document.addEventListener("click",I),z(),window.addEventListener("resize",z),l()}),Y(()=>{document.removeEventListener("click",I),window.removeEventListener("resize",z)}),(k,x)=>(g(),b("div",{class:v([y(a)?"bg-slate-900":"bg-gradient-to-br from-gray-50 to-gray-100","flex flex-col h-screen transition-colors duration-300"])},[t("nav",{class:v([y(a)?"bg-slate-800 border-slate-700":"bg-gradient-to-r from-gray-900 to-gray-800 border-gray-700","shadow-lg border-b transition-colors duration-300"])},[t("div",xt,[t("div",wt,[x[7]||(x[7]=t("div",null,null,-1)),d.value?(g(),b("div",Ct,[t("span",St,[c(P(S())+", ",1),t("span",Mt,P(d.value.name),1)])])):j("",!0),t("div",_t,[t("span",Bt,P(r.value.nombre_empresa||"CDD Sistema"),1)]),t("div",jt,[t("button",{onClick:x[0]||(x[0]=(...G)=>y(o)&&y(o)(...G)),class:v(["p-2 rounded-lg transition-all duration-200 focus:outline-none focus:ring-2 focus:ring-blue-500",y(a)?"bg-gray-700 hover:bg-gray-600 text-yellow-400":"bg-gray-100 hover:bg-gray-200 text-gray-600"]),title:y(a)?"Cambiar a modo claro":"Cambiar a modo oscuro"},[y(a)?(g(),b("svg",At,x[1]||(x[1]=[t("path",{"fill-rule":"evenodd",d:"M10 2a1 1 0 011 1v1a1 1 0 11-2 0V3a1 1 0 011-1zm4 8a4 4 0 11-8 0 4 4 0 018 0zm-.464 4.95l.707.707a1 1 0 001.414-1.414l-.707-.707a1 1 0 00-1.414 1.414zm2.12-10.607a1 1 0 010 1.414l-.706.707a1 1 0 11-1.414-1.414l.707-.707a1 1 0 011.414 0zM17 11a1 1 0 100-2h-1a1 1 0 100 2h1zm-7 4a1 1 0 011 1v1a1 1 0 11-2 0v-1a1 1 0 011-1zM5.05 6.464A1 1 0 106.465 5.05l-.708-.707a1 1 0 00-1.414 1.414l.707.707zm1.414 8.486l-.707.707a1 1 0 01-1.414-1.414l.707-.707a1 1 0 011.414 1.414zM4 11a1 1 0 100-2H3a1 1 0 000 2h1z","clip-rule":"evenodd"},null,-1)]))):(g(),b("svg",Dt,x[2]||(x[2]=[t("path",{d:"M17.293 13.293A8 8 0 016.707 2.707a8.001 8.001 0 1010.586 10.586z"},null,-1)])))],10,Pt),i(yt,{"auto-refresh":!0,"refresh-interval":3e4,onNotificationClicked:U}),t("div",{class:"relative",ref_key:"profileContainer",ref:f},[t("button",{onClick:N,class:"flex items-center space-x-2 p-1 rounded-lg hover:bg-gray-700 transition-all duration-200 focus:outline-none focus:ring-2 focus:ring-blue-500","aria-expanded":w.value.toString(),"aria-controls":"profile-dropdown"},[t("img",{src:d.value.profile_photo_url,alt:"Foto de perfil",class:"h-8 w-8 rounded-full border-2 border-gray-600 object-cover"},null,8,zt),(g(),b("svg",{xmlns:"http://www.w3.org/2000/svg",class:v(["h-4 w-4 text-gray-300 transition-transform duration-200",{"rotate-180":w.value}]),fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},x[3]||(x[3]=[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 9l-7 7-7-7"},null,-1)]),2))],8,Et),i(Z,{"enter-active-class":"transition ease-out duration-200","enter-from-class":"transform opacity-0 scale-95","enter-to-class":"transform opacity-100 scale-100","leave-active-class":"transition ease-in duration-150","leave-from-class":"transform opacity-100 scale-100","leave-to-class":"transform opacity-0 scale-95"},{default:u(()=>[w.value?(g(),b("div",{key:0,id:"profile-dropdown",role:"menu","aria-orientation":"vertical","aria-labelledby":"profile-button",class:v([y(a)?"bg-slate-800 border-slate-700":"bg-white border-gray-200","absolute right-0 mt-2 w-56 rounded-xl shadow-xl z-50 overflow-hidden transition-colors duration-300"])},[t("div",{class:v([y(a)?"bg-slate-700 border-slate-600":"bg-gray-50 border-gray-200","px-4 py-3 border-b transition-colors duration-300"])},[t("p",{class:v([y(a)?"text-slate-100":"text-gray-900","text-sm font-medium"])},P(d.value.name),3),t("p",{class:v([y(a)?"text-slate-300":"text-gray-500","text-xs"])},P(d.value.email),3)],2),t("div",Ft,[i(y(F),{href:k.route("profile.show"),class:v([y(a)?"text-slate-200 hover:bg-slate-700":"text-gray-700 hover:bg-gray-100","flex items-center px-4 py-2 text-sm transition-colors duration-150"]),role:"menuitem"},{default:u(()=>x[4]||(x[4]=[t("svg",{class:"mr-3 h-4 w-4 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})],-1),c(" Mi Perfil ")])),_:1},8,["href","class"]),i(y(F),{href:k.route("empresas.index"),class:v([y(a)?"text-slate-200 hover:bg-slate-700":"text-gray-700 hover:bg-gray-100","flex items-center px-4 py-2 text-sm transition-colors duration-150"]),role:"menuitem"},{default:u(()=>x[5]||(x[5]=[t("svg",{class:"mr-3 h-4 w-4 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z"}),t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"})],-1),c(" Configuración ")])),_:1},8,["href","class"])]),t("div",{class:v([y(a)?"border-slate-600":"border-gray-200","border-t transition-colors duration-300"])},[t("button",{onClick:O,class:v([y(a)?"text-red-400 hover:bg-slate-700":"text-red-600 hover:bg-red-50","flex items-center w-full px-4 py-2 text-sm transition-colors duration-150"]),role:"menuitem"},x[6]||(x[6]=[t("svg",{class:"mr-3 h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1"})],-1),c(" Cerrar Sesión ")]),2)],2)],2)):j("",!0)]),_:1})],512)])])])],2),t("div",$t,[i(st,{isSidebarCollapsed:C.value,usuario:d.value,isMobile:h.value,onToggleSidebar:q},null,8,["isSidebarCollapsed","usuario","isMobile"]),t("main",{class:v([{"ml-64":!C.value,"ml-20":C.value},"flex-1 overflow-y-auto transition-all duration-300 ease-in-out",y(a)?"bg-slate-900":"bg-gray-50"])},[t("div",Nt,[R(k.$slots,"default",{},void 0,!0)])],2)]),M.value?(g(),b("div",Vt,[t("div",{class:v([y(a)?"bg-slate-800":"bg-white","rounded-lg p-6 flex items-center space-x-3 shadow-lg transition-colors duration-300"])},[x[8]||(x[8]=t("div",{class:"animate-spin rounded-full h-6 w-6 border-b-2 border-blue-600",role:"status","aria-label":"Cargando"},null,-1)),t("span",{class:v([y(a)?"text-slate-200":"text-gray-700","transition-colors duration-300"])},"Cargando...",2)],2)])):j("",!0)],2))}},qt=$(It,[["__scopeId","data-v-933acd4b"]]);export{qt as A};
