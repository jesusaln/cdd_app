import{Q as A,p as C,r as g,i,o as d,g as M,f as e,u as V,Z as E,t as u,l as f,q as S,v as n,z as m,x as v,F as y,m as D,N as p}from"./vendor-d19pJyVS.js";import{A as N}from"./AppLayout-CcnrZQKI.js";import{N as I}from"./app-BcT2PLJy.js";import{_ as j}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./utils-Dq7h7Pqt.js";const z={class:"min-h-screen bg-gray-50"},B={class:"max-w-4xl mx-auto px-6 py-8"},L={class:"mb-8"},U={class:"flex items-center justify-between"},F={class:"text-3xl font-bold text-gray-900"},h={class:"bg-white rounded-xl shadow-sm border border-gray-200 p-8"},q={class:"grid grid-cols-1 md:grid-cols-2 gap-6"},T=["value"],_={class:"bg-gray-50 rounded-lg p-4"},G={class:"grid grid-cols-1 md:grid-cols-2 gap-4 text-sm"},O={class:"ml-2 text-gray-900"},X={class:"ml-2 text-gray-900"},H={class:"flex justify-end gap-4 pt-6 border-t border-gray-200"},Q=["disabled"],R=["disabled"],Z={key:0,class:"animate-spin -ml-1 mr-3 h-4 w-4 text-white",fill:"none",viewBox:"0 0 24 24"},J={key:1,class:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},K=Object.assign({layout:N},{__name:"Edit",props:{almacen:{type:Object,default:()=>({})},usuarios:{type:Array,default:()=>[]}},setup(x){const c=new I({duration:4e3,position:{x:"right",y:"top"},types:[{type:"success",background:"#10b981",icon:!1},{type:"error",background:"#ef4444",icon:!1},{type:"warning",background:"#f59e0b",icon:!1}]}),w=A();C(()=>{console.log("Almacen:",l.almacen);const s=w.props.flash;s!=null&&s.success&&c.success(s.success),s!=null&&s.error&&c.error(s.error)});const l=x,t=g({nombre:l.almacen.nombre||"",descripcion:l.almacen.descripcion||"",direccion:l.almacen.direccion||"",telefono:l.almacen.telefono||"",responsable:l.almacen.responsable||"",estado:l.almacen.estado||"activo"}),a=g(!1),k=()=>{a.value=!0,p.put(route("almacenes.update",l.almacen.id),t.value,{onSuccess:()=>{c.success("Almacen actualizado correctamente"),p.visit(route("almacenes.index"))},onError:s=>{console.error("Errores de validación:",s),c.error("Error al actualizar el almacen")},onFinish:()=>{a.value=!1}})},b=()=>{p.visit(route("almacenes.index"))};return(s,o)=>(d(),i(y,null,[M(V(E),{title:"Editar Almacen: "+(t.value.nombre||"Sin nombre")},null,8,["title"]),e("div",z,[e("div",B,[e("div",L,[e("div",U,[e("div",null,[e("h1",F,"Editar Almacen: "+u(t.value.nombre||"Sin nombre"),1),o[6]||(o[6]=e("p",{class:"text-gray-600 mt-1"},"Modifica la información del almacen",-1))]),e("button",{onClick:b,class:"inline-flex items-center px-4 py-2 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 transition-colors"},o[7]||(o[7]=[e("svg",{class:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M10 19l-7-7m0 0l7-7m-7 7h18"})],-1),f(" Cancelar ")]))])]),e("div",h,[e("form",{onSubmit:S(k,["prevent"]),class:"space-y-6"},[e("div",null,[o[8]||(o[8]=e("label",{for:"nombre",class:"block text-sm font-medium text-gray-700 mb-2"}," Nombre del Almacen * ",-1)),n(e("input",{id:"nombre","onUpdate:modelValue":o[0]||(o[0]=r=>t.value.nombre=r),type:"text",required:"",class:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-200",placeholder:"Ingresa el nombre del almacen"},null,512),[[m,t.value.nombre]])]),e("div",null,[o[9]||(o[9]=e("label",{for:"descripcion",class:"block text-sm font-medium text-gray-700 mb-2"}," Descripción ",-1)),n(e("textarea",{id:"descripcion","onUpdate:modelValue":o[1]||(o[1]=r=>t.value.descripcion=r),rows:"4",class:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-200",placeholder:"Ingresa una descripción opcional para el almacen"},null,512),[[m,t.value.descripcion]])]),e("div",null,[o[10]||(o[10]=e("label",{for:"ubicacion",class:"block text-sm font-medium text-gray-700 mb-2"}," Dirección ",-1)),n(e("textarea",{id:"direccion","onUpdate:modelValue":o[2]||(o[2]=r=>t.value.direccion=r),rows:"3",class:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-200",placeholder:"Ingresa la dirección completa del almacen"},null,512),[[m,t.value.direccion]])]),e("div",q,[e("div",null,[o[11]||(o[11]=e("label",{for:"telefono",class:"block text-sm font-medium text-gray-700 mb-2"}," Teléfono ",-1)),n(e("input",{id:"telefono","onUpdate:modelValue":o[3]||(o[3]=r=>t.value.telefono=r),type:"tel",class:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-200",placeholder:"Ingresa el teléfono de contacto"},null,512),[[m,t.value.telefono]])]),e("div",null,[o[13]||(o[13]=e("label",{for:"responsable",class:"block text-sm font-medium text-gray-700 mb-2"}," Responsable ",-1)),n(e("select",{id:"responsable","onUpdate:modelValue":o[4]||(o[4]=r=>t.value.responsable=r),class:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-200"},[o[12]||(o[12]=e("option",{value:""},"Seleccionar responsable",-1)),(d(!0),i(y,null,D(l.usuarios,r=>(d(),i("option",{key:r.id,value:r.name},u(r.name),9,T))),128))],512),[[v,t.value.responsable]])])]),e("div",null,[o[15]||(o[15]=e("label",{for:"estado",class:"block text-sm font-medium text-gray-700 mb-2"}," Estado * ",-1)),n(e("select",{id:"estado","onUpdate:modelValue":o[5]||(o[5]=r=>t.value.estado=r),required:"",class:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-200"},o[14]||(o[14]=[e("option",{value:"activo"},"Activo",-1),e("option",{value:"inactivo"},"Inactivo",-1)]),512),[[v,t.value.estado]]),o[16]||(o[16]=e("p",{class:"mt-1 text-sm text-gray-500"}," Los almacenes activos estarán disponibles para ser usados en productos ",-1))]),e("div",_,[o[19]||(o[19]=e("h3",{class:"text-sm font-medium text-gray-900 mb-2"},"Información adicional",-1)),e("div",G,[e("div",null,[o[17]||(o[17]=e("span",{class:"text-gray-500"},"Fecha de creación:",-1)),e("span",O,u(new Date(l.almacen.created_at).toLocaleDateString("es-MX")),1)]),e("div",null,[o[18]||(o[18]=e("span",{class:"text-gray-500"},"Última actualización:",-1)),e("span",X,u(new Date(l.almacen.updated_at).toLocaleDateString("es-MX")),1)])])]),e("div",H,[e("button",{type:"button",onClick:b,disabled:a.value,class:"px-6 py-3 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 focus:ring-4 focus:ring-gray-300 transition-all duration-200 disabled:opacity-50 disabled:cursor-not-allowed"}," Cancelar ",8,Q),e("button",{type:"submit",disabled:a.value,class:"px-6 py-3 bg-gradient-to-r from-blue-600 to-blue-700 text-white font-semibold rounded-lg hover:from-blue-700 hover:to-blue-800 focus:ring-4 focus:ring-blue-300 transition-all duration-200 disabled:opacity-50 disabled:cursor-not-allowed flex items-center"},[a.value?(d(),i("svg",Z,o[20]||(o[20]=[e("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"},null,-1),e("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"},null,-1)]))):(d(),i("svg",J,o[21]||(o[21]=[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M5 13l4 4L19 7"},null,-1)]))),f(" "+u(a.value?"Guardando...":"Guardar Cambios"),1)],8,R)])],32)])])])],64))}}),oe=j(K,[["__scopeId","data-v-a7badd41"]]);export{oe as default};
