import{B as Q,C as A,w as ue,i as l,o as n,f as e,l as V,t as a,v as D,z as ve,x as J,s as ge,Q as pe,p as me,r as b,c as $,g as K,u as xe,Z as fe,k as x,F as T,m as H,n as F,q as R,N as f}from"./vendor-d19pJyVS.js";import{A as be}from"./AppLayout-CcnrZQKI.js";import{N as ye}from"./app-BcT2PLJy.js";import{_ as W}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./utils-Dq7h7Pqt.js";const he={class:"bg-white rounded-xl shadow-sm border border-gray-100 overflow-hidden"},ke={class:"bg-gradient-to-r from-blue-50 to-indigo-50 px-6 py-6 border-b border-gray-200/60"},we={class:"grid grid-cols-2 md:grid-cols-5 gap-4"},_e={class:"bg-white/70 rounded-lg p-4 border border-gray-200/50"},Ce={class:"flex items-center justify-between"},Me={class:"text-2xl font-bold text-gray-900"},je={class:"bg-white/70 rounded-lg p-4 border border-gray-200/50"},Pe={class:"flex items-center justify-between"},$e={class:"text-2xl font-bold text-green-600"},Se={class:"bg-white/70 rounded-lg p-4 border border-gray-200/50"},Be={class:"flex items-center justify-between"},Ee={class:"text-2xl font-bold text-red-600"},Ne={class:"bg-white/70 rounded-lg p-4 border border-gray-200/50"},Fe={class:"flex items-center justify-between"},Ve={class:"text-2xl font-bold text-orange-600"},Le={class:"bg-white/70 rounded-lg p-4 border border-gray-200/50"},ze={class:"flex items-center justify-between"},Ae={class:"text-2xl font-bold text-green-600"},De={class:"px-6 py-4 bg-gray-50/50 border-b border-gray-200/60"},Te={class:"flex flex-col md:flex-row md:items-center md:justify-between space-y-4 md:space-y-0"},He={class:"flex-1 max-w-md"},Ie={class:"relative"},Ue={class:"flex items-center space-x-3"},Oe={__name:"ProductosHeader",props:Q({total:{type:Number,default:0},activos:{type:Number,default:0},inactivos:{type:Number,default:0},agotado:{type:Number,default:0},valorTotal:{type:Number,default:0}},{searchTerm:{type:String,default:""},searchTermModifiers:{},sortBy:{type:String,default:"nombre-asc"},sortByModifiers:{},filtroEstado:{type:String,default:""},filtroEstadoModifiers:{}}),emits:Q(["crear-nueva","search-change","filtro-estado-change","sort-change","limpiar-filtros"],["update:searchTerm","update:sortBy","update:filtroEstado"]),setup(y,{emit:p}){const M=p,i=A(y,"searchTerm"),m=A(y,"sortBy"),g=A(y,"filtroEstado"),d=c=>{const r=parseFloat(c),u=Number.isFinite(r)?r:0;return new Intl.NumberFormat("es-MX",{minimumFractionDigits:2,maximumFractionDigits:2}).format(u)},S=()=>M("crear-nueva"),j=()=>M("search-change",i.value),h=()=>M("filtro-estado-change",g.value),B=()=>M("sort-change",m.value),k=()=>M("limpiar-filtros");return ue([i,m,g],()=>{},{immediate:!0}),(c,r)=>(n(),l("div",he,[e("div",ke,[e("div",{class:"flex items-center justify-between mb-6"},[r[4]||(r[4]=e("div",null,[e("h1",{class:"text-2xl font-bold text-gray-900 tracking-tight"},"Productos"),e("p",{class:"text-sm text-gray-600 mt-1"},"Gestiona todos tus productos en un solo lugar")],-1)),e("button",{onClick:S,class:"inline-flex items-center px-4 py-2 bg-blue-600 text-white text-sm font-medium rounded-lg hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 transition-colors duration-200"},r[3]||(r[3]=[e("svg",{class:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 4v16m8-8H4"})],-1),V(" Nuevo Producto ")]))]),e("div",we,[e("div",_e,[e("div",Ce,[e("div",null,[r[5]||(r[5]=e("p",{class:"text-sm font-medium text-gray-600"},"Total",-1)),e("p",Me,a(y.total),1)]),r[6]||(r[6]=e("div",{class:"w-10 h-10 bg-blue-100 rounded-full flex items-center justify-center"},[e("svg",{class:"w-5 h-5 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})])],-1))])]),e("div",je,[e("div",Pe,[e("div",null,[r[7]||(r[7]=e("p",{class:"text-sm font-medium text-gray-600"},"Activos",-1)),e("p",$e,a(y.activos),1)]),r[8]||(r[8]=e("div",{class:"w-10 h-10 bg-green-100 rounded-full flex items-center justify-center"},[e("svg",{class:"w-5 h-5 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})])],-1))])]),e("div",Se,[e("div",Be,[e("div",null,[r[9]||(r[9]=e("p",{class:"text-sm font-medium text-gray-600"},"Inactivos",-1)),e("p",Ee,a(y.inactivos),1)]),r[10]||(r[10]=e("div",{class:"w-10 h-10 bg-red-100 rounded-full flex items-center justify-center"},[e("svg",{class:"w-5 h-5 text-red-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M10 14l2-2m0 0l2-2m-2 2l-2-2m2 2l2 2m7-2a9 9 0 11-18 0 9 9 0 0118 0z"})])],-1))])]),e("div",Ne,[e("div",Fe,[e("div",null,[r[11]||(r[11]=e("p",{class:"text-sm font-medium text-gray-600"},"Agotados",-1)),e("p",Ve,a(y.agotado),1)]),r[12]||(r[12]=e("div",{class:"w-10 h-10 bg-orange-100 rounded-full flex items-center justify-center"},[e("svg",{class:"w-5 h-5 text-orange-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L4.082 16.5c-.77.833.192 2.5 1.732 2.5z"})])],-1))])]),e("div",Le,[e("div",ze,[e("div",null,[r[13]||(r[13]=e("p",{class:"text-sm font-medium text-gray-600"},"Valor Total",-1)),e("p",Ae,"$"+a(d(y.valorTotal)),1)]),r[14]||(r[14]=e("div",{class:"w-10 h-10 bg-green-100 rounded-full flex items-center justify-center"},[e("svg",{class:"w-5 h-5 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1"})])],-1))])])])]),e("div",De,[e("div",Te,[e("div",He,[e("div",Ie,[r[15]||(r[15]=e("div",{class:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none"},[e("svg",{class:"h-5 w-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})])],-1)),D(e("input",{"onUpdate:modelValue":r[0]||(r[0]=u=>i.value=u),type:"text",placeholder:"Buscar por nombre, código o descripción...",class:"block w-full pl-10 pr-3 py-2 border border-gray-300 rounded-lg leading-5 bg-white placeholder-gray-500 focus:outline-none focus:placeholder-gray-400 focus:ring-1 focus:ring-blue-500 focus:border-blue-500 text-sm",onInput:j},null,544),[[ve,i.value]])])]),e("div",Ue,[D(e("select",{"onUpdate:modelValue":r[1]||(r[1]=u=>g.value=u),onChange:h,class:"block w-48 pl-3 pr-10 py-2 text-sm border border-gray-300 rounded-lg focus:outline-none focus:ring-1 focus:ring-blue-500 focus:border-blue-500 bg-white"},r[16]||(r[16]=[e("option",{value:""},"Todos los Estados",-1),e("option",{value:"activo"},"Activos",-1),e("option",{value:"inactivo"},"Inactivos",-1),e("option",{value:"agotado"},"Agotados",-1)]),544),[[J,g.value]]),D(e("select",{"onUpdate:modelValue":r[2]||(r[2]=u=>m.value=u),onChange:B,class:"block w-48 pl-3 pr-10 py-2 text-sm border border-gray-300 rounded-lg focus:outline-none focus:ring-1 focus:ring-blue-500 focus:border-blue-500 bg-white"},r[17]||(r[17]=[ge('<option value="nombre-asc" data-v-0f577c7b>Nombre (A-Z)</option><option value="nombre-desc" data-v-0f577c7b>Nombre (Z-A)</option><option value="precio_venta-desc" data-v-0f577c7b>Precio Mayor</option><option value="precio_venta-asc" data-v-0f577c7b>Precio Menor</option><option value="stock-desc" data-v-0f577c7b>Stock Mayor</option><option value="stock-asc" data-v-0f577c7b>Stock Menor</option><option value="created_at-desc" data-v-0f577c7b>Fecha (Más reciente)</option><option value="created_at-asc" data-v-0f577c7b>Fecha (Más antiguo)</option>',8)]),544),[[J,m.value]]),e("button",{onClick:k,class:"inline-flex items-center px-3 py-2 border border-gray-300 text-sm leading-4 font-medium rounded-lg text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200"},r[18]||(r[18]=[e("svg",{class:"w-4 h-4 mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1),V(" Limpiar ")]))])])])]))}},qe=W(Oe,[["__scopeId","data-v-0f577c7b"]]),Ze={class:"productos-index min-h-screen bg-gray-50"},Xe={class:"max-w-8xl mx-auto px-6 py-8"},Ge={class:"bg-white rounded-xl shadow-sm border border-gray-100 overflow-hidden"},Qe={class:"overflow-x-auto"},Je={class:"min-w-full divide-y divide-gray-200"},Ke={class:"bg-white divide-y divide-gray-200"},Re={class:"px-6 py-4"},We={class:"text-sm text-gray-900"},Ye={class:"px-6 py-4"},et={class:"text-sm font-medium text-gray-900"},tt={class:"text-sm text-gray-500"},ot={class:"px-6 py-4"},st={class:"text-sm text-gray-700"},rt={class:"px-6 py-4"},at={class:"text-sm text-gray-700"},lt={class:"px-6 py-4"},nt=["onClick"],it={class:"px-6 py-4"},dt={class:"px-6 py-4 text-right"},ct={class:"flex items-center justify-end space-x-1"},ut=["onClick"],vt=["onClick"],gt=["onClick"],pt={key:0},mt={key:0,class:"bg-white border-t border-gray-200 px-4 py-3 sm:px-6"},xt={class:"flex flex-col sm:flex-row items-center justify-between gap-4"},ft={class:"flex items-center gap-4"},bt={class:"text-sm text-gray-700"},yt=["value"],ht={class:"relative z-0 inline-flex rounded-md shadow-sm -space-x-px"},kt={key:1,class:"relative inline-flex items-center px-2 py-2 rounded-l-md border border-gray-300 bg-gray-100 text-sm font-medium text-gray-400"},wt=["onClick"],_t={key:3,class:"relative inline-flex items-center px-2 py-2 rounded-r-md border border-gray-300 bg-gray-100 text-sm font-medium text-gray-400"},Ct={class:"bg-white rounded-lg shadow-xl w-full max-w-2xl max-h-[90vh] overflow-y-auto"},Mt={class:"flex items-center justify-between p-6 border-b border-gray-200"},jt={class:"text-lg font-medium text-gray-900"},Pt={class:"p-6"},$t={key:0},St={class:"space-y-4"},Bt={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},Et={class:"space-y-3"},Nt={class:"mt-1 text-sm text-gray-900 bg-gray-50 px-3 py-2 rounded-md"},Ft={class:"mt-1 text-sm text-gray-900 bg-gray-50 px-3 py-2 rounded-md"},Vt={class:"mt-1 text-sm text-gray-900 bg-gray-50 px-3 py-2 rounded-md"},Lt={class:"mt-1 text-sm text-gray-900 bg-gray-50 px-3 py-2 rounded-md"},zt={class:"space-y-3"},At={class:"mt-1 text-sm text-gray-900 bg-gray-50 px-3 py-2 rounded-md"},Dt={class:"mt-1 text-sm text-gray-900 bg-gray-50 px-3 py-2 rounded-md"},Tt={key:0},Ht={class:"mt-1 text-sm text-gray-900 bg-gray-50 px-3 py-2 rounded-md whitespace-pre-wrap"},It={key:1},Ut={class:"text-center"},Ot={class:"text-sm text-gray-500 mb-4"},qt={class:"flex justify-end gap-3 px-6 py-4 border-t border-gray-200 bg-gray-50"},Zt={key:0,class:"flex gap-2"},Xt={class:"bg-white rounded-xl shadow-xl w-full max-w-2xl max-h-[90vh] overflow-y-auto"},Gt={class:"flex items-center justify-between p-6 border-b border-gray-200"},Qt={class:"text-lg font-medium text-gray-900"},Jt={class:"p-6"},Kt={key:0,class:"flex items-center justify-center py-8"},Rt={key:1},Wt={class:"bg-gray-50 rounded-lg p-4 mb-6"},Yt={class:"grid grid-cols-1 md:grid-cols-3 gap-4 text-sm"},eo={class:"ml-2 text-gray-900"},to={class:"ml-2 text-gray-900"},oo={class:"ml-2 text-gray-900 font-semibold"},so={class:"overflow-x-auto"},ro={class:"min-w-full divide-y divide-gray-200"},ao={class:"bg-white divide-y divide-gray-200"},lo={class:"px-6 py-4 whitespace-nowrap"},no={class:"flex items-center"},io={class:"ml-4"},co={class:"text-sm font-medium text-gray-900"},uo={class:"px-6 py-4 whitespace-nowrap"},vo={class:"text-sm font-semibold text-gray-900"},go={class:"px-6 py-4 whitespace-nowrap"},po={class:"text-sm text-gray-700"},mo={class:"px-6 py-4 whitespace-nowrap"},xo={key:0},fo={class:"flex justify-end px-6 py-4 border-t border-gray-200 bg-gray-50"},bo=Object.assign({layout:be},{__name:"Index",props:{productos:{type:[Object,Array],required:!0},stats:{type:Object,default:()=>({})},filters:{type:Object,default:()=>({})},sorting:{type:Object,default:()=>({sort_by:"nombre",sort_direction:"asc"})}},setup(y){var G;const p=new ye({duration:4e3,position:{x:"right",y:"top"},types:[{type:"success",background:"#10b981",icon:!1},{type:"error",background:"#ef4444",icon:!1},{type:"warning",background:"#f59e0b",icon:!1}]}),M=pe();me(()=>{const o=M.props.flash;o!=null&&o.success&&p.success(o.success),o!=null&&o.error&&p.error(o.error)});const i=y,m=b(!1),g=b("details"),d=b(null),S=b(null),j=b(!1),h=b(null),B=b(!1),k=b(((G=i.filters)==null?void 0:G.search)??""),c=b("nombre-asc"),r=b(""),u=b(10),Y=()=>{f.visit(route("productos.create"))},ee=()=>{k.value="",c.value="nombre-asc",r.value="",f.visit(route("productos.index")),p.success("Filtros limpiados correctamente")},te=$(()=>{if(E.value&&E.value.length>0){const o=E.value.filter(t=>t.precio_venta&&parseFloat(t.precio_venta)>0&&t.stock&&parseFloat(t.stock)>0);if(o.length>0)return o.reduce((_,w)=>_+(parseFloat(w.precio_venta)||0)*(parseFloat(w.stock)||0),0)}return 0}),I=$(()=>i.productos),E=$(()=>{var o;return((o=I.value)==null?void 0:o.data)||[]}),N=$(()=>{var o,t,_,w,C,s,P;return{total:((o=i.stats)==null?void 0:o.total)??0,activos:((t=i.stats)==null?void 0:t.activos)??0,inactivos:((_=i.stats)==null?void 0:_.inactivos)??0,agotado:((w=i.stats)==null?void 0:w.agotado)??0,activosPorcentaje:((C=i.stats)==null?void 0:C.activos)>0?Math.round(i.stats.activos/i.stats.total*100):0,inactivosPorcentaje:((s=i.stats)==null?void 0:s.inactivos)>0?Math.round(i.stats.inactivos/i.stats.total*100):0,agotadoPorcentaje:((P=i.stats)==null?void 0:P.agotado)>0?Math.round(i.stats.agotado/i.stats.total*100):0}}),U=$(()=>E.value.map(o=>({id:o.id,titulo:o.nombre||"Sin nombre",subtitulo:o.descripcion?o.descripcion.substring(0,50)+(o.descripcion.length>50?"...":""):"Sin descripción",estado:o.estado||"activo",extra:`Código: ${o.codigo||"N/A"} | Precio: $${o.precio_venta||0} | Stock: ${o.stock||0}`,fecha:o.created_at,raw:o})));function oe(o){k.value=o,f.get(route("productos.index"),{search:o,sort_by:c.value.split("-")[0],sort_direction:c.value.split("-")[1]||"asc",estado:r.value,per_page:u.value,page:1},{preserveState:!0,preserveScroll:!0})}function se(o){r.value=o,f.get(route("productos.index"),{search:k.value,sort_by:c.value.split("-")[0],sort_direction:c.value.split("-")[1]||"asc",estado:o,per_page:u.value,page:1},{preserveState:!0,preserveScroll:!0})}function re(o){c.value=o,f.get(route("productos.index"),{search:k.value,sort_by:o.split("-")[0],sort_direction:o.split("-")[1]||"asc",estado:r.value,per_page:u.value,page:1},{preserveState:!0,preserveScroll:!0})}const ae=o=>{d.value=o.raw,g.value="details",m.value=!0},O=o=>{f.visit(route("productos.edit",o))},le=o=>{S.value=o,g.value="confirm",m.value=!0},ne=()=>{f.delete(route("productos.destroy",S.value),{preserveScroll:!0,onSuccess:()=>{p.success("Producto eliminado correctamente"),m.value=!1,S.value=null,f.reload()},onError:o=>{p.error("No se pudo eliminar el producto")}})},ie=o=>{const t=E.value.find(C=>C.id===o);if(!t)return p.error("Producto no encontrado");const w=(t.estado==="activo"?"inactivo":"activo")==="activo"?"Producto activado correctamente":"Producto desactivado correctamente";f.put(route("productos.toggle",o),{preserveScroll:!0,onSuccess:()=>{p.success(w),f.reload()},onError:C=>{p.error("No se pudo cambiar el estado del producto")}})},de=async o=>{B.value=!0;try{const t=await fetch(route("productos.stock-detalle",o.id));t.ok?(h.value=await t.json(),j.value=!0):p.error("Error al cargar el detalle de stock")}catch(t){console.error("Error:",t),p.error("Error al cargar el detalle de stock")}finally{B.value=!1}},v=$(()=>{const o=I.value||{};return{currentPage:o.current_page??1,lastPage:o.last_page??1,perPage:o.per_page??10,from:o.from??0,to:o.to??0,total:o.total??0,prevPageUrl:o.prev_page_url??null,nextPageUrl:o.next_page_url??null,links:o.links??[]}}),ce=o=>{u.value=o,f.get(route("productos.index"),{search:k.value,sort_by:c.value.split("-")[0],sort_direction:c.value.split("-")[1]||"asc",estado:r.value,per_page:u.value,page:1},{preserveState:!0,preserveScroll:!0})},L=o=>{f.get(route("productos.index"),{search:k.value,sort_by:c.value.split("-")[0],sort_direction:c.value.split("-")[1]||"asc",estado:r.value,per_page:u.value,page:o},{preserveState:!0,preserveScroll:!0})},q=o=>new Intl.NumberFormat("es-ES").format(o),z=o=>{if(!o)return"Fecha no disponible";try{return new Date(o).toLocaleDateString("es-MX",{day:"2-digit",month:"2-digit",year:"numeric"})}catch{return"Fecha inválida"}},Z=o=>({activo:"bg-green-100 text-green-700",inactivo:"bg-red-100 text-red-700",agotado:"bg-orange-100 text-orange-700"})[o]||"bg-gray-100 text-gray-700",X=o=>({activo:"Activo",inactivo:"Inactivo",agotado:"Agotado"})[o]||"Pendiente";return(o,t)=>{var _,w,C;return n(),l("div",null,[K(xe(fe),{title:"Productos"}),e("div",Ze,[e("div",Xe,[K(qe,{total:N.value.total,activos:N.value.activos,inactivos:N.value.inactivos,agotado:N.value.agotado,"valor-total":te.value,"search-term":k.value,"onUpdate:searchTerm":t[0]||(t[0]=s=>k.value=s),"sort-by":c.value,"onUpdate:sortBy":t[1]||(t[1]=s=>c.value=s),"filtro-estado":r.value,"onUpdate:filtroEstado":t[2]||(t[2]=s=>r.value=s),onCrearNueva:Y,onSearchChange:oe,onFiltroEstadoChange:se,onSortChange:re,onLimpiarFiltros:ee},null,8,["total","activos","inactivos","agotado","valor-total","search-term","sort-by","filtro-estado"]),e("div",Ge,[e("div",Qe,[e("table",Je,[t[18]||(t[18]=e("thead",{class:"bg-gray-50"},[e("tr",null,[e("th",{class:"px-6 py-4 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider"},"Fecha"),e("th",{class:"px-6 py-4 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider"},"Producto"),e("th",{class:"px-6 py-4 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider"},"Código"),e("th",{class:"px-6 py-4 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider"},"Precio"),e("th",{class:"px-6 py-4 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider"},"Stock"),e("th",{class:"px-6 py-4 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider"},"Estado"),e("th",{class:"px-6 py-4 text-right text-xs font-semibold text-gray-600 uppercase tracking-wider"},"Acciones")])],-1)),e("tbody",Ke,[(n(!0),l(T,null,H(U.value,s=>(n(),l("tr",{key:s.id,class:"hover:bg-gray-50 transition-colors duration-150"},[e("td",Re,[e("div",We,a(z(s.fecha)),1)]),e("td",Ye,[e("div",et,a(s.titulo),1),e("div",tt,a(s.subtitulo),1)]),e("td",ot,[e("div",st,a(s.raw.codigo||"N/A"),1)]),e("td",rt,[e("div",at,"$"+a(q(s.raw.precio_venta||0)),1)]),e("td",lt,[e("div",{class:"text-sm text-blue-600 hover:text-blue-800 cursor-pointer font-medium hover:underline",onClick:P=>de(s.raw),title:"Ver detalle de stock por almacén"},a(s.raw.stock||0),9,nt)]),e("td",it,[e("span",{class:F([Z(s.estado),"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium"])},a(X(s.estado)),3)]),e("td",dt,[e("div",ct,[e("button",{onClick:P=>ae(s),class:"w-8 h-8 bg-blue-50 text-blue-600 rounded-lg hover:bg-blue-100 transition-colors duration-150",title:"Ver detalles"},t[14]||(t[14]=[e("svg",{class:"w-4 h-4 mx-auto",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})],-1)]),8,ut),e("button",{onClick:P=>O(s.id),class:"w-8 h-8 bg-amber-50 text-amber-600 rounded-lg hover:bg-amber-100 transition-colors duration-150",title:"Editar"},t[15]||(t[15]=[e("svg",{class:"w-4 h-4 mx-auto",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})],-1)]),8,vt),s.estado!=="activo"?(n(),l("button",{key:0,onClick:P=>le(s.id),class:"w-8 h-8 bg-red-50 text-red-600 rounded-lg hover:bg-red-100 transition-colors duration-150",title:"Eliminar"},t[16]||(t[16]=[e("svg",{class:"w-4 h-4 mx-auto",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})],-1)]),8,gt)):x("",!0)])])]))),128)),U.value.length===0?(n(),l("tr",pt,t[17]||(t[17]=[e("td",{colspan:"7",class:"px-6 py-16 text-center"},[e("div",{class:"flex flex-col items-center space-y-4"},[e("div",{class:"w-16 h-16 bg-gray-100 rounded-full flex items-center justify-center"},[e("svg",{class:"w-8 h-8 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"1.5",d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})])]),e("div",{class:"space-y-1"},[e("p",{class:"text-gray-700 font-medium"},"No hay productos"),e("p",{class:"text-sm text-gray-500"},"Los productos aparecerán aquí cuando se creen")])])],-1)]))):x("",!0)])])]),v.value.lastPage>1?(n(),l("div",mt,[e("div",xt,[e("div",ft,[e("p",bt," Mostrando "+a(v.value.from)+" - "+a(v.value.to)+" de "+a(v.value.total)+" resultados ",1),e("select",{value:v.value.perPage,onChange:t[3]||(t[3]=s=>ce(parseInt(s.target.value))),class:"border border-gray-300 rounded-md text-sm py-1 px-2 bg-white"},t[19]||(t[19]=[e("option",{value:"10"},"10",-1),e("option",{value:"15"},"15",-1),e("option",{value:"25"},"25",-1),e("option",{value:"50"},"50",-1)]),40,yt)]),e("nav",ht,[v.value.prevPageUrl?(n(),l("button",{key:0,onClick:t[4]||(t[4]=s=>L(v.value.currentPage-1)),class:"relative inline-flex items-center px-2 py-2 rounded-l-md border border-gray-300 bg-white text-sm font-medium text-gray-500 hover:bg-gray-50"},t[20]||(t[20]=[e("svg",{class:"h-5 w-5",fill:"currentColor",viewBox:"0 0 20 20"},[e("path",{"fill-rule":"evenodd",d:"M12.707 5.293a1 1 0 010 1.414L9.414 10l3.293 3.293a1 1 0 01-1.414 1.414l-4-4a1 1 0 010-1.414l4-4a1 1 0 011.414 0z","clip-rule":"evenodd"})],-1)]))):(n(),l("span",kt,t[21]||(t[21]=[e("svg",{class:"h-5 w-5",fill:"currentColor",viewBox:"0 0 20 20"},[e("path",{"fill-rule":"evenodd",d:"M12.707 5.293a1 1 0 010 1.414L9.414 10l3.293 3.293a1 1 0 01-1.414 1.414l-4-4a1 1 0 010-1.414l4-4a1 1 0 011.414 0z","clip-rule":"evenodd"})],-1)]))),(n(!0),l(T,null,H([v.value.currentPage-1,v.value.currentPage,v.value.currentPage+1].filter(s=>s>0&&s<=v.value.lastPage),s=>(n(),l("button",{key:s,onClick:P=>L(s),class:F([s===v.value.currentPage?"bg-blue-50 border-blue-500 text-blue-600":"bg-white border-gray-300 text-gray-500 hover:bg-gray-50","relative inline-flex items-center px-4 py-2 border text-sm font-medium"])},a(s),11,wt))),128)),v.value.nextPageUrl?(n(),l("button",{key:2,onClick:t[5]||(t[5]=s=>L(v.value.currentPage+1)),class:"relative inline-flex items-center px-2 py-2 rounded-r-md border border-gray-300 bg-white text-sm font-medium text-gray-500 hover:bg-gray-50"},t[22]||(t[22]=[e("svg",{class:"h-5 w-5",fill:"currentColor",viewBox:"0 0 20 20"},[e("path",{"fill-rule":"evenodd",d:"M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z","clip-rule":"evenodd"})],-1)]))):(n(),l("span",_t,t[23]||(t[23]=[e("svg",{class:"h-5 w-5",fill:"currentColor",viewBox:"0 0 20 20"},[e("path",{"fill-rule":"evenodd",d:"M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z","clip-rule":"evenodd"})],-1)])))])])])):x("",!0)]),m.value?(n(),l("div",{key:0,class:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",onClick:t[10]||(t[10]=R(s=>m.value=!1,["self"]))},[e("div",Ct,[e("div",Mt,[e("h3",jt,a(g.value==="details"?"Detalles del Producto":"Confirmar Eliminación"),1),e("button",{onClick:t[6]||(t[6]=s=>m.value=!1),class:"text-gray-400 hover:text-gray-600 transition-colors"},t[24]||(t[24]=[e("svg",{class:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)]))]),e("div",Pt,[g.value==="details"&&d.value?(n(),l("div",$t,[e("div",St,[e("div",Bt,[e("div",Et,[e("div",null,[t[25]||(t[25]=e("label",{class:"block text-sm font-medium text-gray-700"},"Nombre",-1)),e("p",Nt,a(d.value.nombre),1)]),e("div",null,[t[26]||(t[26]=e("label",{class:"block text-sm font-medium text-gray-700"},"Código",-1)),e("p",Ft,a(d.value.codigo||"N/A"),1)]),e("div",null,[t[27]||(t[27]=e("label",{class:"block text-sm font-medium text-gray-700"},"Precio Venta",-1)),e("p",Vt,"$"+a(q(d.value.precio_venta||0)),1)]),e("div",null,[t[28]||(t[28]=e("label",{class:"block text-sm font-medium text-gray-700"},"Stock",-1)),e("p",Lt,a(d.value.stock||0),1)]),e("div",null,[t[29]||(t[29]=e("label",{class:"block text-sm font-medium text-gray-700"},"Estado",-1)),e("span",{class:F([Z(d.value.estado),"inline-flex items-center px-2.5 py-1 rounded-full text-xs font-medium mt-1"])},a(X(d.value.estado)),3)])]),e("div",zt,[e("div",null,[t[30]||(t[30]=e("label",{class:"block text-sm font-medium text-gray-700"},"Fecha de Creación",-1)),e("p",At,a(z(d.value.created_at)),1)]),e("div",null,[t[31]||(t[31]=e("label",{class:"block text-sm font-medium text-gray-700"},"Última Actualización",-1)),e("p",Dt,a(z(d.value.updated_at)),1)])])]),d.value.descripcion?(n(),l("div",Tt,[t[32]||(t[32]=e("label",{class:"block text-sm font-medium text-gray-700"},"Descripción",-1)),e("p",Ht,a(d.value.descripcion),1)])):x("",!0)])])):x("",!0),g.value==="confirm"?(n(),l("div",It,[e("div",Ut,[t[35]||(t[35]=e("div",{class:"w-12 h-12 mx-auto bg-red-100 rounded-full flex items-center justify-center mb-4"},[e("svg",{class:"w-6 h-6 text-red-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L4.082 16.5c-.77.833.192 2.5 1.732 2.5z"})])],-1)),t[36]||(t[36]=e("h3",{class:"text-lg font-medium text-gray-900 mb-2"},"¿Eliminar Producto?",-1)),e("p",Ot,[t[33]||(t[33]=V(" ¿Estás seguro de que deseas eliminar el producto ")),e("strong",null,a((_=d.value)==null?void 0:_.nombre),1),t[34]||(t[34]=V("? Esta acción no se puede deshacer. "))])])])):x("",!0)]),e("div",qt,[e("button",{onClick:t[7]||(t[7]=s=>m.value=!1),class:"px-4 py-2 bg-gray-300 text-gray-700 rounded-lg hover:bg-gray-400 transition-colors"},a(g.value==="details"?"Cerrar":"Cancelar"),1),g.value==="details"?(n(),l("div",Zt,[e("button",{onClick:t[8]||(t[8]=s=>ie(d.value.id)),class:"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors"}," Cambiar Estado "),e("button",{onClick:t[9]||(t[9]=s=>O(d.value.id)),class:"px-4 py-2 bg-amber-600 text-white rounded-lg hover:bg-amber-700 transition-colors"}," Editar ")])):x("",!0),g.value==="confirm"?(n(),l("button",{key:1,onClick:ne,class:"px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors"}," Eliminar ")):x("",!0)])])])):x("",!0),j.value?(n(),l("div",{key:1,class:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",onClick:t[13]||(t[13]=R(s=>j.value=!1,["self"]))},[e("div",Xt,[e("div",Gt,[e("h3",Qt," Detalle de Stock: "+a((C=(w=h.value)==null?void 0:w.producto)==null?void 0:C.nombre),1),e("button",{onClick:t[11]||(t[11]=s=>j.value=!1),class:"text-gray-400 hover:text-gray-600 transition-colors"},t[37]||(t[37]=[e("svg",{class:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)]))]),e("div",Jt,[B.value?(n(),l("div",Kt,t[38]||(t[38]=[e("div",{class:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"},null,-1),e("span",{class:"ml-3 text-gray-600"},"Cargando...",-1)]))):h.value?(n(),l("div",Rt,[e("div",Wt,[e("div",Yt,[e("div",null,[t[39]||(t[39]=e("span",{class:"font-medium text-gray-700"},"Producto:",-1)),e("span",eo,a(h.value.producto.nombre),1)]),e("div",null,[t[40]||(t[40]=e("span",{class:"font-medium text-gray-700"},"Código:",-1)),e("span",to,a(h.value.producto.codigo||"N/A"),1)]),e("div",null,[t[41]||(t[41]=e("span",{class:"font-medium text-gray-700"},"Stock Total:",-1)),e("span",oo,a(h.value.producto.stock_total),1)])])]),e("div",so,[e("table",ro,[t[44]||(t[44]=e("thead",{class:"bg-gray-50"},[e("tr",null,[e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Almacén "),e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Cantidad Disponible "),e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Stock Mínimo "),e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Estado ")])],-1)),e("tbody",ao,[(n(!0),l(T,null,H(h.value.stock_por_almacen,s=>(n(),l("tr",{key:s.almacen_id},[e("td",lo,[e("div",no,[t[42]||(t[42]=e("div",{class:"flex-shrink-0 h-8 w-8"},[e("div",{class:"h-8 w-8 rounded-full bg-blue-100 flex items-center justify-center"},[e("svg",{class:"h-4 w-4 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4"})])])],-1)),e("div",io,[e("div",co,a(s.almacen_nombre),1)])])]),e("td",uo,[e("span",vo,a(s.cantidad),1)]),e("td",go,[e("span",po,a(s.stock_minimo),1)]),e("td",mo,[e("span",{class:F([s.cantidad>s.stock_minimo?"bg-green-100 text-green-800":"bg-red-100 text-red-800","inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium"])},a(s.cantidad>s.stock_minimo?"Normal":"Bajo"),3)])]))),128)),h.value.stock_por_almacen.length===0?(n(),l("tr",xo,t[43]||(t[43]=[e("td",{colspan:"4",class:"px-6 py-8 text-center"},[e("div",{class:"flex flex-col items-center space-y-2"},[e("svg",{class:"w-8 h-8 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M20 13V6a2 2 0 00-2-2H6a2 2 0 00-2 2v7m16 0v5a2 2 0 01-2 2H6a2 2 0 01-2-2v-5m16 0h-2M4 13h2m8-5v2m0 0v2m0-2h2m-2 0h-2"})]),e("p",{class:"text-gray-500 text-sm"},"No hay stock disponible en ningún almacén")])],-1)]))):x("",!0)])])])])):x("",!0)]),e("div",fo,[e("button",{onClick:t[12]||(t[12]=s=>j.value=!1),class:"px-4 py-2 bg-gray-300 text-gray-700 rounded-lg hover:bg-gray-400 transition-colors"}," Cerrar ")])])])):x("",!0)])])])}}}),Co=W(bo,[["__scopeId","data-v-8be3198e"]]);export{Co as default};
