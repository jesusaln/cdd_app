import{T as C,i as a,o as d,g as t,f as o,u as e,Z as U,e as y,l as n,A as _,q as A,v as f,k as b,z as g,n as p,t as c,x as M,F as w,m as E}from"./vendor-d19pJyVS.js";import{A as B}from"./AppLayout-CcnrZQKI.js";import{F as l}from"./app-BcT2PLJy.js";import"./utils-Dq7h7Pqt.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";const I={class:"max-w-4xl mx-auto p-6"},S={class:"mb-8"},T={class:"flex items-center justify-between"},$={class:"bg-white rounded-xl shadow-lg border border-gray-200"},j={class:"p-6"},z={class:"border-b border-gray-200 pb-6"},F={class:"text-xl font-semibold text-gray-900 mb-4 flex items-center"},N={class:"grid grid-cols-1 md:grid-cols-2 gap-6"},q={key:0,class:"text-red-500 text-sm mt-2 flex items-center"},D={key:0,class:"text-red-500 text-sm mt-2 flex items-center"},O={class:"border-b border-gray-200 pb-6"},L={class:"text-xl font-semibold text-gray-900 mb-4 flex items-center"},P={class:"grid grid-cols-1 md:grid-cols-2 gap-6"},G={class:"relative"},H={class:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none"},R={key:0,class:"text-red-500 text-sm mt-2 flex items-center"},Z={class:"relative"},J={class:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none"},K={key:0,class:"text-red-500 text-sm mt-2 flex items-center"},Q={key:1,class:"text-gray-500 text-sm mt-2"},W={class:"border-b border-gray-200 pb-6"},X={class:"text-xl font-semibold text-gray-900 mb-4 flex items-center"},Y={class:"relative"},ee={class:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none"},oe={key:0,class:"text-red-500 text-sm mt-2 flex items-center"},se={class:"border-b border-gray-200 pb-6"},re={class:"text-xl font-semibold text-gray-900 mb-4 flex items-center"},te={class:"relative"},ie={class:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none"},le=["value"],ne={key:0,class:"text-red-500 text-sm mt-2 flex items-center"},ae={class:"pb-6"},de={class:"text-xl font-semibold text-gray-900 mb-4 flex items-center"},ce={class:"grid grid-cols-1 md:grid-cols-3 gap-6"},me={class:"relative"},ue={class:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none"},fe={key:0,class:"text-red-500 text-sm mt-2 flex items-center"},pe={class:"relative"},be={class:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none"},ge={key:0,class:"text-red-500 text-sm mt-2 flex items-center"},xe={class:"relative"},ve={class:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none"},ye={key:0,class:"text-red-500 text-sm mt-2 flex items-center"},_e={class:"flex items-center justify-end space-x-4 pt-6 border-t border-gray-200"},we=["disabled"],he={key:0},ke={key:1,class:"flex items-center"},Ee=Object.assign({layout:B},{__name:"Edit",props:{tecnico:Object},setup(h){var v;const m=h,r=C({nombre:m.tecnico.nombre,apellido:m.tecnico.apellido,email:m.tecnico.email,telefono:m.tecnico.telefono,direccion:m.tecnico.direccion,user_id:((v=m.tecnico.user)==null?void 0:v.id)||"",margen_venta_productos:m.tecnico.margen_venta_productos||"",margen_venta_servicios:m.tecnico.margen_venta_servicios||"",comision_instalacion:m.tecnico.comision_instalacion||""}),k=()=>{r.put(route("tecnicos.update",m.tecnico.id),{onSuccess:()=>{}})},x=u=>{r[u]&&(r[u]=r[u].toUpperCase())},V=()=>{const u=/^\d{10}$/;r.telefono&&!u.test(r.telefono)?r.setError("telefono","El teléfono debe tener exactamente 10 dígitos numéricos."):r.telefono&&r.clearErrors("telefono")};return(u,s)=>(d(),a(w,null,[t(e(U),{title:"Editar Técnico"}),o("div",I,[o("div",S,[o("div",T,[s[13]||(s[13]=o("div",null,[o("h1",{class:"text-3xl font-bold text-gray-900"},"Editar Técnico"),o("p",{class:"text-gray-600 mt-2"},"Modifica la información del técnico")],-1)),t(e(_),{href:u.route("tecnicos.index"),class:"inline-flex items-center px-4 py-2 bg-gray-600 text-white rounded-lg hover:bg-gray-700 transition-colors"},{default:y(()=>[t(e(l),{icon:["fas","arrow-left"],class:"w-4 h-4 mr-2"}),s[12]||(s[12]=n(" Volver "))]),_:1},8,["href"])])]),o("div",$,[o("div",j,[o("form",{onSubmit:A(k,["prevent"]),class:"space-y-6"},[o("div",z,[o("h2",F,[t(e(l),{icon:["fas","user"],class:"w-5 h-5 mr-2 text-blue-600"}),s[14]||(s[14]=n(" Información Personal "))]),o("div",N,[o("div",null,[s[15]||(s[15]=o("label",{for:"nombre",class:"block text-sm font-medium text-gray-700 mb-2"}," Nombre * ",-1)),f(o("input",{"onUpdate:modelValue":s[0]||(s[0]=i=>e(r).nombre=i),type:"text",id:"nombre",class:p(["w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors",{"border-red-500 focus:ring-red-500 focus:border-red-500":e(r).errors.nombre}]),onBlur:s[1]||(s[1]=i=>x("nombre")),placeholder:"Ingresa el nombre",required:""},null,34),[[g,e(r).nombre]]),e(r).errors.nombre?(d(),a("p",q,[t(e(l),{icon:["fas","circle-exclamation"],class:"w-4 h-4 mr-1"}),n(" "+c(e(r).errors.nombre),1)])):b("",!0)]),o("div",null,[s[16]||(s[16]=o("label",{for:"apellido",class:"block text-sm font-medium text-gray-700 mb-2"}," Apellido * ",-1)),f(o("input",{"onUpdate:modelValue":s[2]||(s[2]=i=>e(r).apellido=i),type:"text",id:"apellido",class:p(["w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors",{"border-red-500 focus:ring-red-500 focus:border-red-500":e(r).errors.apellido}]),onBlur:s[3]||(s[3]=i=>x("apellido")),placeholder:"Ingresa el apellido",required:""},null,34),[[g,e(r).apellido]]),e(r).errors.apellido?(d(),a("p",D,[t(e(l),{icon:["fas","circle-exclamation"],class:"w-4 h-4 mr-1"}),n(" "+c(e(r).errors.apellido),1)])):b("",!0)])])]),o("div",O,[o("h2",L,[t(e(l),{icon:["fas","phone"],class:"w-5 h-5 mr-2 text-green-600"}),s[17]||(s[17]=n(" Información de Contacto "))]),o("div",P,[o("div",null,[s[18]||(s[18]=o("label",{for:"email",class:"block text-sm font-medium text-gray-700 mb-2"}," Email * ",-1)),o("div",G,[o("div",H,[t(e(l),{icon:["fas","envelope"],class:"h-5 w-5 text-gray-400"})]),f(o("input",{"onUpdate:modelValue":s[4]||(s[4]=i=>e(r).email=i),type:"email",id:"email",class:p(["w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors",{"border-red-500 focus:ring-red-500 focus:border-red-500":e(r).errors.email}]),placeholder:"correo@ejemplo.com",required:""},null,2),[[g,e(r).email]])]),e(r).errors.email?(d(),a("p",R,[t(e(l),{icon:["fas","circle-exclamation"],class:"w-4 h-4 mr-1"}),n(" "+c(e(r).errors.email),1)])):b("",!0)]),o("div",null,[s[19]||(s[19]=o("label",{for:"telefono",class:"block text-sm font-medium text-gray-700 mb-2"}," Teléfono ",-1)),o("div",Z,[o("div",J,[t(e(l),{icon:["fas","phone"],class:"h-5 w-5 text-gray-400"})]),f(o("input",{"onUpdate:modelValue":s[5]||(s[5]=i=>e(r).telefono=i),type:"text",id:"telefono",maxlength:"10",class:p(["w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors",{"border-red-500 focus:ring-red-500 focus:border-red-500":e(r).errors.telefono}]),onInput:V,placeholder:"1234567890"},null,34),[[g,e(r).telefono]])]),e(r).errors.telefono?(d(),a("p",K,[t(e(l),{icon:["fas","circle-exclamation"],class:"w-4 h-4 mr-1"}),n(" "+c(e(r).errors.telefono),1)])):(d(),a("p",Q," Formato: 10 dígitos sin espacios ni guiones "))])])]),o("div",W,[o("h2",X,[t(e(l),{icon:["fas","map-marker-alt"],class:"w-5 h-5 mr-2 text-purple-600"}),s[20]||(s[20]=n(" Dirección "))]),o("div",null,[s[21]||(s[21]=o("label",{for:"direccion",class:"block text-sm font-medium text-gray-700 mb-2"}," Dirección Completa ",-1)),o("div",Y,[o("div",ee,[t(e(l),{icon:["fas","map-marker-alt"],class:"h-5 w-5 text-gray-400"})]),f(o("input",{"onUpdate:modelValue":s[6]||(s[6]=i=>e(r).direccion=i),type:"text",id:"direccion",class:p(["w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors",{"border-red-500 focus:ring-red-500 focus:border-red-500":e(r).errors.direccion}]),onBlur:s[7]||(s[7]=i=>x("direccion")),placeholder:"Calle, número, colonia, ciudad..."},null,34),[[g,e(r).direccion]])]),e(r).errors.direccion?(d(),a("p",oe,[t(e(l),{icon:["fas","circle-exclamation"],class:"w-4 h-4 mr-1"}),n(" "+c(e(r).errors.direccion),1)])):b("",!0)])]),o("div",se,[o("h2",re,[t(e(l),{icon:["fas","user"],class:"w-5 h-5 mr-2 text-orange-600"}),s[22]||(s[22]=n(" Usuario Asignado "))]),o("div",null,[s[24]||(s[24]=o("label",{for:"user_id",class:"block text-sm font-medium text-gray-700 mb-2"}," Usuario del Sistema ",-1)),o("div",te,[o("div",ie,[t(e(l),{icon:["fas","user"],class:"h-5 w-5 text-gray-400"})]),f(o("select",{"onUpdate:modelValue":s[8]||(s[8]=i=>e(r).user_id=i),id:"user_id",class:p(["w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors",{"border-red-500 focus:ring-red-500 focus:border-red-500":e(r).errors.user_id}])},[s[23]||(s[23]=o("option",{value:""},"Sin usuario asignado",-1)),(d(!0),a(w,null,E(u.$page.props.usuarios,i=>(d(),a("option",{key:i.id,value:i.id},c(i.name)+" ("+c(i.email)+") ",9,le))),128))],2),[[M,e(r).user_id]])]),e(r).errors.user_id?(d(),a("p",ne,[t(e(l),{icon:["fas","circle-exclamation"],class:"w-4 h-4 mr-1"}),n(" "+c(e(r).errors.user_id),1)])):b("",!0),s[25]||(s[25]=o("p",{class:"text-gray-500 text-sm mt-2"}," Opcional: Asigna un usuario del sistema a este técnico para permitir ventas ",-1))])]),o("div",ae,[o("h2",de,[t(e(l),{icon:["fas","dollar-sign"],class:"w-5 h-5 mr-2 text-green-600"}),s[26]||(s[26]=n(" Márgenes y Comisiones "))]),o("div",ce,[o("div",null,[s[27]||(s[27]=o("label",{for:"margen_venta_productos",class:"block text-sm font-medium text-gray-700 mb-2"}," Margen Productos (%) ",-1)),o("div",me,[o("div",ue,[t(e(l),{icon:["fas","calculator"],class:"h-5 w-5 text-gray-400"})]),f(o("input",{"onUpdate:modelValue":s[9]||(s[9]=i=>e(r).margen_venta_productos=i),type:"number",id:"margen_venta_productos",step:"0.01",min:"0",max:"100",class:p(["w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors",{"border-red-500 focus:ring-red-500 focus:border-red-500":e(r).errors.margen_venta_productos}]),placeholder:"0.00"},null,2),[[g,e(r).margen_venta_productos]])]),e(r).errors.margen_venta_productos?(d(),a("p",fe,[t(e(l),{icon:["fas","circle-exclamation"],class:"w-4 h-4 mr-1"}),n(" "+c(e(r).errors.margen_venta_productos),1)])):b("",!0)]),o("div",null,[s[28]||(s[28]=o("label",{for:"margen_venta_servicios",class:"block text-sm font-medium text-gray-700 mb-2"}," Margen Servicios (%) ",-1)),o("div",pe,[o("div",be,[t(e(l),{icon:["fas","calculator"],class:"h-5 w-5 text-gray-400"})]),f(o("input",{"onUpdate:modelValue":s[10]||(s[10]=i=>e(r).margen_venta_servicios=i),type:"number",id:"margen_venta_servicios",step:"0.01",min:"0",max:"100",class:p(["w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors",{"border-red-500 focus:ring-red-500 focus:border-red-500":e(r).errors.margen_venta_servicios}]),placeholder:"0.00"},null,2),[[g,e(r).margen_venta_servicios]])]),e(r).errors.margen_venta_servicios?(d(),a("p",ge,[t(e(l),{icon:["fas","circle-exclamation"],class:"w-4 h-4 mr-1"}),n(" "+c(e(r).errors.margen_venta_servicios),1)])):b("",!0)]),o("div",null,[s[29]||(s[29]=o("label",{for:"comision_instalacion",class:"block text-sm font-medium text-gray-700 mb-2"}," Comisión Instalación ($) ",-1)),o("div",xe,[o("div",ve,[t(e(l),{icon:["fas","dollar-sign"],class:"h-5 w-5 text-gray-400"})]),f(o("input",{"onUpdate:modelValue":s[11]||(s[11]=i=>e(r).comision_instalacion=i),type:"number",id:"comision_instalacion",step:"0.01",min:"0",class:p(["w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors",{"border-red-500 focus:ring-red-500 focus:border-red-500":e(r).errors.comision_instalacion}]),placeholder:"0.00"},null,2),[[g,e(r).comision_instalacion]])]),e(r).errors.comision_instalacion?(d(),a("p",ye,[t(e(l),{icon:["fas","circle-exclamation"],class:"w-4 h-4 mr-1"}),n(" "+c(e(r).errors.comision_instalacion),1)])):b("",!0)])])]),o("div",_e,[t(e(_),{href:u.route("tecnicos.index"),class:"px-6 py-3 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors"},{default:y(()=>s[30]||(s[30]=[n(" Cancelar ")])),_:1},8,["href"]),o("button",{type:"submit",disabled:e(r).processing,class:"px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors flex items-center"},[e(r).processing?(d(),a("span",he,s[31]||(s[31]=[o("svg",{class:"animate-spin -ml-1 mr-2 h-4 w-4 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},[o("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"}),o("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})],-1),n(" Actualizando... ")]))):(d(),a("span",ke,[t(e(l),{icon:["fas","save"],class:"w-4 h-4 mr-2"}),s[32]||(s[32]=n(" Guardar Cambios "))]))],8,we)])],32)])])])],64))}});export{Ee as default};
