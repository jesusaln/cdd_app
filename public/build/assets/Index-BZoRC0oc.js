import{Q as Oe,p as Ge,c as X,r as c,i as l,o as n,g as _e,f as e,u as Ce,Z as Xe,k as u,s as Y,e as Ke,t as r,A as Je,J as F,v as E,z as re,x as K,F as J,m as Z,n as S,q as ee,l as f,N as b}from"./vendor-d19pJyVS.js";import{A as Ze}from"./AppLayout-CcnrZQKI.js";import{N as We}from"./app-BcT2PLJy.js";import{_ as Qe}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./utils-Dq7h7Pqt.js";const Ye={class:"mantenimientos-index min-h-screen bg-gray-50"},et={class:"max-w-8xl mx-auto px-6 py-8"},tt={class:"bg-white border border-slate-200 rounded-xl shadow-sm mb-6 overflow-hidden"},ot={class:"px-8 py-6 border-b border-slate-100"},st={class:"flex flex-col lg:flex-row gap-6 items-start lg:items-center justify-between"},rt={class:"flex items-center justify-between w-full lg:w-auto"},at={class:"flex items-center gap-3"},lt={class:"px-8 py-6 bg-slate-50/50 border-b border-slate-100"},nt={class:"grid grid-cols-2 md:grid-cols-4 lg:grid-cols-7 gap-4"},it={class:"bg-white p-4 rounded-lg border border-slate-200 shadow-sm"},dt={class:"flex items-center justify-between"},ut={class:"text-2xl font-bold text-slate-900"},ct={class:"bg-white p-4 rounded-lg border border-green-200 shadow-sm"},pt={class:"flex items-center justify-between"},vt={class:"text-2xl font-bold text-green-600"},gt={class:"mt-2 flex items-center gap-2"},mt={class:"w-full h-1.5 bg-gray-200 rounded-full overflow-hidden"},xt={class:"text-xs text-green-600 font-medium"},bt={class:"bg-white p-4 rounded-lg border border-yellow-200 shadow-sm"},ft={class:"flex items-center justify-between"},yt={class:"text-2xl font-bold text-yellow-600"},ht={class:"mt-2 flex items-center gap-2"},wt={class:"w-full h-1.5 bg-gray-200 rounded-full overflow-hidden"},kt={class:"text-xs text-yellow-600 font-medium"},_t={class:"bg-white p-4 rounded-lg border border-blue-200 shadow-sm"},Ct={class:"flex items-center justify-between"},Mt={class:"text-2xl font-bold text-blue-600"},jt={class:"mt-2 flex items-center gap-2"},Pt={class:"w-full h-1.5 bg-gray-200 rounded-full overflow-hidden"},St={class:"text-xs text-blue-600 font-medium"},Vt={class:"bg-white p-4 rounded-lg border border-red-200 shadow-sm"},$t={class:"flex items-center justify-between"},Bt={class:"text-2xl font-bold text-red-600"},Et={class:"mt-2 flex items-center gap-2"},zt={class:"w-full h-1.5 bg-gray-200 rounded-full overflow-hidden"},Tt={class:"text-xs text-red-600 font-medium"},At={class:"bg-white p-4 rounded-lg border border-orange-200 shadow-sm"},Nt={class:"flex items-center justify-between"},Dt={class:"text-2xl font-bold text-orange-600"},Rt={class:"mt-2 flex items-center gap-2"},Lt={class:"w-full h-1.5 bg-gray-200 rounded-full overflow-hidden"},Ht={class:"text-xs text-orange-600 font-medium"},Ft={class:"bg-white p-4 rounded-lg border border-blue-200 shadow-sm"},It={class:"flex items-center justify-between"},qt={class:"text-2xl font-bold text-blue-600"},Ut={class:"mt-2 flex items-center gap-2"},Ot={class:"w-full h-1.5 bg-gray-200 rounded-full overflow-hidden"},Gt={class:"text-xs text-blue-600 font-medium"},Xt={class:"px-8 py-6"},Kt={class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-6 gap-4"},Jt={class:"md:col-span-2 lg:col-span-3 xl:col-span-2"},Zt={class:"relative"},Wt=["placeholder"],Qt=["value"],Yt=["value"],eo={class:"bg-white rounded-xl shadow-sm border border-gray-100 overflow-hidden"},to={class:"overflow-x-auto"},oo={class:"min-w-full divide-y divide-gray-200"},so={class:"bg-white divide-y divide-gray-200"},ro={class:"px-6 py-4"},ao={class:"text-sm text-gray-900"},lo={class:"px-6 py-4"},no={class:"text-sm font-medium text-gray-900"},io={class:"text-sm text-gray-500"},uo={key:0,class:"text-xs text-gray-400"},co={class:"text-xs text-purple-500"},po={class:"px-6 py-4"},vo={class:"text-sm font-medium text-gray-900"},go={key:0,class:"text-xs text-green-600 mt-1"},mo={key:1,class:"text-xs text-blue-600 mt-1"},xo={key:2,class:"text-xs text-purple-600 mt-1"},bo={class:"px-6 py-4"},fo={class:"text-sm text-gray-700"},yo={key:1,class:"text-xs mt-1 text-gray-400"},ho={key:2,class:"text-xs mt-1 text-green-600 font-medium"},wo={class:"px-6 py-4"},ko={class:"px-6 py-4"},_o={class:"flex items-center gap-2"},Co={class:"text-lg"},Mo={class:"px-6 py-4"},jo={key:0,class:"text-sm font-medium text-gray-900"},Po={key:1,class:"text-sm text-gray-400 italic"},So={class:"px-6 py-4"},Vo={class:"flex flex-col gap-1"},$o={key:0,class:"text-xs text-green-600"},Bo={key:1,class:"text-xs text-gray-500"},Eo={class:"px-6 py-4 text-right"},zo={class:"flex items-center justify-end space-x-1"},To=["onClick"],Ao=["onClick"],No=["onClick"],Do={key:1,class:"w-8 h-8 bg-gray-50 text-gray-400 rounded-lg cursor-not-allowed",title:"Vehículo no disponible",disabled:""},Ro=["onClick"],Lo=["onClick"],Ho=["onClick"],Fo=["onClick"],Io=["onClick"],qo={key:0},Uo={key:0,class:"bg-white border-t border-gray-200 px-4 py-3 sm:px-6"},Oo={class:"flex flex-col sm:flex-row items-center justify-between gap-4"},Go={class:"flex items-center gap-4"},Xo={class:"text-sm text-gray-700"},Ko=["value"],Jo={class:"relative z-0 inline-flex rounded-md shadow-sm -space-x-px"},Zo={key:1,class:"relative inline-flex items-center px-2 py-2 rounded-l-md border border-gray-300 bg-gray-100 text-sm font-medium text-gray-400"},Wo=["onClick"],Qo={key:3,class:"relative inline-flex items-center px-2 py-2 rounded-r-md border border-gray-300 bg-gray-100 text-sm font-medium text-gray-400"},Yo={class:"bg-white rounded-lg shadow-xl w-full max-w-4xl max-h-[90vh] overflow-y-auto"},es={class:"flex items-center justify-between p-6 border-b border-gray-200"},ts={key:0,class:"text-sm text-gray-600 mt-1"},os={class:"p-6"},ss={key:0,class:"text-center py-8"},rs={key:1,class:"space-y-4"},as={class:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-6"},ls={class:"bg-blue-50 p-4 rounded-lg border border-blue-200"},ns={class:"flex items-center justify-between"},is={class:"text-2xl font-bold text-blue-900"},ds={class:"bg-green-50 p-4 rounded-lg border border-green-200"},us={class:"flex items-center justify-between"},cs={class:"text-2xl font-bold text-green-900"},ps={class:"bg-yellow-50 p-4 rounded-lg border border-yellow-200"},vs={class:"flex items-center justify-between"},gs={class:"text-2xl font-bold text-yellow-900"},ms={class:"space-y-3"},xs={class:"flex items-start justify-between"},bs={class:"flex-1"},fs={class:"flex items-center gap-3 mb-2"},ys={class:"font-medium text-gray-900"},hs={class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 text-sm text-gray-600"},ws={key:0,class:"mt-2 text-sm text-gray-700"},ks={key:1,class:"mt-2 text-sm text-gray-700"},_s={class:"flex items-center gap-2 ml-4"},Cs=["onClick"],Ms={class:"bg-white rounded-lg shadow-xl w-full max-w-2xl max-h-[90vh] overflow-y-auto"},js={class:"flex items-center justify-between p-6 border-b border-gray-200"},Ps={class:"text-lg font-medium text-gray-900"},Ss={class:"p-6"},Vs={key:0},$s={class:"space-y-4"},Bs={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},Es={class:"space-y-3"},zs={class:"mt-1 text-sm text-gray-900 bg-gray-50 px-3 py-2 rounded-md"},Ts={class:"mt-1 text-sm text-gray-900 bg-gray-50 px-3 py-2 rounded-md"},As={class:"mt-1 text-sm text-gray-900 bg-gray-50 px-3 py-2 rounded-md"},Ns={class:"mt-1 text-sm text-gray-900 bg-gray-50 px-3 py-2 rounded-md"},Ds={class:"space-y-3"},Rs={class:"mt-1 text-sm text-gray-900 bg-gray-50 px-3 py-2 rounded-md"},Ls={class:"mt-1 text-sm text-gray-900 bg-gray-50 px-3 py-2 rounded-md"},Hs={class:"mt-1 text-sm text-gray-900 bg-gray-50 px-3 py-2 rounded-md"},Fs={class:"mt-1 text-sm text-gray-900 bg-gray-50 px-3 py-2 rounded-md"},Is={key:0},qs={class:"mt-1 text-sm text-gray-900 bg-gray-50 px-3 py-2 rounded-md whitespace-pre-wrap"},Us={key:1},Os={class:"mt-1 text-sm text-gray-900 bg-gray-50 px-3 py-2 rounded-md whitespace-pre-wrap"},Gs={key:1},Xs={class:"text-center"},Ks={class:"text-sm text-gray-500 mb-4"},Js={class:"flex justify-end gap-3 px-6 py-4 border-t border-gray-200 bg-gray-50"},Zs={key:0,class:"flex gap-2"},Ws={class:"bg-white rounded-lg shadow-xl w-full max-w-md max-h-[90vh] overflow-y-auto"},Qs={class:"flex items-center justify-between p-6 border-b border-gray-200"},Ys={class:"text-lg font-medium text-gray-900"},er={key:0,class:"text-sm text-gray-600 mt-1"},tr={key:1,class:"text-xs text-gray-500 mt-1"},or={key:2,class:"text-xs text-gray-500 mt-1"},sr={class:"p-6"},rr={class:"relative"},ar=["min"],lr={key:0,class:"bg-gray-50 p-4 rounded-lg"},nr={class:"space-y-1 text-sm text-gray-600"},ir={key:0},dr={class:"flex justify-end gap-3 pt-4"},ur={type:"submit",class:"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors flex items-center gap-2"},cr=Object.assign({layout:Ze},{__name:"Index",props:{mantenimientos:{type:[Object,Array],required:!0},estadisticas:{type:Object,default:()=>({})},filtros:{type:Object,default:()=>({})},sorting:{type:Object,default:()=>({sort_by:"fecha",sort_direction:"desc"})},carros:{type:Array,default:()=>[]},tiposMantenimiento:{type:Array,default:()=>[]}},setup(Me){var me,xe,be,fe,ye;const m=new We({duration:4e3,position:{x:"right",y:"top"},types:[{type:"success",background:"#10b981",icon:!1},{type:"error",background:"#ef4444",icon:!1},{type:"warning",background:"#f59e0b",icon:!1}]}),je=Oe();Ge(()=>{const s=je.props.flash;s!=null&&s.success&&m.success(s.success),s!=null&&s.error&&m.error(s.error),console.log("=== DEBUG MANTENIMIENTOS ===");const t=z.value||[];t.forEach(a=>{console.log(`ID: ${a.id}, Tipo: ${a.tipo}, Estado: "${a.estado}", Días restantes: ${a.dias_restantes}, Próximo: ${a.proximo_mantenimiento}`)});const i=t.filter(a=>{const g=(a.estado||"").toString().toLowerCase().trim(),h=a.dias_restantes<=0&&g!=="completado",B=a.dias_restantes<=0;return console.log(`Mantenimiento ${a.id}: dias_restantes=${a.dias_restantes}, estado="${a.estado}" (limpio: "${g}"), esVencido=${h}, esProximo=${B}`),B});console.log(`Total mantenimientos vencidos: ${i.length}`),i.length>0&&m.open({type:"warning",message:`¡Atención! Tienes ${i.length} mantenimiento(s) que requieren atención inmediata (fecha de próximo mantenimiento alcanzada).`})});const x=Me,V=X(()=>x.mantenimientos||{}),z=X(()=>{var s;return Array.isArray(x.mantenimientos)?x.mantenimientos:(s=x.mantenimientos)!=null&&s.data&&Array.isArray(x.mantenimientos.data)?x.mantenimientos.data:[]});console.log("=== DEBUG PROPS RECEIVED ==="),console.log("Mantenimientos data:",z.value),console.log("Mantenimientos count:",((me=z.value)==null?void 0:me.length)||0),console.log("Estadisticas:",x.estadisticas),console.log("Carros count:",((xe=x.carros)==null?void 0:xe.length)||0),console.log("Tipos mantenimiento count:",((be=x.tiposMantenimiento)==null?void 0:be.length)||0),((fe=z.value)==null?void 0:fe.length)>0&&console.log("Primer mantenimiento:",z.value[0]);const T=c(!1),$=c("details"),p=c(null),te=c(null),W=c(!1),L=c(null),A=c([]),oe=c(!1),d=c(null),H=c(0),N=c("");c(!1),c(null),c(0),c(""),c(0);const C=c(((ye=x.filters)==null?void 0:ye.search)??""),w=c("fecha-asc"),M=c(""),j=c(""),P=c(""),I=c(""),D=c(10),ae={module:"mantenimientos",createButtonText:"Nuevo Mantenimiento",searchPlaceholder:"Buscar por tipo, descripción o vehículo..."},v=X(()=>{const s=x.estadisticas||{},t=s.total_activos||0,i=s.completados||0,a=t+i;return{total:a,completados:i,activos:t,vencidos:s.vencidos||0,por_vencer:s.por_vencer||0,al_dia:s.al_dia||0,completadosPorcentaje:a>0?Math.round(i/a*100):0,activosPorcentaje:a>0?Math.round(t/a*100):0,vencidosPorcentaje:t>0?Math.round(s.vencidos/t*100):0,porVencerPorcentaje:t>0?Math.round(s.por_vencer/t*100):0,alDiaPorcentaje:t>0?Math.round(s.al_dia/t*100):0,pendientes:t,en_proceso:0,pendientesPorcentaje:a>0?Math.round(t/a*100):0,enProcesoPorcentaje:0}}),le=X(()=>z.value.map(s=>({id:s.id,titulo:s.tipo||"Sin tipo",subtitulo:s.descripcion?s.descripcion.substring(0,50)+(s.descripcion.length>50?"...":""):"Sin descripción",estado:s.estado||"pendiente",extra:`Vehículo: ${s.carro?s.carro.marca+" "+s.carro.modelo:"N/A"} | Costo: $${s.costo||0}`,fecha:s.fecha,raw:s})));function Pe(s){C.value=s,b.get(route("mantenimientos.index"),{search:s,sort_by:w.value.split("-")[0],sort_direction:w.value.split("-")[1]||"desc",estado:M.value,tipo:j.value,carro_id:P.value,per_page:D.value,page:1},{preserveState:!0,preserveScroll:!0})}function Se(s){M.value=s,b.get(route("mantenimientos.index"),{search:C.value,sort_by:w.value.split("-")[0],sort_direction:w.value.split("-")[1]||"desc",estado:s,tipo:j.value,carro_id:P.value,per_page:D.value,page:1},{preserveState:!0,preserveScroll:!0})}function Ve(s){j.value=s,b.get(route("mantenimientos.index"),{search:C.value,sort_by:w.value.split("-")[0],sort_direction:w.value.split("-")[1]||"desc",estado:M.value,tipo:s,carro_id:P.value,per_page:D.value,page:1},{preserveState:!0,preserveScroll:!0})}function $e(s){P.value=s,b.get(route("mantenimientos.index"),{search:C.value,sort_by:w.value.split("-")[0],sort_direction:w.value.split("-")[1]||"desc",estado:M.value,tipo:j.value,carro_id:s,prioridad:I.value,per_page:D.value,page:1},{preserveState:!0,preserveScroll:!0})}function Be(s){I.value=s,b.get(route("mantenimientos.index"),{search:C.value,sort_by:w.value.split("-")[0],sort_direction:w.value.split("-")[1]||"desc",estado:M.value,tipo:j.value,carro_id:P.value,prioridad:s,per_page:D.value,page:1},{preserveState:!0,preserveScroll:!0})}function Ee(s){w.value=s,b.get(route("mantenimientos.index"),{search:C.value,sort_by:s.split("-")[0],sort_direction:s.split("-")[1]||"desc",estado:M.value,tipo:j.value,carro_id:P.value,per_page:D.value,page:1},{preserveState:!0,preserveScroll:!0})}const ne=s=>{p.value=s.raw,$.value="details",T.value=!0},ze=async s=>{var t,i;if(console.log("verHistorialVehiculo llamado con carroId:",s),!s){console.error("Error: carroId es null o undefined"),m.error("No se puede mostrar el historial: vehículo no encontrado");return}try{const a=(t=x.carros)==null?void 0:t.find(h=>h.id===s);if(!a){m.error("Vehículo no encontrado");return}const g=((i=z.value)==null?void 0:i.filter(h=>h.carro_id===s))||[];console.log("Mostrando historial del vehículo:",a.marca+" "+a.modelo),console.log("Total mantenimientos encontrados:",g.length),L.value=a,A.value=g,W.value=!0}catch(a){console.error("Error al obtener historial del vehículo:",a),m.error("Error al cargar el historial del vehículo")}},Te=()=>{C.value="",M.value="",j.value="",P.value="",I.value="",w.value="fecha-desc",b.get(route("mantenimientos.index"),{search:"",estado:"",tipo:"",carro_id:"",prioridad:"",sort_by:"fecha",sort_direction:"desc",per_page:D.value,page:1},{preserveState:!0,preserveScroll:!0})},ie=s=>{b.visit(route("mantenimientos.edit",s))},Ae=s=>{te.value=s,$.value="confirm",T.value=!0},Ne=()=>{b.delete(route("mantenimientos.destroy",te.value),{preserveScroll:!0,onSuccess:()=>{m.success("Mantenimiento eliminado correctamente"),T.value=!1,te.value=null,b.reload()},onError:s=>{m.error("No se pudo eliminar el mantenimiento")}})},de=()=>{W.value=!1,L.value=null,A.value=[]},ue=s=>{if(d.value=s,H.value=s.raw.costo||0,s.raw.estado==="completado"){const t=new Date;let i=3;switch(s.raw.tipo){case"Cambio de aceite":i=6;break;case"Revisión periódica":i=12;break;case"Alineación y balanceo":i=6;break;case"Cambio de filtros":i=12;break}const a=new Date(t);a.setMonth(a.getMonth()+i),N.value=a.toISOString().split("T")[0]}else{const t=new Date(s.raw.fecha),i=new Date(t);i.setMonth(i.getMonth()+3),N.value=i.toISOString().split("T")[0]}oe.value=!0},De=()=>{if(d.value)if(d.value.raw.estado==="completado"){const s={carro_id:d.value.raw.carro_id,tipo:d.value.raw.tipo,fecha:new Date().toISOString().split("T")[0],proximo_mantenimiento:N.value,descripcion:`Siguiente ${d.value.raw.tipo} - Programado desde mantenimiento anterior ID: ${d.value.id}`,costo:H.value,estado:"pendiente",kilometraje_actual:d.value.raw.kilometraje_actual,prioridad:d.value.raw.prioridad,dias_anticipacion_alerta:d.value.raw.dias_anticipacion_alerta,requiere_aprobacion:d.value.raw.requiere_aprobacion,observaciones_alerta:d.value.raw.observaciones_alerta,notas:`Generado automáticamente desde mantenimiento completado ID: ${d.value.id}`};b.post(route("mantenimientos.store"),s,{preserveScroll:!0,onSuccess:()=>{m.success("Nuevo mantenimiento programado exitosamente"),q(),b.reload()},onError:t=>{m.error("No se pudo programar el nuevo mantenimiento"),console.error("Error al crear nuevo mantenimiento:",t)}})}else{const s={costo:H.value,proxima_fecha:N.value};b.patch(route("mantenimientos.reprogramar",d.value.id),s,{preserveScroll:!0,onSuccess:()=>{m.success("Mantenimiento reprogramado exitosamente"),q(),b.reload()},onError:t=>{m.error("No se pudo reprogramar el mantenimiento"),console.error("Error al reprogramar mantenimiento:",t)}})}},q=()=>{oe.value=!1,d.value=null,H.value=0,N.value=""},Re=async s=>{var t;try{const i={fecha_completado:new Date().toISOString().split("T")[0],notas_completado:"Completado desde acciones rápidas",costo:s.costo||0},a=await fetch(route("mantenimientos.completar",s.id),{method:"PATCH",headers:{"Content-Type":"application/json","X-Requested-With":"XMLHttpRequest","X-CSRF-TOKEN":(t=document.querySelector('meta[name="csrf-token"]'))==null?void 0:t.getAttribute("content")},body:JSON.stringify(i)});if(a.ok){const g=await a.json();m.success(g.message||"Mantenimiento completado exitosamente"),b.reload()}else{const g=await a.json();m.error(g.message||"Error al completar el mantenimiento")}}catch(i){console.error("Error completando mantenimiento:",i),m.error("Error de conexión al completar mantenimiento")}},Le=async(s,t=30)=>{var i;try{const a={nuevos_dias:t,motivo:`Pospuesto ${t} días desde acciones rápidas`},g=await fetch(route("mantenimientos.posponer",s.id),{method:"PATCH",headers:{"Content-Type":"application/json","X-Requested-With":"XMLHttpRequest","X-CSRF-TOKEN":(i=document.querySelector('meta[name="csrf-token"]'))==null?void 0:i.getAttribute("content")},body:JSON.stringify(a)});if(g.ok){const h=await g.json();m.success(h.message||`Mantenimiento pospuesto ${t} días`),b.reload()}else{const h=await g.json();m.error(h.message||"Error al posponer el mantenimiento")}}catch(a){console.error("Error posponiendo mantenimiento:",a),m.error("Error de conexión al posponer mantenimiento")}},U=s=>{if(s.estado_calculado)return s.estado_calculado;const t=new Date,i=new Date(s.proximo_mantenimiento),a=Math.ceil((i.getTime()-t.getTime())/(1e3*60*60*24));return s.estado==="completado"?{estado:"completado",descripcion:"Servicio completado",clase:"text-green-700 bg-green-100",dias_restantes:0,es_vencido:!1,es_proximo:!1}:a<0?{estado:"vencido",descripcion:`Vencido hace ${Math.abs(a)} días`,clase:"text-red-700 bg-red-100",dias_restantes:a,es_vencido:!0,es_proximo:!1}:a<=30?{estado:"por_vencer",descripcion:`Vence en ${a} días`,clase:"text-orange-700 bg-orange-100",dias_restantes:a,es_vencido:!1,es_proximo:!0}:{estado:"al_dia",descripcion:`Próximo en ${a} días`,clase:"text-blue-700 bg-blue-100",dias_restantes:a,es_vencido:!1,es_proximo:!1}},He=()=>{const s=new URLSearchParams;C.value&&s.append("search",C.value),M.value&&s.append("estado",M.value),j.value&&s.append("tipo",j.value),P.value&&s.append("carro_id",P.value);const t=s.toString(),i=route("mantenimientos.export")+(t?`?${t}`:"");window.location.href=i},k=X(()=>{var s,t,i,a,g,h,B,O,G;return{current_page:((s=V.value)==null?void 0:s.current_page)||1,last_page:((t=V.value)==null?void 0:t.last_page)||1,per_page:((i=V.value)==null?void 0:i.per_page)||10,from:((a=V.value)==null?void 0:a.from)||0,to:((g=V.value)==null?void 0:g.to)||0,total:((h=V.value)==null?void 0:h.total)||0,prev_page_url:(B=V.value)==null?void 0:B.prev_page_url,next_page_url:(O=V.value)==null?void 0:O.next_page_url,links:((G=V.value)==null?void 0:G.links)||[]}}),Fe=s=>{b.get(route("mantenimientos.index"),{...x.filters,...x.sorting,per_page:s,page:1},{preserveState:!0,preserveScroll:!0})},se=s=>{b.get(route("mantenimientos.index"),{...x.filters,...x.sorting,page:s},{preserveState:!0,preserveScroll:!0})},y=s=>new Intl.NumberFormat("es-ES").format(s),_=s=>{if(!s)return"Fecha no disponible";try{return new Date(s).toLocaleDateString("es-MX",{day:"2-digit",month:"2-digit",year:"numeric"})}catch{return"Fecha inválida"}},ce=s=>{const t=s.estado,i=s.dias_restantes;return t==="completado"?i!==null&&i<=0?"bg-red-100 text-red-700":i!==null&&i<=7?"bg-orange-100 text-orange-700":"bg-green-100 text-green-700":{completado:"bg-green-100 text-green-700",pendiente:"bg-yellow-100 text-yellow-700",en_proceso:"bg-blue-100 text-blue-700"}[t]||"bg-gray-100 text-gray-700"},pe=s=>{const t=s.estado,i=s.dias_restantes;return t==="completado"?i===null?"Completado":i<=0?"Vencido":i<=7?"Próximo":"Programado":{completado:"Completado",pendiente:"Pendiente",en_proceso:"En Proceso"}[t]||"Pendiente"},ve=s=>({baja:"bg-green-100 text-green-700 border-green-200",media:"bg-blue-100 text-blue-700 border-blue-200",alta:"bg-orange-100 text-orange-700 border-orange-200",critica:"bg-red-100 text-red-700 border-red-200"})[s]||"bg-gray-100 text-gray-700 border-gray-200",ge=s=>({baja:"Baja",media:"Media",alta:"Alta",critica:"Crítica"})[s]||"Media",Ie=s=>{const t=s.dias_restantes,i=s.prioridad;return t===null?"bg-gray-100 text-gray-700 border-gray-200":t<=0||i==="critica"||t<=3||i==="alta"?"bg-red-100 text-red-700 border-red-200":t<=7?"bg-orange-100 text-orange-700 border-orange-200":t<=15?"bg-yellow-100 text-yellow-700 border-yellow-200":"bg-green-100 text-green-700 border-green-200"},qe=s=>{const t=s.dias_restantes,i=s.prioridad;return t===null?"📋":t<=0||i==="critica"?"⚠️":t<=7||i==="alta"?"⚡":t<=15?"🔔":"✅"},Ue=s=>{const t=s.dias_restantes;return t===null?"Sin programar":t<=0?"Vencido":t<=7?"Urgente":t<=15?"Próximo":"Normal"};return(s,t)=>{var i,a,g,h,B,O,G,he;return n(),l("div",null,[_e(Ce(Xe),{title:"Mantenimientos"}),e("div",Ye,[e("div",et,[e("div",tt,[e("div",ot,[e("div",st,[e("div",rt,[t[25]||(t[25]=Y('<div class="flex items-center gap-4" data-v-4039fee7><div class="bg-blue-100 p-3 rounded-xl" data-v-4039fee7><svg class="w-8 h-8 text-blue-600" fill="none" stroke="currentColor" viewBox="0 0 24 24" data-v-4039fee7><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z" data-v-4039fee7></path><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 12a3 3 0 11-6 0 3 3 0 016 0z" data-v-4039fee7></path></svg></div><div data-v-4039fee7><h1 class="text-3xl font-bold text-slate-900" data-v-4039fee7>Mantenimientos</h1><p class="text-slate-600 mt-1" data-v-4039fee7>Gestión y seguimiento de mantenimientos de vehículos</p></div></div>',1)),e("div",at,[e("button",{onClick:Te,class:"inline-flex items-center gap-2 px-4 py-2.5 bg-gray-50 text-gray-700 rounded-lg hover:bg-gray-100 transition-all duration-200 border border-gray-200"},t[22]||(t[22]=[e("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1),e("span",{class:"text-sm font-medium"},"Ver Todos",-1)])),e("button",{onClick:He,class:"inline-flex items-center gap-2 px-4 py-2.5 bg-green-50 text-green-700 rounded-lg hover:bg-green-100 transition-all duration-200 border border-green-200"},t[23]||(t[23]=[e("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 10v6m0 0l-3-3m3 3l3-3M3 17V7a2 2 0 012-2h6l2 2h6a2 2 0 012 2v10a2 2 0 01-2 2H5a2 2 0 01-2-2z"})],-1),e("span",{class:"text-sm font-medium"},"Exportar",-1)])),_e(Ce(Je),{href:s.route("mantenimientos.create"),class:"inline-flex items-center gap-2.5 px-6 py-2.5 bg-gradient-to-r from-blue-600 to-blue-700 text-white font-semibold rounded-lg hover:from-blue-700 hover:to-blue-800 transition-all duration-200 shadow-lg"},{default:Ke(()=>[t[24]||(t[24]=e("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 4v16m8-8H4"})],-1)),e("span",null,r(ae.createButtonText),1)]),_:1},8,["href"])])])])]),e("div",lt,[t[40]||(t[40]=e("div",{class:"mb-4"},[e("h3",{class:"text-lg font-semibold text-slate-800 mb-2"},"Resumen General"),e("p",{class:"text-sm text-slate-600"},"Vista general del estado de todos los mantenimientos")],-1)),e("div",nt,[e("div",it,[e("div",dt,[e("div",null,[t[26]||(t[26]=e("p",{class:"text-sm font-medium text-slate-600"},"Total",-1)),e("p",ut,r(y(v.value.total)),1)]),t[27]||(t[27]=e("div",{class:"bg-slate-100 p-2 rounded-lg"},[e("svg",{class:"w-6 h-6 text-slate-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})])],-1))])]),e("div",ct,[e("div",pt,[e("div",null,[t[28]||(t[28]=e("p",{class:"text-sm font-medium text-slate-600"},"Completados",-1)),e("p",vt,r(y(v.value.completados)),1),e("div",gt,[e("div",mt,[e("div",{class:"h-full bg-green-500 transition-all duration-300",style:F({width:v.value.completadosPorcentaje+"%"})},null,4)]),e("span",xt,r(v.value.completadosPorcentaje)+"%",1)])]),t[29]||(t[29]=e("div",{class:"bg-green-100 p-2 rounded-lg"},[e("svg",{class:"w-6 h-6 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})])],-1))])]),e("div",bt,[e("div",ft,[e("div",null,[t[30]||(t[30]=e("p",{class:"text-sm font-medium text-slate-600"},"Pendientes",-1)),e("p",yt,r(y(v.value.pendientes)),1),e("div",ht,[e("div",wt,[e("div",{class:"h-full bg-yellow-500 transition-all duration-300",style:F({width:v.value.pendientesPorcentaje+"%"})},null,4)]),e("span",kt,r(v.value.pendientesPorcentaje)+"%",1)])]),t[31]||(t[31]=e("div",{class:"bg-yellow-100 p-2 rounded-lg"},[e("svg",{class:"w-6 h-6 text-yellow-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})])],-1))])]),e("div",_t,[e("div",Ct,[e("div",null,[t[32]||(t[32]=e("p",{class:"text-sm font-medium text-slate-600"},"En Proceso",-1)),e("p",Mt,r(y(v.value.en_proceso)),1),e("div",jt,[e("div",Pt,[e("div",{class:"h-full bg-blue-500 transition-all duration-300",style:F({width:v.value.enProcesoPorcentaje+"%"})},null,4)]),e("span",St,r(v.value.enProcesoPorcentaje)+"%",1)])]),t[33]||(t[33]=e("div",{class:"bg-blue-100 p-2 rounded-lg"},[e("svg",{class:"w-6 h-6 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M13 10V3L4 14h7v7l9-11h-7z"})])],-1))])]),e("div",Vt,[e("div",$t,[e("div",null,[t[34]||(t[34]=e("p",{class:"text-sm font-medium text-slate-600"},"Vencidos",-1)),e("p",Bt,r(y(v.value.vencidos)),1),e("div",Et,[e("div",zt,[e("div",{class:"h-full bg-red-500 transition-all duration-300",style:F({width:v.value.vencidosPorcentaje+"%"})},null,4)]),e("span",Tt,r(v.value.vencidosPorcentaje)+"%",1)])]),t[35]||(t[35]=e("div",{class:"bg-red-100 p-2 rounded-lg"},[e("svg",{class:"w-6 h-6 text-red-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L4.082 16.5c-.77.833.192 2.5 1.732 2.5z"})])],-1))])]),e("div",At,[e("div",Nt,[e("div",null,[t[36]||(t[36]=e("p",{class:"text-sm font-medium text-slate-600"},"Por Vencer",-1)),e("p",Dt,r(y(v.value.por_vencer)),1),e("div",Rt,[e("div",Lt,[e("div",{class:"h-full bg-orange-500 transition-all duration-300",style:F({width:v.value.porVencerPorcentaje+"%"})},null,4)]),e("span",Ht,r(v.value.porVencerPorcentaje)+"%",1)])]),t[37]||(t[37]=e("div",{class:"bg-orange-100 p-2 rounded-lg"},[e("svg",{class:"w-6 h-6 text-orange-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})])],-1))])]),e("div",Ft,[e("div",It,[e("div",null,[t[38]||(t[38]=e("p",{class:"text-sm font-medium text-slate-600"},"Al Día",-1)),e("p",qt,r(y(v.value.al_dia)),1),e("div",Ut,[e("div",Ot,[e("div",{class:"h-full bg-blue-500 transition-all duration-300",style:F({width:v.value.alDiaPorcentaje+"%"})},null,4)]),e("span",Gt,r(v.value.alDiaPorcentaje)+"%",1)])]),t[39]||(t[39]=e("div",{class:"bg-blue-100 p-2 rounded-lg"},[e("svg",{class:"w-6 h-6 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})])],-1))])])])]),e("div",Xt,[t[53]||(t[53]=e("div",{class:"mb-4"},[e("h3",{class:"text-lg font-semibold text-slate-800 mb-2"},"Filtros y Búsqueda"),e("p",{class:"text-sm text-slate-600"},"Filtra y busca mantenimientos específicos")],-1)),e("div",Kt,[e("div",Jt,[t[42]||(t[42]=e("label",{class:"block text-sm font-medium text-slate-700 mb-2"},"Búsqueda",-1)),e("div",Zt,[E(e("input",{"onUpdate:modelValue":t[0]||(t[0]=o=>C.value=o),onInput:t[1]||(t[1]=o=>Pe(o.target.value)),type:"text",placeholder:ae.searchPlaceholder,class:"w-full pl-4 pr-10 py-3 border border-slate-300 rounded-lg bg-white text-slate-900 focus:outline-none focus:border-blue-500 focus:ring-4 focus:ring-blue-500/10 transition-all duration-200"},null,40,Wt),[[re,C.value]]),t[41]||(t[41]=e("svg",{class:"absolute right-3 top-3.5 w-4 h-4 text-slate-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})],-1))])]),e("div",null,[t[44]||(t[44]=e("label",{class:"block text-sm font-medium text-slate-700 mb-2"},"Estado",-1)),E(e("select",{"onUpdate:modelValue":t[2]||(t[2]=o=>M.value=o),onChange:t[3]||(t[3]=o=>Se(o.target.value)),class:"w-full px-4 py-3 border border-slate-300 rounded-lg bg-white text-slate-900 focus:outline-none focus:border-blue-500 focus:ring-4 focus:ring-blue-500/10 transition-all duration-200"},t[43]||(t[43]=[e("option",{value:""},"Todos los Estados",-1),e("option",{value:"completado"},"✅ Completado",-1),e("option",{value:"pendiente"},"⏳ Pendiente",-1),e("option",{value:"en_proceso"},"🔄 En Proceso",-1)]),544),[[K,M.value]])]),e("div",null,[t[46]||(t[46]=e("label",{class:"block text-sm font-medium text-slate-700 mb-2"},"Tipo",-1)),E(e("select",{"onUpdate:modelValue":t[4]||(t[4]=o=>j.value=o),onChange:t[5]||(t[5]=o=>Ve(o.target.value)),class:"w-full px-4 py-3 border border-slate-300 rounded-lg bg-white text-slate-900 focus:outline-none focus:border-blue-500 focus:ring-4 focus:ring-blue-500/10 transition-all duration-200"},[t[45]||(t[45]=e("option",{value:""},"Todos los Tipos",-1)),(n(!0),l(J,null,Z(x.tiposMantenimiento,o=>(n(),l("option",{key:o,value:o},r(o),9,Qt))),128))],544),[[K,j.value]])]),e("div",null,[t[48]||(t[48]=e("label",{class:"block text-sm font-medium text-slate-700 mb-2"},"Vehículo",-1)),E(e("select",{"onUpdate:modelValue":t[6]||(t[6]=o=>P.value=o),onChange:t[7]||(t[7]=o=>$e(o.target.value)),class:"w-full px-4 py-3 border border-slate-300 rounded-lg bg-white text-slate-900 focus:outline-none focus:border-blue-500 focus:ring-4 focus:ring-blue-500/10 transition-all duration-200"},[t[47]||(t[47]=e("option",{value:""},"Todos los Vehículos",-1)),(n(!0),l(J,null,Z(x.carros,o=>(n(),l("option",{key:o.id,value:o.id},r(o.marca)+" "+r(o.modelo),9,Yt))),128))],544),[[K,P.value]])]),e("div",null,[t[50]||(t[50]=e("label",{class:"block text-sm font-medium text-slate-700 mb-2"},"Prioridad",-1)),E(e("select",{"onUpdate:modelValue":t[8]||(t[8]=o=>I.value=o),onChange:t[9]||(t[9]=o=>Be(o.target.value)),class:"w-full px-4 py-3 border border-slate-300 rounded-lg bg-white text-slate-900 focus:outline-none focus:border-blue-500 focus:ring-4 focus:ring-blue-500/10 transition-all duration-200"},t[49]||(t[49]=[Y('<option value="" data-v-4039fee7>Todas las Prioridades</option><option value="baja" data-v-4039fee7>🟢 Baja</option><option value="media" data-v-4039fee7>🔵 Media</option><option value="alta" data-v-4039fee7>🟠 Alta</option><option value="critica" data-v-4039fee7>🔴 Crítica</option>',5)]),544),[[K,I.value]])]),e("div",null,[t[52]||(t[52]=e("label",{class:"block text-sm font-medium text-slate-700 mb-2"},"Ordenar por",-1)),E(e("select",{"onUpdate:modelValue":t[10]||(t[10]=o=>w.value=o),onChange:t[11]||(t[11]=o=>Ee(o.target.value)),class:"w-full px-4 py-3 border border-slate-300 rounded-lg bg-white text-slate-900 focus:outline-none focus:border-blue-500 focus:ring-4 focus:ring-blue-500/10 transition-all duration-200"},t[51]||(t[51]=[Y('<option value="fecha-desc" data-v-4039fee7>📅 Fecha Más Reciente</option><option value="fecha-asc" data-v-4039fee7>📅 Fecha Más Antigua</option><option value="tipo-asc" data-v-4039fee7>🔤 Tipo A-Z</option><option value="tipo-desc" data-v-4039fee7>🔤 Tipo Z-A</option><option value="costo-desc" data-v-4039fee7>💰 Costo Mayor</option><option value="costo-asc" data-v-4039fee7>💰 Costo Menor</option>',6)]),544),[[K,w.value]])])])])]),e("div",eo,[e("div",to,[e("table",oo,[t[64]||(t[64]=e("thead",{class:"bg-gray-50"},[e("tr",null,[e("th",{class:"px-6 py-4 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider"},"Fecha"),e("th",{class:"px-6 py-4 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider"},"Vehículo"),e("th",{class:"px-6 py-4 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider"},"Tipo"),e("th",{class:"px-6 py-4 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider"},"Próximo"),e("th",{class:"px-6 py-4 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider"},"Prioridad"),e("th",{class:"px-6 py-4 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider"},"Urgencia"),e("th",{class:"px-6 py-4 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider"},"Costo"),e("th",{class:"px-6 py-4 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider"},"Estado"),e("th",{class:"px-6 py-4 text-right text-xs font-semibold text-gray-600 uppercase tracking-wider"},"Acciones")])],-1)),e("tbody",so,[(n(!0),l(J,null,Z(le.value,(o,Q)=>{var we,ke;return n(),l("tr",{key:o.id,class:S(["hover:bg-gray-50 transition-colors duration-150",o.raw.dias_restantes<=0?"bg-red-50":"",o.raw.prioridad==="critica"?"border-l-4 border-l-red-500":"",o.raw.prioridad==="alta"?"border-l-4 border-l-orange-500":""])},[e("td",ro,[e("div",ao,r(_(o.fecha)),1)]),e("td",lo,[e("div",no,r(o.raw.carro?o.raw.carro.marca+" "+o.raw.carro.modelo:"N/A"),1),e("div",io,r(((we=o.raw.carro)==null?void 0:we.placas)||""),1),o.raw.kilometraje_actual?(n(),l("div",uo,r(y(o.raw.kilometraje_actual))+" km ",1)):u("",!0),e("div",co,"ID: "+r(o.id),1)]),e("td",po,[e("div",vo,r(o.titulo),1),o.raw.estado==="completado"?(n(),l("div",go," ✓ Servicio realizado ")):o.raw.estado==="pendiente"?(n(),l("div",mo," ⏳ Programado ")):u("",!0),o.raw.notas&&o.raw.notas.includes("automáticamente")?(n(),l("div",xo," 🤖 Generado automáticamente ")):u("",!0)]),e("td",bo,[e("div",fo,r(_(o.raw.proximo_mantenimiento)),1),o.raw.dias_restantes!==null&&o.raw.dias_restantes!==void 0?(n(),l("div",{key:0,class:S(["text-xs mt-1",o.raw.dias_restantes<=0?"text-red-600 font-medium":"text-gray-500"])},r(o.raw.dias_restantes<=0?`${Math.abs(o.raw.dias_restantes)} días vencido`:`${o.raw.dias_restantes} días restantes`),3)):(n(),l("div",yo," Sin fecha de próximo mantenimiento ")),o.raw.estado==="completado"?(n(),l("div",ho," ✓ Servicio realizado ")):u("",!0)]),e("td",wo,[e("span",{class:S([ve(o.raw.prioridad),"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium"])},r(ge(o.raw.prioridad)),3)]),e("td",ko,[e("div",_o,[e("span",Co,r(qe(o.raw)),1),e("span",{class:S([Ie(o.raw),"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium"])},r(Ue(o.raw)),3)])]),e("td",Mo,[o.raw.costo&&o.raw.costo>0?(n(),l("div",jo," $"+r(y(o.raw.costo)),1)):(n(),l("div",Po," Pendiente "))]),e("td",So,[e("div",Vo,[e("span",{class:S([U(o.raw).clase,"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium"])},r(U(o.raw).descripcion),3),U(o.raw).estado==="completado"?(n(),l("div",$o," Completado: "+r(_(o.raw.fecha)),1)):(n(),l("div",Bo,r(_(o.raw.proximo_mantenimiento)),1)),o.raw.dias_restantes!==null?(n(),l("div",{key:2,class:S(["text-xs",o.raw.dias_restantes<=0?"text-red-600 font-medium":"text-gray-500"])},r(o.raw.dias_restantes<=0?`${Math.abs(o.raw.dias_restantes)} días vencido`:`${o.raw.dias_restantes} días restantes`),3)):u("",!0)])]),e("td",Eo,[e("div",zo,[e("button",{onClick:R=>ne(o),class:"w-8 h-8 bg-blue-50 text-blue-600 rounded-lg hover:bg-blue-100 transition-colors duration-150",title:"Ver detalles"},t[54]||(t[54]=[e("svg",{class:"w-4 h-4 mx-auto",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})],-1)]),8,To),e("button",{onClick:R=>ie(o.id),class:"w-8 h-8 bg-amber-50 text-amber-600 rounded-lg hover:bg-amber-100 transition-colors duration-150",title:"Editar"},t[55]||(t[55]=[e("svg",{class:"w-4 h-4 mx-auto",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})],-1)]),8,Ao),(ke=o.raw.carro)!=null&&ke.id?(n(),l("button",{key:0,onClick:R=>ze(o.raw.carro.id),class:"w-8 h-8 bg-purple-50 text-purple-600 rounded-lg hover:bg-purple-100 transition-colors duration-150",title:"Ver historial del vehículo"},t[56]||(t[56]=[e("svg",{class:"w-4 h-4 mx-auto",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})],-1)]),8,No)):(n(),l("button",Do,t[57]||(t[57]=[e("svg",{class:"w-4 h-4 mx-auto",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})],-1)]))),o.raw.estado!=="completado"?(n(),l("button",{key:2,onClick:R=>Re(o.raw),class:"w-8 h-8 bg-green-50 text-green-600 rounded-lg hover:bg-green-100 transition-colors duration-150",title:"Completar mantenimiento"},t[58]||(t[58]=[e("svg",{class:"w-4 h-4 mx-auto",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})],-1)]),8,Ro)):u("",!0),U(o.raw).estado==="por_vencer"?(n(),l("button",{key:3,onClick:R=>Le(o.raw,30),class:"w-8 h-8 bg-yellow-50 text-yellow-600 rounded-lg hover:bg-yellow-100 transition-colors duration-150",title:"Posponer 30 días"},t[59]||(t[59]=[e("svg",{class:"w-4 h-4 mx-auto",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})],-1)]),8,Lo)):u("",!0),U(o.raw).estado==="vencido"?(n(),l("button",{key:4,onClick:R=>ue(o),class:"w-8 h-8 bg-blue-50 text-blue-600 rounded-lg hover:bg-blue-100 transition-colors duration-150",title:"Reprogramar mantenimiento"},t[60]||(t[60]=[e("svg",{class:"w-4 h-4 mx-auto",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})],-1)]),8,Ho)):u("",!0),o.raw.estado==="completado"?(n(),l("button",{key:5,onClick:R=>ue(o),class:"w-8 h-8 bg-indigo-50 text-indigo-600 rounded-lg hover:bg-indigo-100 transition-colors duration-150",title:"Programar siguiente mantenimiento"},t[61]||(t[61]=[e("svg",{class:"w-4 h-4 mx-auto",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})],-1)]),8,Fo)):u("",!0),e("button",{onClick:R=>Ae(o.id),class:"w-8 h-8 bg-red-50 text-red-600 rounded-lg hover:bg-red-100 transition-colors duration-150",title:"Eliminar"},t[62]||(t[62]=[e("svg",{class:"w-4 h-4 mx-auto",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})],-1)]),8,Io)])])],2)}),128)),le.value.length===0?(n(),l("tr",qo,t[63]||(t[63]=[e("td",{colspan:"9",class:"px-6 py-16 text-center"},[e("div",{class:"flex flex-col items-center space-y-4"},[e("div",{class:"w-16 h-16 bg-gray-100 rounded-full flex items-center justify-center"},[e("svg",{class:"w-8 h-8 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"1.5",d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})])]),e("div",{class:"space-y-1"},[e("p",{class:"text-gray-700 font-medium"},"No hay mantenimientos"),e("p",{class:"text-sm text-gray-500"},"Los mantenimientos aparecerán aquí cuando se creen")])])],-1)]))):u("",!0)])])]),k.value.lastPage>1?(n(),l("div",Uo,[e("div",Oo,[e("div",Go,[e("p",Xo," Mostrando "+r(k.value.from)+" - "+r(k.value.to)+" de "+r(k.value.total)+" resultados ",1),e("select",{value:k.value.perPage,onChange:t[12]||(t[12]=o=>Fe(parseInt(o.target.value))),class:"border border-gray-300 rounded-md text-sm py-1 px-2 bg-white"},t[65]||(t[65]=[e("option",{value:"10"},"10",-1),e("option",{value:"15"},"15",-1),e("option",{value:"25"},"25",-1),e("option",{value:"50"},"50",-1)]),40,Ko)]),e("nav",Jo,[k.value.prevPageUrl?(n(),l("button",{key:0,onClick:t[13]||(t[13]=o=>se(k.value.currentPage-1)),class:"relative inline-flex items-center px-2 py-2 rounded-l-md border border-gray-300 bg-white text-sm font-medium text-gray-500 hover:bg-gray-50"},t[66]||(t[66]=[e("svg",{class:"h-5 w-5",fill:"currentColor",viewBox:"0 0 20 20"},[e("path",{"fill-rule":"evenodd",d:"M12.707 5.293a1 1 0 010 1.414L9.414 10l3.293 3.293a1 1 0 01-1.414 1.414l-4-4a1 1 0 010-1.414l4-4a1 1 0 011.414 0z","clip-rule":"evenodd"})],-1)]))):(n(),l("span",Zo,t[67]||(t[67]=[e("svg",{class:"h-5 w-5",fill:"currentColor",viewBox:"0 0 20 20"},[e("path",{"fill-rule":"evenodd",d:"M12.707 5.293a1 1 0 010 1.414L9.414 10l3.293 3.293a1 1 0 01-1.414 1.414l-4-4a1 1 0 010-1.414l4-4a1 1 0 011.414 0z","clip-rule":"evenodd"})],-1)]))),(n(!0),l(J,null,Z([k.value.currentPage-1,k.value.currentPage,k.value.currentPage+1].filter(o=>o>0&&o<=k.value.lastPage),o=>(n(),l("button",{key:o,onClick:Q=>se(o),class:S([o===k.value.currentPage?"bg-blue-50 border-blue-500 text-blue-600":"bg-white border-gray-300 text-gray-500 hover:bg-gray-50","relative inline-flex items-center px-4 py-2 border text-sm font-medium"])},r(o),11,Wo))),128)),k.value.nextPageUrl?(n(),l("button",{key:2,onClick:t[14]||(t[14]=o=>se(k.value.currentPage+1)),class:"relative inline-flex items-center px-2 py-2 rounded-r-md border border-gray-300 bg-white text-sm font-medium text-gray-500 hover:bg-gray-50"},t[68]||(t[68]=[e("svg",{class:"h-5 w-5",fill:"currentColor",viewBox:"0 0 20 20"},[e("path",{"fill-rule":"evenodd",d:"M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z","clip-rule":"evenodd"})],-1)]))):(n(),l("span",Qo,t[69]||(t[69]=[e("svg",{class:"h-5 w-5",fill:"currentColor",viewBox:"0 0 20 20"},[e("path",{"fill-rule":"evenodd",d:"M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z","clip-rule":"evenodd"})],-1)])))])])])):u("",!0)]),W.value?(n(),l("div",{key:0,class:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",onClick:t[15]||(t[15]=ee(o=>W.value=!1,["self"]))},[e("div",Yo,[e("div",es,[e("div",null,[t[71]||(t[71]=e("h3",{class:"text-lg font-medium text-gray-900"},"Historial de Mantenimientos",-1)),L.value?(n(),l("p",ts,[f(r(L.value.marca)+" "+r(L.value.modelo)+" ",1),t[70]||(t[70]=e("span",{class:"text-gray-400"},"•",-1)),f(" Placas: "+r(L.value.placas||"N/A"),1)])):u("",!0)]),e("button",{onClick:de,class:"text-gray-400 hover:text-gray-600 transition-colors"},t[72]||(t[72]=[e("svg",{class:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)]))]),e("div",os,[A.value.length===0?(n(),l("div",ss,t[73]||(t[73]=[Y('<div class="w-16 h-16 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-4" data-v-4039fee7><svg class="w-8 h-8 text-gray-400" fill="none" stroke="currentColor" viewBox="0 0 24 24" data-v-4039fee7><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z" data-v-4039fee7></path></svg></div><p class="text-gray-700 font-medium" data-v-4039fee7>No hay mantenimientos registrados</p><p class="text-sm text-gray-500" data-v-4039fee7>Este vehículo aún no tiene mantenimientos en el sistema</p>',3)]))):(n(),l("div",rs,[e("div",as,[e("div",ls,[e("div",ns,[e("div",null,[t[74]||(t[74]=e("p",{class:"text-sm font-medium text-blue-600"},"Total Mantenimientos",-1)),e("p",is,r(A.value.length),1)]),t[75]||(t[75]=e("div",{class:"bg-blue-100 p-2 rounded-lg"},[e("svg",{class:"w-6 h-6 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})])],-1))])]),e("div",ds,[e("div",us,[e("div",null,[t[76]||(t[76]=e("p",{class:"text-sm font-medium text-green-600"},"Completados",-1)),e("p",cs,r(A.value.filter(o=>o.estado==="completado").length),1)]),t[77]||(t[77]=e("div",{class:"bg-green-100 p-2 rounded-lg"},[e("svg",{class:"w-6 h-6 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})])],-1))])]),e("div",ps,[e("div",vs,[e("div",null,[t[78]||(t[78]=e("p",{class:"text-sm font-medium text-yellow-600"},"Costo Total",-1)),e("p",gs,"$"+r(y(A.value.reduce((o,Q)=>o+(Q.costo||0),0))),1)]),t[79]||(t[79]=e("div",{class:"bg-yellow-100 p-2 rounded-lg"},[e("svg",{class:"w-6 h-6 text-yellow-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1"})])],-1))])])]),e("div",ms,[t[87]||(t[87]=e("h4",{class:"text-lg font-semibold text-gray-800 mb-4"},"Lista de Mantenimientos",-1)),(n(!0),l(J,null,Z(A.value,o=>(n(),l("div",{key:o.id,class:"bg-gray-50 p-4 rounded-lg border border-gray-200"},[e("div",xs,[e("div",bs,[e("div",fs,[e("h5",ys,r(o.tipo),1),e("span",{class:S([ce(o.estado),"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium"])},r(pe(o.estado)),3),o.prioridad?(n(),l("span",{key:0,class:S([ve(o.prioridad),"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium"])},r(ge(o.prioridad)),3)):u("",!0)]),e("div",hs,[e("div",null,[t[80]||(t[80]=e("span",{class:"font-medium"},"Fecha:",-1)),f(" "+r(_(o.fecha)),1)]),e("div",null,[t[81]||(t[81]=e("span",{class:"font-medium"},"Próximo:",-1)),f(" "+r(_(o.proximo_mantenimiento)),1)]),e("div",null,[t[82]||(t[82]=e("span",{class:"font-medium"},"Kilometraje:",-1)),f(" "+r(y(o.kilometraje_actual||0))+" km ",1)]),e("div",null,[t[83]||(t[83]=e("span",{class:"font-medium"},"Costo:",-1)),f(" $"+r(y(o.costo||0)),1)])]),o.descripcion?(n(),l("div",ws,[t[84]||(t[84]=e("span",{class:"font-medium"},"Descripción:",-1)),f(" "+r(o.descripcion),1)])):u("",!0),o.notas?(n(),l("div",ks,[t[85]||(t[85]=e("span",{class:"font-medium"},"Notas:",-1)),f(" "+r(o.notas),1)])):u("",!0)]),e("div",_s,[e("button",{onClick:Q=>ne(o),class:"w-8 h-8 bg-blue-50 text-blue-600 rounded-lg hover:bg-blue-100 transition-colors duration-150",title:"Ver detalles"},t[86]||(t[86]=[e("svg",{class:"w-4 h-4 mx-auto",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})],-1)]),8,Cs)])])]))),128))])]))]),e("div",{class:"flex justify-end gap-3 px-6 py-4 border-t border-gray-200 bg-gray-50"},[e("button",{onClick:de,class:"px-4 py-2 bg-gray-300 text-gray-700 rounded-lg hover:bg-gray-400 transition-colors"}," Cerrar ")])])])):u("",!0),T.value?(n(),l("div",{key:1,class:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",onClick:t[19]||(t[19]=ee(o=>T.value=!1,["self"]))},[e("div",Ms,[e("div",js,[e("h3",Ps,r($.value==="details"?"Detalles del Mantenimiento":"Confirmar Eliminación"),1),e("button",{onClick:t[16]||(t[16]=o=>T.value=!1),class:"text-gray-400 hover:text-gray-600 transition-colors"},t[88]||(t[88]=[e("svg",{class:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)]))]),e("div",Ss,[$.value==="details"&&p.value?(n(),l("div",Vs,[e("div",$s,[e("div",Bs,[e("div",Es,[e("div",null,[t[89]||(t[89]=e("label",{class:"block text-sm font-medium text-gray-700"},"Vehículo",-1)),e("p",zs,r(p.value.carro?p.value.carro.marca+" "+p.value.carro.modelo:"N/A"),1)]),e("div",null,[t[90]||(t[90]=e("label",{class:"block text-sm font-medium text-gray-700"},"Tipo",-1)),e("p",Ts,r(p.value.tipo),1)]),e("div",null,[t[91]||(t[91]=e("label",{class:"block text-sm font-medium text-gray-700"},"Fecha",-1)),e("p",As,r(_(p.value.fecha)),1)]),e("div",null,[t[92]||(t[92]=e("label",{class:"block text-sm font-medium text-gray-700"},"Próximo Mantenimiento",-1)),e("p",Ns,r(_(p.value.proximo_mantenimiento)),1)]),e("div",null,[t[93]||(t[93]=e("label",{class:"block text-sm font-medium text-gray-700"},"Estado",-1)),e("span",{class:S([ce(p.value.estado),"inline-flex items-center px-2.5 py-1 rounded-full text-xs font-medium mt-1"])},r(pe(p.value.estado)),3)])]),e("div",Ds,[e("div",null,[t[94]||(t[94]=e("label",{class:"block text-sm font-medium text-gray-700"},"Kilometraje Actual",-1)),e("p",Rs,r(y(p.value.kilometraje_actual||0))+" km",1)]),e("div",null,[t[95]||(t[95]=e("label",{class:"block text-sm font-medium text-gray-700"},"Costo",-1)),e("p",Ls,"$"+r(y(p.value.costo||0)),1)]),e("div",null,[t[96]||(t[96]=e("label",{class:"block text-sm font-medium text-gray-700"},"Fecha de Creación",-1)),e("p",Hs,r(_(p.value.created_at)),1)]),e("div",null,[t[97]||(t[97]=e("label",{class:"block text-sm font-medium text-gray-700"},"Última Actualización",-1)),e("p",Fs,r(_(p.value.updated_at)),1)])])]),p.value.descripcion?(n(),l("div",Is,[t[98]||(t[98]=e("label",{class:"block text-sm font-medium text-gray-700"},"Descripción",-1)),e("p",qs,r(p.value.descripcion),1)])):u("",!0),p.value.notas?(n(),l("div",Us,[t[99]||(t[99]=e("label",{class:"block text-sm font-medium text-gray-700"},"Notas",-1)),e("p",Os,r(p.value.notas),1)])):u("",!0)])])):u("",!0),$.value==="confirm"?(n(),l("div",Gs,[e("div",Xs,[t[102]||(t[102]=e("div",{class:"w-12 h-12 mx-auto bg-red-100 rounded-full flex items-center justify-center mb-4"},[e("svg",{class:"w-6 h-6 text-red-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L4.082 16.5c-.77.833.192 2.5 1.732 2.5z"})])],-1)),t[103]||(t[103]=e("h3",{class:"text-lg font-medium text-gray-900 mb-2"},"¿Eliminar Mantenimiento?",-1)),e("p",Ks,[t[100]||(t[100]=f(" ¿Estás seguro de que deseas eliminar el mantenimiento ")),e("strong",null,r((i=p.value)==null?void 0:i.tipo),1),t[101]||(t[101]=f("? Esta acción no se puede deshacer. "))])])])):u("",!0)]),e("div",Js,[e("button",{onClick:t[17]||(t[17]=o=>T.value=!1),class:"px-4 py-2 bg-gray-300 text-gray-700 rounded-lg hover:bg-gray-400 transition-colors"},r($.value==="details"?"Cerrar":"Cancelar"),1),$.value==="details"?(n(),l("div",Zs,[e("button",{onClick:t[18]||(t[18]=o=>ie(p.value.id)),class:"px-4 py-2 bg-amber-600 text-white rounded-lg hover:bg-amber-700 transition-colors"}," Editar ")])):u("",!0),$.value==="confirm"?(n(),l("button",{key:1,onClick:Ne,class:"px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors"}," Eliminar ")):u("",!0)])])])):u("",!0),oe.value?(n(),l("div",{key:2,class:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",onClick:ee(q,["self"])},[e("div",Ws,[e("div",Qs,[e("div",null,[e("h3",Ys,r(((a=d.value)==null?void 0:a.raw.estado)==="completado"?"Programar Siguiente Mantenimiento":"Reprogramar Mantenimiento"),1),d.value?(n(),l("p",er,r(d.value.titulo)+" - "+r((g=d.value.raw.carro)==null?void 0:g.marca)+" "+r((h=d.value.raw.carro)==null?void 0:h.modelo),1)):u("",!0),((B=d.value)==null?void 0:B.raw.estado)==="completado"?(n(),l("p",tr," Servicio completado: "+r(_(d.value.raw.fecha)),1)):(n(),l("p",or," Último servicio realizado: "+r(_(d.value.raw.fecha)),1))]),e("button",{onClick:q,class:"text-gray-400 hover:text-gray-600 transition-colors"},t[104]||(t[104]=[e("svg",{class:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)]))]),e("div",sr,[e("form",{onSubmit:ee(De,["prevent"]),class:"space-y-4"},[e("div",null,[t[106]||(t[106]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},[f(" Costo del Último Servicio "),e("span",{class:"text-red-500"},"*")],-1)),e("div",rr,[t[105]||(t[105]=e("div",{class:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none"},[e("span",{class:"text-gray-500 sm:text-sm"},"$")],-1)),E(e("input",{"onUpdate:modelValue":t[20]||(t[20]=o=>H.value=o),type:"number",step:"0.01",min:"0",max:"999999.99",class:"w-full pl-8 pr-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:border-blue-500 focus:ring-4 focus:ring-blue-500/10",placeholder:"0.00",required:""},null,512),[[re,H.value,void 0,{number:!0}]])]),t[107]||(t[107]=e("p",{class:"text-xs text-gray-500 mt-1"},"Ingrese el costo total del mantenimiento realizado",-1))]),e("div",null,[t[108]||(t[108]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},[f(" Fecha del Próximo Mantenimiento "),e("span",{class:"text-red-500"},"*")],-1)),E(e("input",{"onUpdate:modelValue":t[21]||(t[21]=o=>N.value=o),type:"date",class:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:border-blue-500 focus:ring-4 focus:ring-blue-500/10",min:new Date().toISOString().split("T")[0],required:""},null,8,ar),[[re,N.value]]),t[109]||(t[109]=e("p",{class:"text-xs text-gray-500 mt-1"},"Seleccione cuándo debe realizarse el próximo mantenimiento",-1))]),d.value?(n(),l("div",lr,[t[114]||(t[114]=e("h4",{class:"text-sm font-medium text-gray-900 mb-2"},"Información del Mantenimiento",-1)),e("div",nr,[e("div",null,[t[110]||(t[110]=e("strong",null,"Vehículo:",-1)),f(" "+r((O=d.value.raw.carro)==null?void 0:O.marca)+" "+r((G=d.value.raw.carro)==null?void 0:G.modelo),1)]),e("div",null,[t[111]||(t[111]=e("strong",null,"Tipo:",-1)),f(" "+r(d.value.titulo),1)]),e("div",null,[t[112]||(t[112]=e("strong",null,"Fecha del servicio:",-1)),f(" "+r(_(d.value.raw.fecha)),1)]),d.value.raw.kilometraje_actual?(n(),l("div",ir,[t[113]||(t[113]=e("strong",null,"Kilometraje:",-1)),f(" "+r(y(d.value.raw.kilometraje_actual))+" km ",1)])):u("",!0)])])):u("",!0),e("div",dr,[e("button",{type:"button",onClick:q,class:"px-4 py-2 bg-gray-300 text-gray-700 rounded-lg hover:bg-gray-400 transition-colors"}," Cancelar "),e("button",ur,[t[115]||(t[115]=e("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})],-1)),f(" "+r(((he=d.value)==null?void 0:he.raw.estado)==="completado"?"Programar Siguiente":"Reprogramar Mantenimiento"),1)])])],32)])])])):u("",!0)])])])}}}),br=Qe(cr,[["__scopeId","data-v-4039fee7"]]);export{br as default};
